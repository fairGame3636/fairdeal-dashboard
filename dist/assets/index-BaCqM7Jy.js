var np=Object.defineProperty;var rp=(e,t,n)=>t in e?np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wu=(e,t,n)=>rp(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $d={exports:{}},Qo={},Hd={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),sp=Symbol.for("react.portal"),op=Symbol.for("react.fragment"),ap=Symbol.for("react.strict_mode"),lp=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),up=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),fp=Symbol.for("react.memo"),mp=Symbol.for("react.lazy"),qu=Symbol.iterator;function hp(e){return e===null||typeof e!="object"?null:(e=qu&&e[qu]||e["@@iterator"],typeof e=="function"?e:null)}var Vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wd=Object.assign,qd={};function yr(e,t,n){this.props=e,this.context=t,this.refs=qd,this.updater=n||Vd}yr.prototype.isReactComponent={};yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kd(){}Kd.prototype=yr.prototype;function Ri(e,t,n){this.props=e,this.context=t,this.refs=qd,this.updater=n||Vd}var _i=Ri.prototype=new Kd;_i.constructor=Ri;Wd(_i,yr.prototype);_i.isPureReactComponent=!0;var Ku=Array.isArray,Gd=Object.prototype.hasOwnProperty,Ti={current:null},Qd={key:!0,ref:!0,__self:!0,__source:!0};function Yd(e,t,n){var r,s={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Gd.call(t,r)&&!Qd.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:ws,type:e,key:a,ref:l,props:s,_owner:Ti.current}}function pp(e,t){return{$$typeof:ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Li(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function gp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gu=/\/+/g;function Sa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gp(""+e.key):t.toString(36)}function to(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ws:case sp:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Sa(l,0):r,Ku(s)?(n="",e!=null&&(n=e.replace(Gu,"$&/")+"/"),to(s,t,n,"",function(c){return c})):s!=null&&(Li(s)&&(s=pp(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Gu,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Ku(e))for(var i=0;i<e.length;i++){a=e[i];var u=r+Sa(a,i);l+=to(a,t,n,u,s)}else if(u=hp(e),typeof u=="function")for(e=u.call(e),i=0;!(a=e.next()).done;)a=a.value,u=r+Sa(a,i++),l+=to(a,t,n,u,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ls(e,t,n){if(e==null)return e;var r=[],s=0;return to(e,r,"","",function(a){return t.call(n,a,s++)}),r}function xp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},no={transition:null},yp={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:no,ReactCurrentOwner:Ti};function Jd(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Ls,forEach:function(e,t,n){Ls(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ls(e,function(){t++}),t},toArray:function(e){return Ls(e,function(t){return t})||[]},only:function(e){if(!Li(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=yr;ne.Fragment=op;ne.Profiler=lp;ne.PureComponent=Ri;ne.StrictMode=ap;ne.Suspense=dp;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yp;ne.act=Jd;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wd({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Ti.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Gd.call(t,u)&&!Qd.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:ws,type:e.type,key:s,ref:a,props:r,_owner:l}};ne.createContext=function(e){return e={$$typeof:up,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ip,_context:e},e.Consumer=e};ne.createElement=Yd;ne.createFactory=function(e){var t=Yd.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:cp,render:e}};ne.isValidElement=Li;ne.lazy=function(e){return{$$typeof:mp,_payload:{_status:-1,_result:e},_init:xp}};ne.memo=function(e,t){return{$$typeof:fp,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=no.transition;no.transition={};try{e()}finally{no.transition=t}};ne.unstable_act=Jd;ne.useCallback=function(e,t){return He.current.useCallback(e,t)};ne.useContext=function(e){return He.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return He.current.useDeferredValue(e)};ne.useEffect=function(e,t){return He.current.useEffect(e,t)};ne.useId=function(){return He.current.useId()};ne.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return He.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};ne.useRef=function(e){return He.current.useRef(e)};ne.useState=function(e){return He.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return He.current.useTransition()};ne.version="18.3.1";Hd.exports=ne;var f=Hd.exports;const Yo=zd(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=f,wp=Symbol.for("react.element"),bp=Symbol.for("react.fragment"),Np=Object.prototype.hasOwnProperty,jp=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sp={key:!0,ref:!0,__self:!0,__source:!0};function Xd(e,t,n){var r,s={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Np.call(t,r)&&!Sp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wp,type:e,key:a,ref:l,props:s,_owner:jp.current}}Qo.Fragment=bp;Qo.jsx=Xd;Qo.jsxs=Xd;$d.exports=Qo;var o=$d.exports,jl={},Zd={exports:{}},rt={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,L){var k=C.length;C.push(L);e:for(;0<k;){var O=k-1>>>1,I=C[O];if(0<s(I,L))C[O]=L,C[k]=I,k=O;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var L=C[0],k=C.pop();if(k!==L){C[0]=k;e:for(var O=0,I=C.length,J=I>>>1;O<J;){var q=2*(O+1)-1,Y=C[q],ee=q+1,K=C[ee];if(0>s(Y,k))ee<I&&0>s(K,Y)?(C[O]=K,C[ee]=k,O=ee):(C[O]=Y,C[q]=k,O=q);else if(ee<I&&0>s(K,k))C[O]=K,C[ee]=k,O=ee;else break e}}return L}function s(C,L){var k=C.sortIndex-L.sortIndex;return k!==0?k:C.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var u=[],c=[],d=1,m=null,x=3,E=!1,h=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=C)r(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(c)}}function N(C){if(b=!1,y(C),!h)if(n(u)!==null)h=!0,H(P);else{var L=n(c);L!==null&&U(N,L.startTime-C)}}function P(C,L){h=!1,b&&(b=!1,g(S),S=-1),E=!0;var k=x;try{for(y(L),m=n(u);m!==null&&(!(m.expirationTime>L)||C&&!_());){var O=m.callback;if(typeof O=="function"){m.callback=null,x=m.priorityLevel;var I=O(m.expirationTime<=L);L=e.unstable_now(),typeof I=="function"?m.callback=I:m===n(u)&&r(u),y(L)}else r(u);m=n(u)}if(m!==null)var J=!0;else{var q=n(c);q!==null&&U(N,q.startTime-L),J=!1}return J}finally{m=null,x=k,E=!1}}var w=!1,R=null,S=-1,D=5,v=-1;function _(){return!(e.unstable_now()-v<D)}function A(){if(R!==null){var C=e.unstable_now();v=C;var L=!0;try{L=R(!0,C)}finally{L?z():(w=!1,R=null)}}else w=!1}var z;if(typeof p=="function")z=function(){p(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=A,z=function(){W.postMessage(null)}}else z=function(){j(A,0)};function H(C){R=C,w||(w=!0,z())}function U(C,L){S=j(function(){C(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){h||E||(h=!0,H(P))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(C){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var k=x;x=L;try{return C()}finally{x=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var k=x;x=C;try{return L()}finally{x=k}},e.unstable_scheduleCallback=function(C,L,k){var O=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?O+k:O):k=O,C){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=k+I,C={id:d++,callback:L,priorityLevel:C,startTime:k,expirationTime:I,sortIndex:-1},k>O?(C.sortIndex=k,t(c,C),n(u)===null&&C===n(c)&&(b?(g(S),S=-1):b=!0,U(N,k-O))):(C.sortIndex=I,t(u,C),h||E||(h=!0,H(P))),C},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(C){var L=x;return function(){var k=x;x=L;try{return C.apply(this,arguments)}finally{x=k}}}})(tf);ef.exports=tf;var kp=ef.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=f,nt=kp;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nf=new Set,ns={};function Un(e,t){ur(e,t),ur(e+"Capture",t)}function ur(e,t){for(ns[e]=t,e=0;e<t.length;e++)nf.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=Object.prototype.hasOwnProperty,Cp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qu={},Yu={};function Pp(e){return Sl.call(Yu,e)?!0:Sl.call(Qu,e)?!1:Cp.test(e)?Yu[e]=!0:(Qu[e]=!0,!1)}function Rp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _p(e,t,n,r){if(t===null||typeof t>"u"||Rp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ai=/[\-:]([a-z])/g;function Di(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ai,Di);Ae[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ai,Di);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ai,Di);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oi(e,t,n,r){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_p(t,n,s,r)&&(n=null),r||s===null?Pp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),Ii=Symbol.for("react.strict_mode"),kl=Symbol.for("react.profiler"),rf=Symbol.for("react.provider"),sf=Symbol.for("react.context"),Ui=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),Cl=Symbol.for("react.suspense_list"),Fi=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),of=Symbol.for("react.offscreen"),Ju=Symbol.iterator;function Pr(e){return e===null||typeof e!="object"?null:(e=Ju&&e[Ju]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,ka;function zr(e){if(ka===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ka=t&&t[1]||""}return`
`+ka+e}var Ea=!1;function Ca(e,t){if(!e||Ea)return"";Ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=r.stack.split(`
`),l=s.length-1,i=a.length-1;1<=l&&0<=i&&s[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==a[i]){if(l!==1||i!==1)do if(l--,i--,0>i||s[l]!==a[i]){var u=`
`+s[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=i);break}}}finally{Ea=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zr(e):""}function Tp(e){switch(e.tag){case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return e=Ca(e.type,!1),e;case 11:return e=Ca(e.type.render,!1),e;case 1:return e=Ca(e.type,!0),e;default:return""}}function Pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case Vn:return"Portal";case kl:return"Profiler";case Ii:return"StrictMode";case El:return"Suspense";case Cl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sf:return(e.displayName||"Context")+".Consumer";case rf:return(e._context.displayName||"Context")+".Provider";case Ui:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fi:return t=e.displayName||null,t!==null?t:Pl(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return Pl(e(t))}catch{}}return null}function Lp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pl(t);case 8:return t===Ii?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ap(e){var t=af(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ds(e){e._valueTracker||(e._valueTracker=Ap(e))}function lf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=af(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rl(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uf(e,t){t=t.checked,t!=null&&Oi(e,"checked",t,!1)}function _l(e,t){uf(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tl(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tl(e,t,n){(t!=="number"||jo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $r=Array.isArray;function rr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ll(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ec(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if($r(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function cf(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function df(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?df(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Os,ff=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dp=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){Dp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function mf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function hf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Op=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(e,t){if(t){if(Op[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function Bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ul=null,sr=null,or=null;function nc(e){if(e=js(e)){if(typeof Ul!="function")throw Error(B(280));var t=e.stateNode;t&&(t=ta(t),Ul(e.stateNode,e.type,t))}}function pf(e){sr?or?or.push(e):or=[e]:sr=e}function gf(){if(sr){var e=sr,t=or;if(or=sr=null,nc(e),t)for(e=0;e<t.length;e++)nc(t[e])}}function xf(e,t){return e(t)}function yf(){}var Pa=!1;function vf(e,t,n){if(Pa)return e(t,n);Pa=!0;try{return xf(e,t,n)}finally{Pa=!1,(sr!==null||or!==null)&&(yf(),gf())}}function ss(e,t){var n=e.stateNode;if(n===null)return null;var r=ta(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Fl=!1;if(Ht)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Fl=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Fl=!1}function Ip(e,t,n,r,s,a,l,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Gr=!1,So=null,ko=!1,Bl=null,Up={onError:function(e){Gr=!0,So=e}};function Fp(e,t,n,r,s,a,l,i,u){Gr=!1,So=null,Ip.apply(Up,arguments)}function Bp(e,t,n,r,s,a,l,i,u){if(Fp.apply(this,arguments),Gr){if(Gr){var c=So;Gr=!1,So=null}else throw Error(B(198));ko||(ko=!0,Bl=c)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rc(e){if(Fn(e)!==e)throw Error(B(188))}function Mp(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return rc(s),e;if(a===r)return rc(s),t;a=a.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,i=s.child;i;){if(i===n){l=!0,n=s,r=a;break}if(i===r){l=!0,r=s,n=a;break}i=i.sibling}if(!l){for(i=a.child;i;){if(i===n){l=!0,n=a,r=s;break}if(i===r){l=!0,r=a,n=s;break}i=i.sibling}if(!l)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function bf(e){return e=Mp(e),e!==null?Nf(e):null}function Nf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nf(e);if(t!==null)return t;e=e.sibling}return null}var jf=nt.unstable_scheduleCallback,sc=nt.unstable_cancelCallback,zp=nt.unstable_shouldYield,$p=nt.unstable_requestPaint,Ne=nt.unstable_now,Hp=nt.unstable_getCurrentPriorityLevel,Mi=nt.unstable_ImmediatePriority,Sf=nt.unstable_UserBlockingPriority,Eo=nt.unstable_NormalPriority,Vp=nt.unstable_LowPriority,kf=nt.unstable_IdlePriority,Jo=null,Tt=null;function Wp(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Jo,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:Gp,qp=Math.log,Kp=Math.LN2;function Gp(e){return e>>>=0,e===0?32:31-(qp(e)/Kp|0)|0}var Is=64,Us=4194304;function Hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Co(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~s;i!==0?r=Hr(i):(a&=l,a!==0&&(r=Hr(a)))}else l=n&~s,l!==0?r=Hr(l):a!==0&&(r=Hr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vt(t),s=1<<n,r|=e[n],t&=~s;return r}function Qp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-vt(a),i=1<<l,u=s[l];u===-1?(!(i&n)||i&r)&&(s[l]=Qp(i,t)):u<=t&&(e.expiredLanes|=i),a&=~i}}function Ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ef(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function Ra(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function Jp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-vt(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function zi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ie=0;function Cf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pf,$i,Rf,_f,Tf,zl=!1,Fs=[],rn=null,sn=null,on=null,os=new Map,as=new Map,Zt=[],Xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(t.pointerId)}}function _r(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=js(t),t!==null&&$i(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zp(e,t,n,r,s){switch(t){case"focusin":return rn=_r(rn,e,t,n,r,s),!0;case"dragenter":return sn=_r(sn,e,t,n,r,s),!0;case"mouseover":return on=_r(on,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return os.set(a,_r(os.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,as.set(a,_r(as.get(a)||null,e,t,n,r,s)),!0}return!1}function Lf(e){var t=jn(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=wf(n),t!==null){e.blockedOn=t,Tf(e.priority,function(){Rf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ro(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$l(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Il=r,n.target.dispatchEvent(r),Il=null}else return t=js(n),t!==null&&$i(t),e.blockedOn=n,!1;t.shift()}return!0}function ac(e,t,n){ro(e)&&n.delete(t)}function eg(){zl=!1,rn!==null&&ro(rn)&&(rn=null),sn!==null&&ro(sn)&&(sn=null),on!==null&&ro(on)&&(on=null),os.forEach(ac),as.forEach(ac)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,zl||(zl=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,eg)))}function ls(e){function t(s){return Tr(s,e)}if(0<Fs.length){Tr(Fs[0],e);for(var n=1;n<Fs.length;n++){var r=Fs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&Tr(rn,e),sn!==null&&Tr(sn,e),on!==null&&Tr(on,e),os.forEach(t),as.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Lf(n),n.blockedOn===null&&Zt.shift()}var ar=Gt.ReactCurrentBatchConfig,Po=!0;function tg(e,t,n,r){var s=ie,a=ar.transition;ar.transition=null;try{ie=1,Hi(e,t,n,r)}finally{ie=s,ar.transition=a}}function ng(e,t,n,r){var s=ie,a=ar.transition;ar.transition=null;try{ie=4,Hi(e,t,n,r)}finally{ie=s,ar.transition=a}}function Hi(e,t,n,r){if(Po){var s=$l(e,t,n,r);if(s===null)Ba(e,t,r,Ro,n),oc(e,r);else if(Zp(s,e,t,n,r))r.stopPropagation();else if(oc(e,r),t&4&&-1<Xp.indexOf(e)){for(;s!==null;){var a=js(s);if(a!==null&&Pf(a),a=$l(e,t,n,r),a===null&&Ba(e,t,r,Ro,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Ba(e,t,r,null,n)}}var Ro=null;function $l(e,t,n,r){if(Ro=null,e=Bi(r),e=jn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ro=e,null}function Af(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hp()){case Mi:return 1;case Sf:return 4;case Eo:case Vp:return 16;case kf:return 536870912;default:return 16}default:return 16}}var tn=null,Vi=null,so=null;function Df(){if(so)return so;var e,t=Vi,n=t.length,r,s="value"in tn?tn.value:tn.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[a-r];r++);return so=s.slice(e,1<r?1-r:void 0)}function oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function lc(){return!1}function st(e){function t(n,r,s,a,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bs:lc,this.isPropagationStopped=lc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=st(vr),Ns=ve({},vr,{view:0,detail:0}),rg=st(Ns),_a,Ta,Lr,Xo=ve({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(_a=e.screenX-Lr.screenX,Ta=e.screenY-Lr.screenY):Ta=_a=0,Lr=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),ic=st(Xo),sg=ve({},Xo,{dataTransfer:0}),og=st(sg),ag=ve({},Ns,{relatedTarget:0}),La=st(ag),lg=ve({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),ig=st(lg),ug=ve({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cg=st(ug),dg=ve({},vr,{data:0}),uc=st(dg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function qi(){return pg}var gg=ve({},Ns,{key:function(e){if(e.key){var t=fg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(e){return e.type==="keypress"?oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xg=st(gg),yg=ve({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=st(yg),vg=ve({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),wg=st(vg),bg=ve({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ng=st(bg),jg=ve({},Xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sg=st(jg),kg=[9,13,27,32],Ki=Ht&&"CompositionEvent"in window,Qr=null;Ht&&"documentMode"in document&&(Qr=document.documentMode);var Eg=Ht&&"TextEvent"in window&&!Qr,Of=Ht&&(!Ki||Qr&&8<Qr&&11>=Qr),dc=" ",fc=!1;function If(e,t){switch(e){case"keyup":return kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function Cg(e,t){switch(e){case"compositionend":return Uf(t);case"keypress":return t.which!==32?null:(fc=!0,dc);case"textInput":return e=t.data,e===dc&&fc?null:e;default:return null}}function Pg(e,t){if(qn)return e==="compositionend"||!Ki&&If(e,t)?(e=Df(),so=Vi=tn=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Of&&t.locale!=="ko"?null:t.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rg[e.type]:t==="textarea"}function Ff(e,t,n,r){pf(r),t=_o(t,"onChange"),0<t.length&&(n=new Wi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yr=null,is=null;function _g(e){Qf(e,0)}function Zo(e){var t=Qn(e);if(lf(t))return e}function Tg(e,t){if(e==="change")return t}var Bf=!1;if(Ht){var Aa;if(Ht){var Da="oninput"in document;if(!Da){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),Da=typeof hc.oninput=="function"}Aa=Da}else Aa=!1;Bf=Aa&&(!document.documentMode||9<document.documentMode)}function pc(){Yr&&(Yr.detachEvent("onpropertychange",Mf),is=Yr=null)}function Mf(e){if(e.propertyName==="value"&&Zo(is)){var t=[];Ff(t,is,e,Bi(e)),vf(_g,t)}}function Lg(e,t,n){e==="focusin"?(pc(),Yr=t,is=n,Yr.attachEvent("onpropertychange",Mf)):e==="focusout"&&pc()}function Ag(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(is)}function Dg(e,t){if(e==="click")return Zo(t)}function Og(e,t){if(e==="input"||e==="change")return Zo(t)}function Ig(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Ig;function us(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sl.call(t,s)||!Nt(e[s],t[s]))return!1}return!0}function gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xc(e,t){var n=gc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gc(n)}}function zf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $f(){for(var e=window,t=jo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jo(e.document)}return t}function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ug(e){var t=$f(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zf(n.ownerDocument.documentElement,n)){if(r!==null&&Gi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=xc(n,a);var l=xc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fg=Ht&&"documentMode"in document&&11>=document.documentMode,Kn=null,Hl=null,Jr=null,Vl=!1;function yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vl||Kn==null||Kn!==jo(r)||(r=Kn,"selectionStart"in r&&Gi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jr&&us(Jr,r)||(Jr=r,r=_o(Hl,"onSelect"),0<r.length&&(t=new Wi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Kn)))}function Ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},Oa={},Hf={};Ht&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function ea(e){if(Oa[e])return Oa[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hf)return Oa[e]=t[n];return e}var Vf=ea("animationend"),Wf=ea("animationiteration"),qf=ea("animationstart"),Kf=ea("transitionend"),Gf=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){Gf.set(e,t),Un(t,[e])}for(var Ia=0;Ia<vc.length;Ia++){var Ua=vc[Ia],Bg=Ua.toLowerCase(),Mg=Ua[0].toUpperCase()+Ua.slice(1);pn(Bg,"on"+Mg)}pn(Vf,"onAnimationEnd");pn(Wf,"onAnimationIteration");pn(qf,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(Kf,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vr));function wc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bp(r,t,void 0,e),e.currentTarget=null}function Qf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==a&&s.isPropagationStopped())break e;wc(s,i,c),a=u}else for(l=0;l<r.length;l++){if(i=r[l],u=i.instance,c=i.currentTarget,i=i.listener,u!==a&&s.isPropagationStopped())break e;wc(s,i,c),a=u}}}if(ko)throw e=Bl,ko=!1,Bl=null,e}function fe(e,t){var n=t[Ql];n===void 0&&(n=t[Ql]=new Set);var r=e+"__bubble";n.has(r)||(Yf(t,e,2,!1),n.add(r))}function Fa(e,t,n){var r=0;t&&(r|=4),Yf(n,e,r,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[zs]){e[zs]=!0,nf.forEach(function(n){n!=="selectionchange"&&(zg.has(n)||Fa(n,!1,e),Fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zs]||(t[zs]=!0,Fa("selectionchange",!1,t))}}function Yf(e,t,n,r){switch(Af(t)){case 1:var s=tg;break;case 4:s=ng;break;default:s=Hi}n=s.bind(null,t,n,e),s=void 0,!Fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ba(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;i!==null;){if(l=jn(i),l===null)return;if(u=l.tag,u===5||u===6){r=a=l;continue e}i=i.parentNode}}r=r.return}vf(function(){var c=a,d=Bi(n),m=[];e:{var x=Gf.get(e);if(x!==void 0){var E=Wi,h=e;switch(e){case"keypress":if(oo(n)===0)break e;case"keydown":case"keyup":E=xg;break;case"focusin":h="focus",E=La;break;case"focusout":h="blur",E=La;break;case"beforeblur":case"afterblur":E=La;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=wg;break;case Vf:case Wf:case qf:E=ig;break;case Kf:E=Ng;break;case"scroll":E=rg;break;case"wheel":E=Sg;break;case"copy":case"cut":case"paste":E=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=cc}var b=(t&4)!==0,j=!b&&e==="scroll",g=b?x!==null?x+"Capture":null:x;b=[];for(var p=c,y;p!==null;){y=p;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,g!==null&&(N=ss(p,g),N!=null&&b.push(ds(p,N,y)))),j)break;p=p.return}0<b.length&&(x=new E(x,h,null,n,d),m.push({event:x,listeners:b}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",x&&n!==Il&&(h=n.relatedTarget||n.fromElement)&&(jn(h)||h[Vt]))break e;if((E||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,E?(h=n.relatedTarget||n.toElement,E=c,h=h?jn(h):null,h!==null&&(j=Fn(h),h!==j||h.tag!==5&&h.tag!==6)&&(h=null)):(E=null,h=c),E!==h)){if(b=ic,N="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=cc,N="onPointerLeave",g="onPointerEnter",p="pointer"),j=E==null?x:Qn(E),y=h==null?x:Qn(h),x=new b(N,p+"leave",E,n,d),x.target=j,x.relatedTarget=y,N=null,jn(d)===c&&(b=new b(g,p+"enter",h,n,d),b.target=y,b.relatedTarget=j,N=b),j=N,E&&h)t:{for(b=E,g=h,p=0,y=b;y;y=Mn(y))p++;for(y=0,N=g;N;N=Mn(N))y++;for(;0<p-y;)b=Mn(b),p--;for(;0<y-p;)g=Mn(g),y--;for(;p--;){if(b===g||g!==null&&b===g.alternate)break t;b=Mn(b),g=Mn(g)}b=null}else b=null;E!==null&&bc(m,x,E,b,!1),h!==null&&j!==null&&bc(m,j,h,b,!0)}}e:{if(x=c?Qn(c):window,E=x.nodeName&&x.nodeName.toLowerCase(),E==="select"||E==="input"&&x.type==="file")var P=Tg;else if(mc(x))if(Bf)P=Og;else{P=Ag;var w=Lg}else(E=x.nodeName)&&E.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(P=Dg);if(P&&(P=P(e,c))){Ff(m,P,n,d);break e}w&&w(e,x,c),e==="focusout"&&(w=x._wrapperState)&&w.controlled&&x.type==="number"&&Tl(x,"number",x.value)}switch(w=c?Qn(c):window,e){case"focusin":(mc(w)||w.contentEditable==="true")&&(Kn=w,Hl=c,Jr=null);break;case"focusout":Jr=Hl=Kn=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,yc(m,n,d);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":yc(m,n,d)}var R;if(Ki)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else qn?If(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Of&&n.locale!=="ko"&&(qn||S!=="onCompositionStart"?S==="onCompositionEnd"&&qn&&(R=Df()):(tn=d,Vi="value"in tn?tn.value:tn.textContent,qn=!0)),w=_o(c,S),0<w.length&&(S=new uc(S,e,null,n,d),m.push({event:S,listeners:w}),R?S.data=R:(R=Uf(n),R!==null&&(S.data=R)))),(R=Eg?Cg(e,n):Pg(e,n))&&(c=_o(c,"onBeforeInput"),0<c.length&&(d=new uc("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=R))}Qf(m,t)})}function ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _o(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ss(e,n),a!=null&&r.unshift(ds(e,a,s)),a=ss(e,t),a!=null&&r.push(ds(e,a,s))),e=e.return}return r}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,n,r,s){for(var a=t._reactName,l=[];n!==null&&n!==r;){var i=n,u=i.alternate,c=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&c!==null&&(i=c,s?(u=ss(n,a),u!=null&&l.unshift(ds(n,u,i))):s||(u=ss(n,a),u!=null&&l.push(ds(n,u,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var $g=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function Nc(e){return(typeof e=="string"?e:""+e).replace($g,`
`).replace(Hg,"")}function $s(e,t,n){if(t=Nc(t),Nc(e)!==t&&n)throw Error(B(425))}function To(){}var Wl=null,ql=null;function Kl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,Wg=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(qg)}:Gl;function qg(e){setTimeout(function(){throw e})}function Ma(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ls(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ls(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wr=Math.random().toString(36).slice(2),_t="__reactFiber$"+wr,fs="__reactProps$"+wr,Vt="__reactContainer$"+wr,Ql="__reactEvents$"+wr,Kg="__reactListeners$"+wr,Gg="__reactHandles$"+wr;function jn(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sc(e);e!==null;){if(n=e[_t])return n;e=Sc(e)}return t}e=n,n=e.parentNode}return null}function js(e){return e=e[_t]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function ta(e){return e[fs]||null}var Yl=[],Yn=-1;function gn(e){return{current:e}}function me(e){0>Yn||(e.current=Yl[Yn],Yl[Yn]=null,Yn--)}function de(e,t){Yn++,Yl[Yn]=e.current,e.current=t}var hn={},Fe=gn(hn),Ge=gn(!1),_n=hn;function cr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function Lo(){me(Ge),me(Fe)}function kc(e,t,n){if(Fe.current!==hn)throw Error(B(168));de(Fe,t),de(Ge,n)}function Jf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,Lp(e)||"Unknown",s));return ve({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,_n=Fe.current,de(Fe,e),de(Ge,Ge.current),!0}function Ec(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Jf(e,t,_n),r.__reactInternalMemoizedMergedChildContext=e,me(Ge),me(Fe),de(Fe,e)):me(Ge),de(Ge,n)}var Ft=null,na=!1,za=!1;function Xf(e){Ft===null?Ft=[e]:Ft.push(e)}function Qg(e){na=!0,Xf(e)}function xn(){if(!za&&Ft!==null){za=!0;var e=0,t=ie;try{var n=Ft;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ft=null,na=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(e+1)),jf(Mi,xn),s}finally{ie=t,za=!1}}return null}var Jn=[],Xn=0,Do=null,Oo=0,at=[],lt=0,Tn=null,Bt=1,Mt="";function bn(e,t){Jn[Xn++]=Oo,Jn[Xn++]=Do,Do=e,Oo=t}function Zf(e,t,n){at[lt++]=Bt,at[lt++]=Mt,at[lt++]=Tn,Tn=e;var r=Bt;e=Mt;var s=32-vt(r)-1;r&=~(1<<s),n+=1;var a=32-vt(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Bt=1<<32-vt(t)+s|n<<s|r,Mt=a+e}else Bt=1<<a|n<<s|r,Mt=e}function Qi(e){e.return!==null&&(bn(e,1),Zf(e,1,0))}function Yi(e){for(;e===Do;)Do=Jn[--Xn],Jn[Xn]=null,Oo=Jn[--Xn],Jn[Xn]=null;for(;e===Tn;)Tn=at[--lt],at[lt]=null,Mt=at[--lt],at[lt]=null,Bt=at[--lt],at[lt]=null}var tt=null,et=null,he=!1,yt=null;function em(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tn!==null?{id:Bt,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xl(e){if(he){var t=et;if(t){var n=t;if(!Cc(e,t)){if(Jl(e))throw Error(B(418));t=an(n.nextSibling);var r=tt;t&&Cc(e,t)?em(r,n):(e.flags=e.flags&-4097|2,he=!1,tt=e)}}else{if(Jl(e))throw Error(B(418));e.flags=e.flags&-4097|2,he=!1,tt=e}}}function Pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Hs(e){if(e!==tt)return!1;if(!he)return Pc(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kl(e.type,e.memoizedProps)),t&&(t=et)){if(Jl(e))throw tm(),Error(B(418));for(;t;)em(e,t),t=an(t.nextSibling)}if(Pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=an(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?an(e.stateNode.nextSibling):null;return!0}function tm(){for(var e=et;e;)e=an(e.nextSibling)}function dr(){et=tt=null,he=!1}function Ji(e){yt===null?yt=[e]:yt.push(e)}var Yg=Gt.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var i=s.refs;l===null?delete i[a]:i[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rc(e){var t=e._init;return t(e._payload)}function nm(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=dn(g,p),g.index=0,g.sibling=null,g}function a(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,p,y,N){return p===null||p.tag!==6?(p=Ga(y,g.mode,N),p.return=g,p):(p=s(p,y),p.return=g,p)}function u(g,p,y,N){var P=y.type;return P===Wn?d(g,p,y.props.children,N,y.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Jt&&Rc(P)===p.type)?(N=s(p,y.props),N.ref=Ar(g,p,y),N.return=g,N):(N=mo(y.type,y.key,y.props,null,g.mode,N),N.ref=Ar(g,p,y),N.return=g,N)}function c(g,p,y,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Qa(y,g.mode,N),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,N,P){return p===null||p.tag!==7?(p=Pn(y,g.mode,N,P),p.return=g,p):(p=s(p,y),p.return=g,p)}function m(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ga(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case As:return y=mo(p.type,p.key,p.props,null,g.mode,y),y.ref=Ar(g,null,p),y.return=g,y;case Vn:return p=Qa(p,g.mode,y),p.return=g,p;case Jt:var N=p._init;return m(g,N(p._payload),y)}if($r(p)||Pr(p))return p=Pn(p,g.mode,y,null),p.return=g,p;Vs(g,p)}return null}function x(g,p,y,N){var P=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return P!==null?null:i(g,p,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case As:return y.key===P?u(g,p,y,N):null;case Vn:return y.key===P?c(g,p,y,N):null;case Jt:return P=y._init,x(g,p,P(y._payload),N)}if($r(y)||Pr(y))return P!==null?null:d(g,p,y,N,null);Vs(g,y)}return null}function E(g,p,y,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(y)||null,i(p,g,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case As:return g=g.get(N.key===null?y:N.key)||null,u(p,g,N,P);case Vn:return g=g.get(N.key===null?y:N.key)||null,c(p,g,N,P);case Jt:var w=N._init;return E(g,p,y,w(N._payload),P)}if($r(N)||Pr(N))return g=g.get(y)||null,d(p,g,N,P,null);Vs(p,N)}return null}function h(g,p,y,N){for(var P=null,w=null,R=p,S=p=0,D=null;R!==null&&S<y.length;S++){R.index>S?(D=R,R=null):D=R.sibling;var v=x(g,R,y[S],N);if(v===null){R===null&&(R=D);break}e&&R&&v.alternate===null&&t(g,R),p=a(v,p,S),w===null?P=v:w.sibling=v,w=v,R=D}if(S===y.length)return n(g,R),he&&bn(g,S),P;if(R===null){for(;S<y.length;S++)R=m(g,y[S],N),R!==null&&(p=a(R,p,S),w===null?P=R:w.sibling=R,w=R);return he&&bn(g,S),P}for(R=r(g,R);S<y.length;S++)D=E(R,g,S,y[S],N),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?S:D.key),p=a(D,p,S),w===null?P=D:w.sibling=D,w=D);return e&&R.forEach(function(_){return t(g,_)}),he&&bn(g,S),P}function b(g,p,y,N){var P=Pr(y);if(typeof P!="function")throw Error(B(150));if(y=P.call(y),y==null)throw Error(B(151));for(var w=P=null,R=p,S=p=0,D=null,v=y.next();R!==null&&!v.done;S++,v=y.next()){R.index>S?(D=R,R=null):D=R.sibling;var _=x(g,R,v.value,N);if(_===null){R===null&&(R=D);break}e&&R&&_.alternate===null&&t(g,R),p=a(_,p,S),w===null?P=_:w.sibling=_,w=_,R=D}if(v.done)return n(g,R),he&&bn(g,S),P;if(R===null){for(;!v.done;S++,v=y.next())v=m(g,v.value,N),v!==null&&(p=a(v,p,S),w===null?P=v:w.sibling=v,w=v);return he&&bn(g,S),P}for(R=r(g,R);!v.done;S++,v=y.next())v=E(R,g,S,v.value,N),v!==null&&(e&&v.alternate!==null&&R.delete(v.key===null?S:v.key),p=a(v,p,S),w===null?P=v:w.sibling=v,w=v);return e&&R.forEach(function(A){return t(g,A)}),he&&bn(g,S),P}function j(g,p,y,N){if(typeof y=="object"&&y!==null&&y.type===Wn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case As:e:{for(var P=y.key,w=p;w!==null;){if(w.key===P){if(P=y.type,P===Wn){if(w.tag===7){n(g,w.sibling),p=s(w,y.props.children),p.return=g,g=p;break e}}else if(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Jt&&Rc(P)===w.type){n(g,w.sibling),p=s(w,y.props),p.ref=Ar(g,w,y),p.return=g,g=p;break e}n(g,w);break}else t(g,w);w=w.sibling}y.type===Wn?(p=Pn(y.props.children,g.mode,N,y.key),p.return=g,g=p):(N=mo(y.type,y.key,y.props,null,g.mode,N),N.ref=Ar(g,p,y),N.return=g,g=N)}return l(g);case Vn:e:{for(w=y.key;p!==null;){if(p.key===w)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Qa(y,g.mode,N),p.return=g,g=p}return l(g);case Jt:return w=y._init,j(g,p,w(y._payload),N)}if($r(y))return h(g,p,y,N);if(Pr(y))return b(g,p,y,N);Vs(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,y),p.return=g,g=p):(n(g,p),p=Ga(y,g.mode,N),p.return=g,g=p),l(g)):n(g,p)}return j}var fr=nm(!0),rm=nm(!1),Io=gn(null),Uo=null,Zn=null,Xi=null;function Zi(){Xi=Zn=Uo=null}function eu(e){var t=Io.current;me(Io),e._currentValue=t}function Zl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){Uo=e,Xi=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Xi!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(Uo===null)throw Error(B(308));Zn=e,Uo.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var Sn=null;function tu(e){Sn===null?Sn=[e]:Sn.push(e)}function sm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,tu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xt=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function om(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Wt(e,n)}return s=r.interleaved,s===null?(t.next=t,tu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Wt(e,n)}function ao(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zi(e,n)}}function _c(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var s=e.updateQueue;Xt=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var u=i,c=u.next;u.next=null,l===null?a=c:l.next=c,l=u;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==l&&(i===null?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=u))}if(a!==null){var m=s.baseState;l=0,d=c=u=null,i=a;do{var x=i.lane,E=i.eventTime;if((r&x)===x){d!==null&&(d=d.next={eventTime:E,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,b=i;switch(x=t,E=n,b.tag){case 1:if(h=b.payload,typeof h=="function"){m=h.call(E,m,x);break e}m=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=b.payload,x=typeof h=="function"?h.call(E,m,x):h,x==null)break e;m=ve({},m,x);break e;case 2:Xt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[i]:x.push(i))}else E={eventTime:E,lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(c=d=E,u=m):d=d.next=E,l|=x;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;x=i,i=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(d===null&&(u=m),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);An|=l,e.lanes=l,e.memoizedState=m}}function Tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Ss={},Lt=gn(Ss),ms=gn(Ss),hs=gn(Ss);function kn(e){if(e===Ss)throw Error(B(174));return e}function ru(e,t){switch(de(hs,t),de(ms,e),de(Lt,Ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Al(t,e)}me(Lt),de(Lt,t)}function mr(){me(Lt),me(ms),me(hs)}function am(e){kn(hs.current);var t=kn(Lt.current),n=Al(t,e.type);t!==n&&(de(ms,e),de(Lt,n))}function su(e){ms.current===e&&(me(Lt),me(ms))}var xe=gn(0);function Bo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $a=[];function ou(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var lo=Gt.ReactCurrentDispatcher,Ha=Gt.ReactCurrentBatchConfig,Ln=0,ye=null,Ce=null,Re=null,Mo=!1,Xr=!1,ps=0,Jg=0;function De(){throw Error(B(321))}function au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nt(e[n],t[n]))return!1;return!0}function lu(e,t,n,r,s,a){if(Ln=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=e===null||e.memoizedState===null?t0:n0,e=n(r,s),Xr){a=0;do{if(Xr=!1,ps=0,25<=a)throw Error(B(301));a+=1,Re=Ce=null,t.updateQueue=null,lo.current=r0,e=n(r,s)}while(Xr)}if(lo.current=zo,t=Ce!==null&&Ce.next!==null,Ln=0,Re=Ce=ye=null,Mo=!1,t)throw Error(B(300));return e}function iu(){var e=ps!==0;return ps=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ye.memoizedState=Re=e:Re=Re.next=e,Re}function ft(){if(Ce===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Re===null?ye.memoizedState:Re.next;if(t!==null)Re=t,Ce=e;else{if(e===null)throw Error(B(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Re===null?ye.memoizedState=Re=e:Re=Re.next=e}return Re}function gs(e,t){return typeof t=="function"?t(e):t}function Va(e){var t=ft(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Ce,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var i=l=null,u=null,c=a;do{var d=c.lane;if((Ln&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=m,l=r):u=u.next=m,ye.lanes|=d,An|=d}c=c.next}while(c!==null&&c!==a);u===null?l=r:u.next=i,Nt(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ye.lanes|=a,An|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wa(e){var t=ft(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);Nt(a,t.memoizedState)||(Ke=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function lm(){}function im(e,t){var n=ye,r=ft(),s=t(),a=!Nt(r.memoizedState,s);if(a&&(r.memoizedState=s,Ke=!0),r=r.queue,uu(dm.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,xs(9,cm.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(B(349));Ln&30||um(n,t,s)}return s}function um(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cm(e,t,n,r){t.value=n,t.getSnapshot=r,fm(t)&&mm(e)}function dm(e,t,n){return n(function(){fm(t)&&mm(e)})}function fm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nt(e,n)}catch{return!0}}function mm(e){var t=Wt(e,1);t!==null&&wt(t,e,1,-1)}function Lc(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:e},t.queue=e,e=e.dispatch=e0.bind(null,ye,e),[t.memoizedState,e]}function xs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hm(){return ft().memoizedState}function io(e,t,n,r){var s=Rt();ye.flags|=e,s.memoizedState=xs(1|t,n,void 0,r===void 0?null:r)}function ra(e,t,n,r){var s=ft();r=r===void 0?null:r;var a=void 0;if(Ce!==null){var l=Ce.memoizedState;if(a=l.destroy,r!==null&&au(r,l.deps)){s.memoizedState=xs(t,n,a,r);return}}ye.flags|=e,s.memoizedState=xs(1|t,n,a,r)}function Ac(e,t){return io(8390656,8,e,t)}function uu(e,t){return ra(2048,8,e,t)}function pm(e,t){return ra(4,2,e,t)}function gm(e,t){return ra(4,4,e,t)}function xm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ym(e,t,n){return n=n!=null?n.concat([e]):null,ra(4,4,xm.bind(null,t,e),n)}function cu(){}function vm(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&au(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wm(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&au(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bm(e,t,n){return Ln&21?(Nt(n,t)||(n=Ef(),ye.lanes|=n,An|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Xg(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Ha.transition;Ha.transition={};try{e(!1),t()}finally{ie=n,Ha.transition=r}}function Nm(){return ft().memoizedState}function Zg(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jm(e))Sm(t,n);else if(n=sm(e,t,n,r),n!==null){var s=$e();wt(n,e,r,s),km(n,t,r)}}function e0(e,t,n){var r=cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jm(e))Sm(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,i=a(l,n);if(s.hasEagerState=!0,s.eagerState=i,Nt(i,l)){var u=t.interleaved;u===null?(s.next=s,tu(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=sm(e,t,s,r),n!==null&&(s=$e(),wt(n,e,r,s),km(n,t,r))}}function jm(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Sm(e,t){Xr=Mo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function km(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zi(e,n)}}var zo={readContext:dt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},t0={readContext:dt,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Ac,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,io(4194308,4,xm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return io(4194308,4,e,t)},useInsertionEffect:function(e,t){return io(4,2,e,t)},useMemo:function(e,t){var n=Rt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zg.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:cu,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=Xg.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,s=Rt();if(he){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),_e===null)throw Error(B(349));Ln&30||um(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ac(dm.bind(null,r,a,e),[e]),r.flags|=2048,xs(9,cm.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Rt(),t=_e.identifierPrefix;if(he){var n=Mt,r=Bt;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ps++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n0={readContext:dt,useCallback:vm,useContext:dt,useEffect:uu,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:gm,useMemo:wm,useReducer:Va,useRef:hm,useState:function(){return Va(gs)},useDebugValue:cu,useDeferredValue:function(e){var t=ft();return bm(t,Ce.memoizedState,e)},useTransition:function(){var e=Va(gs)[0],t=ft().memoizedState;return[e,t]},useMutableSource:lm,useSyncExternalStore:im,useId:Nm,unstable_isNewReconciler:!1},r0={readContext:dt,useCallback:vm,useContext:dt,useEffect:uu,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:gm,useMemo:wm,useReducer:Wa,useRef:hm,useState:function(){return Wa(gs)},useDebugValue:cu,useDeferredValue:function(e){var t=ft();return Ce===null?t.memoizedState=e:bm(t,Ce.memoizedState,e)},useTransition:function(){var e=Wa(gs)[0],t=ft().memoizedState;return[e,t]},useMutableSource:lm,useSyncExternalStore:im,useId:Nm,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ei(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),s=cn(e),a=zt(r,s);a.payload=t,n!=null&&(a.callback=n),t=ln(e,a,s),t!==null&&(wt(t,e,s,r),ao(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),s=cn(e),a=zt(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ln(e,a,s),t!==null&&(wt(t,e,s,r),ao(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=cn(e),s=zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=ln(e,s,r),t!==null&&(wt(t,e,r,n),ao(t,e,r))}};function Dc(e,t,n,r,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!us(n,r)||!us(s,a):!0}function Em(e,t,n){var r=!1,s=hn,a=t.contextType;return typeof a=="object"&&a!==null?a=dt(a):(s=Qe(t)?_n:Fe.current,r=t.contextTypes,a=(r=r!=null)?cr(e,s):hn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Oc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function ti(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},nu(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=dt(a):(a=Qe(t)?_n:Fe.current,s.context=cr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ei(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Fo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hr(e,t){try{var n="",r=t;do n+=Tp(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function qa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ni(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var s0=typeof WeakMap=="function"?WeakMap:Map;function Cm(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ho||(Ho=!0,fi=r),ni(e,t)},n}function Pm(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ni(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ni(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Ic(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new s0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=y0.bind(null,e,t,n),t.then(e,e))}function Uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var o0=Gt.ReactCurrentOwner,Ke=!1;function Me(e,t,n,r){t.child=e===null?rm(t,null,n,r):fr(t,e.child,n,r)}function Bc(e,t,n,r,s){n=n.render;var a=t.ref;return lr(t,s),r=lu(e,t,n,r,a,s),n=iu(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(he&&n&&Qi(t),t.flags|=1,Me(e,t,r,s),t.child)}function Mc(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!yu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Rm(e,t,a,r,s)):(e=mo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(l,r)&&e.ref===t.ref)return qt(e,t,s)}return t.flags|=1,e=dn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Rm(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(us(a,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,qt(e,t,s)}return ri(e,t,n,r,s)}function _m(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(tr,Ze),Ze|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(tr,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,de(tr,Ze),Ze|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,de(tr,Ze),Ze|=r;return Me(e,t,s,n),t.child}function Tm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ri(e,t,n,r,s){var a=Qe(n)?_n:Fe.current;return a=cr(t,a),lr(t,s),n=lu(e,t,n,r,a,s),r=iu(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(he&&r&&Qi(t),t.flags|=1,Me(e,t,n,s),t.child)}function zc(e,t,n,r,s){if(Qe(n)){var a=!0;Ao(t)}else a=!1;if(lr(t,s),t.stateNode===null)uo(e,t),Em(t,n,r),ti(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var u=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=dt(c):(c=Qe(n)?_n:Fe.current,c=cr(t,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==r||u!==c)&&Oc(t,l,r,c),Xt=!1;var x=t.memoizedState;l.state=x,Fo(t,r,l,s),u=t.memoizedState,i!==r||x!==u||Ge.current||Xt?(typeof d=="function"&&(ei(t,n,d,r),u=t.memoizedState),(i=Xt||Dc(t,n,i,r,x,u,c))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=c,r=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,om(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:pt(t.type,i),l.props=c,m=t.pendingProps,x=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=dt(u):(u=Qe(n)?_n:Fe.current,u=cr(t,u));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==m||x!==u)&&Oc(t,l,r,u),Xt=!1,x=t.memoizedState,l.state=x,Fo(t,r,l,s);var h=t.memoizedState;i!==m||x!==h||Ge.current||Xt?(typeof E=="function"&&(ei(t,n,E,r),h=t.memoizedState),(c=Xt||Dc(t,n,c,r,x,h,u)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,h,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,h,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=u,r=c):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return si(e,t,n,r,a,s)}function si(e,t,n,r,s,a){Tm(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Ec(t,n,!1),qt(e,t,a);r=t.stateNode,o0.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=fr(t,e.child,null,a),t.child=fr(t,null,i,a)):Me(e,t,i,a),t.memoizedState=r.state,s&&Ec(t,n,!0),t.child}function Lm(e){var t=e.stateNode;t.pendingContext?kc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kc(e,t.context,!1),ru(e,t.containerInfo)}function $c(e,t,n,r,s){return dr(),Ji(s),t.flags|=256,Me(e,t,n,r),t.child}var oi={dehydrated:null,treeContext:null,retryLane:0};function ai(e){return{baseLanes:e,cachePool:null,transitions:null}}function Am(e,t,n){var r=t.pendingProps,s=xe.current,a=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(xe,s&1),e===null)return Xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=la(l,r,0,null),e=Pn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ai(n),t.memoizedState=oi,e):du(t,l));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return a0(e,t,l,r,i,s,n);if(a){a=r.fallback,l=t.mode,s=e.child,i=s.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=dn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?a=dn(i,a):(a=Pn(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?ai(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=oi,r}return a=e.child,e=a.sibling,r=dn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function du(e,t){return t=la({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,n,r){return r!==null&&Ji(r),fr(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a0(e,t,n,r,s,a,l){if(n)return t.flags&256?(t.flags&=-257,r=qa(Error(B(422))),Ws(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=la({mode:"visible",children:r.children},s,0,null),a=Pn(a,s,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&fr(t,e.child,null,l),t.child.memoizedState=ai(l),t.memoizedState=oi,a);if(!(t.mode&1))return Ws(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,a=Error(B(419)),r=qa(a,r,void 0),Ws(e,t,l,r)}if(i=(l&e.childLanes)!==0,Ke||i){if(r=_e,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Wt(e,s),wt(r,e,s,-1))}return xu(),r=qa(Error(B(421))),Ws(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=v0.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,et=an(s.nextSibling),tt=t,he=!0,yt=null,e!==null&&(at[lt++]=Bt,at[lt++]=Mt,at[lt++]=Tn,Bt=e.id,Mt=e.overflow,Tn=t),t=du(t,r.children),t.flags|=4096,t)}function Hc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zl(e.return,t,n)}function Ka(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Dm(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Me(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hc(e,n,t);else if(e.tag===19)Hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Bo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ka(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ka(t,!0,n,null,a);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),An|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function l0(e,t,n){switch(t.tag){case 3:Lm(t),dr();break;case 5:am(t);break;case 1:Qe(t.type)&&Ao(t);break;case 4:ru(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;de(Io,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?Am(e,t,n):(de(xe,xe.current&1),e=qt(e,t,n),e!==null?e.sibling:null);de(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Dm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,_m(e,t,n)}return qt(e,t,n)}var Om,li,Im,Um;Om=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};li=function(){};Im=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,kn(Lt.current);var a=null;switch(n){case"input":s=Rl(e,s),r=Rl(e,r),a=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),a=[];break;case"textarea":s=Ll(e,s),r=Ll(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=To)}Dl(n,r);var l;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var i=s[c];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ns.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(i=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(l in i)!i.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&i[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ns.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&fe("scroll",e),a||i===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};Um=function(e,t,n,r){n!==r&&(t.flags|=4)};function Dr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function i0(e,t,n){var r=t.pendingProps;switch(Yi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Qe(t.type)&&Lo(),Oe(t),null;case 3:return r=t.stateNode,mr(),me(Ge),me(Fe),ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(pi(yt),yt=null))),li(e,t),Oe(t),null;case 5:su(t);var s=kn(hs.current);if(n=t.type,e!==null&&t.stateNode!=null)Im(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Oe(t),null}if(e=kn(Lt.current),Hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[_t]=t,r[fs]=a,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Vr.length;s++)fe(Vr[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Xu(r,a),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fe("invalid",r);break;case"textarea":ec(r,a),fe("invalid",r)}Dl(n,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var i=a[l];l==="children"?typeof i=="string"?r.textContent!==i&&(a.suppressHydrationWarning!==!0&&$s(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&$s(r.textContent,i,e),s=["children",""+i]):ns.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ds(r),Zu(r,a,!0);break;case"textarea":Ds(r),tc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=To)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=df(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[_t]=t,e[fs]=r,Om(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ol(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Vr.length;s++)fe(Vr[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Xu(e,r),s=Rl(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),fe("invalid",e);break;case"textarea":ec(e,r),s=Ll(e,r),fe("invalid",e);break;default:s=r}Dl(n,s),i=s;for(a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="style"?hf(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ff(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&rs(e,u):typeof u=="number"&&rs(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ns.hasOwnProperty(a)?u!=null&&a==="onScroll"&&fe("scroll",e):u!=null&&Oi(e,a,u,l))}switch(n){case"input":Ds(e),Zu(e,r,!1);break;case"textarea":Ds(e),tc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?rr(e,!!r.multiple,a,!1):r.defaultValue!=null&&rr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=To)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Um(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=kn(hs.current),kn(Lt.current),Hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[_t]=t,(a=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:$s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return Oe(t),null;case 13:if(me(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&et!==null&&t.mode&1&&!(t.flags&128))tm(),dr(),t.flags|=98560,a=!1;else if(a=Hs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[_t]=t}else dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),a=!1}else yt!==null&&(pi(yt),yt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Pe===0&&(Pe=3):xu())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return mr(),li(e,t),e===null&&cs(t.stateNode.containerInfo),Oe(t),null;case 10:return eu(t.type._context),Oe(t),null;case 17:return Qe(t.type)&&Lo(),Oe(t),null;case 19:if(me(xe),a=t.memoizedState,a===null)return Oe(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)Dr(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Bo(e),l!==null){for(t.flags|=128,Dr(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(xe,xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ne()>pr&&(t.flags|=128,r=!0,Dr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Bo(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!he)return Oe(t),null}else 2*Ne()-a.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,r=!0,Dr(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ne(),t.sibling=null,n=xe.current,de(xe,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return gu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function u0(e,t){switch(Yi(t),t.tag){case 1:return Qe(t.type)&&Lo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mr(),me(Ge),me(Fe),ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return su(t),null;case 13:if(me(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(xe),null;case 4:return mr(),null;case 10:return eu(t.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var qs=!1,Ie=!1,c0=typeof WeakSet=="function"?WeakSet:Set,V=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function ii(e,t,n){try{n()}catch(r){be(e,t,r)}}var Vc=!1;function d0(e,t){if(Wl=Po,e=$f(),Gi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,i=-1,u=-1,c=0,d=0,m=e,x=null;t:for(;;){for(var E;m!==n||s!==0&&m.nodeType!==3||(i=l+s),m!==a||r!==0&&m.nodeType!==3||(u=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(E=m.firstChild)!==null;)x=m,m=E;for(;;){if(m===e)break t;if(x===n&&++c===s&&(i=l),x===a&&++d===r&&(u=l),(E=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=E}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ql={focusedElem:e,selectionRange:n},Po=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var b=h.memoizedProps,j=h.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:pt(t.type,b),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){be(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return h=Vc,Vc=!1,h}function Zr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&ii(t,n,a)}s=s.next}while(s!==r)}}function oa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ui(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fm(e){var t=e.alternate;t!==null&&(e.alternate=null,Fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[fs],delete t[Ql],delete t[Kg],delete t[Gg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bm(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ci(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=To));else if(r!==4&&(e=e.child,e!==null))for(ci(e,t,n),e=e.sibling;e!==null;)ci(e,t,n),e=e.sibling}function di(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(di(e,t,n),e=e.sibling;e!==null;)di(e,t,n),e=e.sibling}var Te=null,gt=!1;function Yt(e,t,n){for(n=n.child;n!==null;)Mm(e,t,n),n=n.sibling}function Mm(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Jo,n)}catch{}switch(n.tag){case 5:Ie||er(n,t);case 6:var r=Te,s=gt;Te=null,Yt(e,t,n),Te=r,gt=s,Te!==null&&(gt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(gt?(e=Te,n=n.stateNode,e.nodeType===8?Ma(e.parentNode,n):e.nodeType===1&&Ma(e,n),ls(e)):Ma(Te,n.stateNode));break;case 4:r=Te,s=gt,Te=n.stateNode.containerInfo,gt=!0,Yt(e,t,n),Te=r,gt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&ii(n,t,l),s=s.next}while(s!==r)}Yt(e,t,n);break;case 1:if(!Ie&&(er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){be(n,t,i)}Yt(e,t,n);break;case 21:Yt(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,Yt(e,t,n),Ie=r):Yt(e,t,n);break;default:Yt(e,t,n)}}function qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new c0),t.forEach(function(r){var s=w0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Te=i.stateNode,gt=!1;break e;case 3:Te=i.stateNode.containerInfo,gt=!0;break e;case 4:Te=i.stateNode.containerInfo,gt=!0;break e}i=i.return}if(Te===null)throw Error(B(160));Mm(a,l,s),Te=null,gt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){be(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}function zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),Ct(e),r&4){try{Zr(3,e,e.return),oa(3,e)}catch(b){be(e,e.return,b)}try{Zr(5,e,e.return)}catch(b){be(e,e.return,b)}}break;case 1:ht(t,e),Ct(e),r&512&&n!==null&&er(n,n.return);break;case 5:if(ht(t,e),Ct(e),r&512&&n!==null&&er(n,n.return),e.flags&32){var s=e.stateNode;try{rs(s,"")}catch(b){be(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&uf(s,a),Ol(i,l);var c=Ol(i,a);for(l=0;l<u.length;l+=2){var d=u[l],m=u[l+1];d==="style"?hf(s,m):d==="dangerouslySetInnerHTML"?ff(s,m):d==="children"?rs(s,m):Oi(s,d,m,c)}switch(i){case"input":_l(s,a);break;case"textarea":cf(s,a);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?rr(s,!!a.multiple,E,!1):x!==!!a.multiple&&(a.defaultValue!=null?rr(s,!!a.multiple,a.defaultValue,!0):rr(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(b){be(e,e.return,b)}}break;case 6:if(ht(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(b){be(e,e.return,b)}}break;case 3:if(ht(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(b){be(e,e.return,b)}break;case 4:ht(t,e),Ct(e);break;case 13:ht(t,e),Ct(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(hu=Ne())),r&4&&qc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(c=Ie)||d,ht(t,e),Ie=c):ht(t,e),Ct(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(m=V=d;V!==null;){switch(x=V,E=x.child,x.tag){case 0:case 11:case 14:case 15:Zr(4,x,x.return);break;case 1:er(x,x.return);var h=x.stateNode;if(typeof h.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(b){be(r,n,b)}}break;case 5:er(x,x.return);break;case 22:if(x.memoizedState!==null){Gc(m);continue}}E!==null?(E.return=x,V=E):Gc(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=m.stateNode,u=m.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=mf("display",l))}catch(b){be(e,e.return,b)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(b){be(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ht(t,e),Ct(e),r&4&&qc(e);break;case 21:break;default:ht(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bm(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rs(s,""),r.flags&=-33);var a=Wc(e);di(e,a,s);break;case 3:case 4:var l=r.stateNode.containerInfo,i=Wc(e);ci(e,i,l);break;default:throw Error(B(161))}}catch(u){be(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f0(e,t,n){V=e,$m(e)}function $m(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var s=V,a=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||qs;if(!l){var i=s.alternate,u=i!==null&&i.memoizedState!==null||Ie;i=qs;var c=Ie;if(qs=l,(Ie=u)&&!c)for(V=s;V!==null;)l=V,u=l.child,l.tag===22&&l.memoizedState!==null?Qc(s):u!==null?(u.return=l,V=u):Qc(s);for(;a!==null;)V=a,$m(a),a=a.sibling;V=s,qs=i,Ie=c}Kc(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,V=a):Kc(e)}}function Kc(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||oa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Tc(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tc(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&ls(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ie||t.flags&512&&ui(t)}catch(x){be(t,t.return,x)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Gc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Qc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oa(4,t)}catch(u){be(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){be(t,s,u)}}var a=t.return;try{ui(t)}catch(u){be(t,a,u)}break;case 5:var l=t.return;try{ui(t)}catch(u){be(t,l,u)}}}catch(u){be(t,t.return,u)}if(t===e){V=null;break}var i=t.sibling;if(i!==null){i.return=t.return,V=i;break}V=t.return}}var m0=Math.ceil,$o=Gt.ReactCurrentDispatcher,fu=Gt.ReactCurrentOwner,ct=Gt.ReactCurrentBatchConfig,oe=0,_e=null,Se=null,Le=0,Ze=0,tr=gn(0),Pe=0,ys=null,An=0,aa=0,mu=0,es=null,qe=null,hu=0,pr=1/0,Ut=null,Ho=!1,fi=null,un=null,Ks=!1,nn=null,Vo=0,ts=0,mi=null,co=-1,fo=0;function $e(){return oe&6?Ne():co!==-1?co:co=Ne()}function cn(e){return e.mode&1?oe&2&&Le!==0?Le&-Le:Yg.transition!==null?(fo===0&&(fo=Ef()),fo):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Af(e.type)),e):1}function wt(e,t,n,r){if(50<ts)throw ts=0,mi=null,Error(B(185));bs(e,n,r),(!(oe&2)||e!==_e)&&(e===_e&&(!(oe&2)&&(aa|=n),Pe===4&&en(e,Le)),Ye(e,r),n===1&&oe===0&&!(t.mode&1)&&(pr=Ne()+500,na&&xn()))}function Ye(e,t){var n=e.callbackNode;Yp(e,t);var r=Co(e,e===_e?Le:0);if(r===0)n!==null&&sc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sc(n),t===1)e.tag===0?Qg(Yc.bind(null,e)):Xf(Yc.bind(null,e)),Wg(function(){!(oe&6)&&xn()}),n=null;else{switch(Cf(r)){case 1:n=Mi;break;case 4:n=Sf;break;case 16:n=Eo;break;case 536870912:n=kf;break;default:n=Eo}n=Ym(n,Hm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hm(e,t){if(co=-1,fo=0,oe&6)throw Error(B(327));var n=e.callbackNode;if(ir()&&e.callbackNode!==n)return null;var r=Co(e,e===_e?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wo(e,r);else{t=r;var s=oe;oe|=2;var a=Wm();(_e!==e||Le!==t)&&(Ut=null,pr=Ne()+500,Cn(e,t));do try{g0();break}catch(i){Vm(e,i)}while(!0);Zi(),$o.current=a,oe=s,Se!==null?t=0:(_e=null,Le=0,t=Pe)}if(t!==0){if(t===2&&(s=Ml(e),s!==0&&(r=s,t=hi(e,s))),t===1)throw n=ys,Cn(e,0),en(e,r),Ye(e,Ne()),n;if(t===6)en(e,r);else{if(s=e.current.alternate,!(r&30)&&!h0(s)&&(t=Wo(e,r),t===2&&(a=Ml(e),a!==0&&(r=a,t=hi(e,a))),t===1))throw n=ys,Cn(e,0),en(e,r),Ye(e,Ne()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Nn(e,qe,Ut);break;case 3:if(en(e,r),(r&130023424)===r&&(t=hu+500-Ne(),10<t)){if(Co(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gl(Nn.bind(null,e,qe,Ut),t);break}Nn(e,qe,Ut);break;case 4:if(en(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-vt(r);a=1<<l,l=t[l],l>s&&(s=l),r&=~a}if(r=s,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m0(r/1960))-r,10<r){e.timeoutHandle=Gl(Nn.bind(null,e,qe,Ut),r);break}Nn(e,qe,Ut);break;case 5:Nn(e,qe,Ut);break;default:throw Error(B(329))}}}return Ye(e,Ne()),e.callbackNode===n?Hm.bind(null,e):null}function hi(e,t){var n=es;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=qe,qe=n,t!==null&&pi(t)),e}function pi(e){qe===null?qe=e:qe.push.apply(qe,e)}function h0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Nt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t){for(t&=~mu,t&=~aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function Yc(e){if(oe&6)throw Error(B(327));ir();var t=Co(e,0);if(!(t&1))return Ye(e,Ne()),null;var n=Wo(e,t);if(e.tag!==0&&n===2){var r=Ml(e);r!==0&&(t=r,n=hi(e,r))}if(n===1)throw n=ys,Cn(e,0),en(e,t),Ye(e,Ne()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,qe,Ut),Ye(e,Ne()),null}function pu(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(pr=Ne()+500,na&&xn())}}function Dn(e){nn!==null&&nn.tag===0&&!(oe&6)&&ir();var t=oe;oe|=1;var n=ct.transition,r=ie;try{if(ct.transition=null,ie=1,e)return e()}finally{ie=r,ct.transition=n,oe=t,!(oe&6)&&xn()}}function gu(){Ze=tr.current,me(tr)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vg(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Yi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lo();break;case 3:mr(),me(Ge),me(Fe),ou();break;case 5:su(r);break;case 4:mr();break;case 13:me(xe);break;case 19:me(xe);break;case 10:eu(r.type._context);break;case 22:case 23:gu()}n=n.return}if(_e=e,Se=e=dn(e.current,null),Le=Ze=t,Pe=0,ys=null,mu=aa=An=0,qe=es=null,Sn!==null){for(t=0;t<Sn.length;t++)if(n=Sn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=s,r.next=l}n.pending=r}Sn=null}return e}function Vm(e,t){do{var n=Se;try{if(Zi(),lo.current=zo,Mo){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Mo=!1}if(Ln=0,Re=Ce=ye=null,Xr=!1,ps=0,fu.current=null,n===null||n.return===null){Pe=1,ys=t,Se=null;break}e:{var a=e,l=n.return,i=n,u=t;if(t=Le,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=i,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=Uc(l);if(E!==null){E.flags&=-257,Fc(E,l,i,a,t),E.mode&1&&Ic(a,c,t),t=E,u=c;var h=t.updateQueue;if(h===null){var b=new Set;b.add(u),t.updateQueue=b}else h.add(u);break e}else{if(!(t&1)){Ic(a,c,t),xu();break e}u=Error(B(426))}}else if(he&&i.mode&1){var j=Uc(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Fc(j,l,i,a,t),Ji(hr(u,i));break e}}a=u=hr(u,i),Pe!==4&&(Pe=2),es===null?es=[a]:es.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Cm(a,u,t);_c(a,g);break e;case 1:i=u;var p=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(un===null||!un.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Pm(a,i,t);_c(a,N);break e}}a=a.return}while(a!==null)}Km(n)}catch(P){t=P,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Wm(){var e=$o.current;return $o.current=zo,e===null?zo:e}function xu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),_e===null||!(An&268435455)&&!(aa&268435455)||en(_e,Le)}function Wo(e,t){var n=oe;oe|=2;var r=Wm();(_e!==e||Le!==t)&&(Ut=null,Cn(e,t));do try{p0();break}catch(s){Vm(e,s)}while(!0);if(Zi(),oe=n,$o.current=r,Se!==null)throw Error(B(261));return _e=null,Le=0,Pe}function p0(){for(;Se!==null;)qm(Se)}function g0(){for(;Se!==null&&!zp();)qm(Se)}function qm(e){var t=Qm(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Km(e):Se=t,fu.current=null}function Km(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=u0(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Se=null;return}}else if(n=i0(n,t,Ze),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Pe===0&&(Pe=5)}function Nn(e,t,n){var r=ie,s=ct.transition;try{ct.transition=null,ie=1,x0(e,t,n,r)}finally{ct.transition=s,ie=r}return null}function x0(e,t,n,r){do ir();while(nn!==null);if(oe&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Jp(e,a),e===_e&&(Se=_e=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,Ym(Eo,function(){return ir(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ct.transition,ct.transition=null;var l=ie;ie=1;var i=oe;oe|=4,fu.current=null,d0(e,n),zm(n,e),Ug(ql),Po=!!Wl,ql=Wl=null,e.current=n,f0(n),$p(),oe=i,ie=l,ct.transition=a}else e.current=n;if(Ks&&(Ks=!1,nn=e,Vo=s),a=e.pendingLanes,a===0&&(un=null),Wp(n.stateNode),Ye(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,e=fi,fi=null,e;return Vo&1&&e.tag!==0&&ir(),a=e.pendingLanes,a&1?e===mi?ts++:(ts=0,mi=e):ts=0,xn(),null}function ir(){if(nn!==null){var e=Cf(Vo),t=ct.transition,n=ie;try{if(ct.transition=null,ie=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,Vo=0,oe&6)throw Error(B(331));var s=oe;for(oe|=4,V=e.current;V!==null;){var a=V,l=a.child;if(V.flags&16){var i=a.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(V=c;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:Zr(8,d,a)}var m=d.child;if(m!==null)m.return=d,V=m;else for(;V!==null;){d=V;var x=d.sibling,E=d.return;if(Fm(d),d===c){V=null;break}if(x!==null){x.return=E,V=x;break}V=E}}}var h=a.alternate;if(h!==null){var b=h.child;if(b!==null){h.child=null;do{var j=b.sibling;b.sibling=null,b=j}while(b!==null)}}V=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,V=l;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zr(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,V=g;break e}V=a.return}}var p=e.current;for(V=p;V!==null;){l=V;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,V=y;else e:for(l=p;V!==null;){if(i=V,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:oa(9,i)}}catch(P){be(i,i.return,P)}if(i===l){V=null;break e}var N=i.sibling;if(N!==null){N.return=i.return,V=N;break e}V=i.return}}if(oe=s,xn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Jo,e)}catch{}r=!0}return r}finally{ie=n,ct.transition=t}}return!1}function Jc(e,t,n){t=hr(n,t),t=Cm(e,t,1),e=ln(e,t,1),t=$e(),e!==null&&(bs(e,1,t),Ye(e,t))}function be(e,t,n){if(e.tag===3)Jc(e,e,n);else for(;t!==null;){if(t.tag===3){Jc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=hr(n,e),e=Pm(t,e,1),t=ln(t,e,1),e=$e(),t!==null&&(bs(t,1,e),Ye(t,e));break}}t=t.return}}function y0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Le&n)===n&&(Pe===4||Pe===3&&(Le&130023424)===Le&&500>Ne()-hu?Cn(e,0):mu|=n),Ye(e,t)}function Gm(e,t){t===0&&(e.mode&1?(t=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):t=1);var n=$e();e=Wt(e,t),e!==null&&(bs(e,t,n),Ye(e,n))}function v0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gm(e,n)}function w0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Gm(e,n)}var Qm;Qm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,l0(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,he&&t.flags&1048576&&Zf(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;uo(e,t),e=t.pendingProps;var s=cr(t,Fe.current);lr(t,n),s=lu(null,t,r,e,s,n);var a=iu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(a=!0,Ao(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nu(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,ti(t,r,e,n),t=si(null,t,r,!0,a,n)):(t.tag=0,he&&a&&Qi(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(uo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=N0(r),e=pt(r,e),s){case 0:t=ri(null,t,r,e,n);break e;case 1:t=zc(null,t,r,e,n);break e;case 11:t=Bc(null,t,r,e,n);break e;case 14:t=Mc(null,t,r,pt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),ri(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),zc(e,t,r,s,n);case 3:e:{if(Lm(t),e===null)throw Error(B(387));r=t.pendingProps,a=t.memoizedState,s=a.element,om(e,t),Fo(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=hr(Error(B(423)),t),t=$c(e,t,r,n,s);break e}else if(r!==s){s=hr(Error(B(424)),t),t=$c(e,t,r,n,s);break e}else for(et=an(t.stateNode.containerInfo.firstChild),tt=t,he=!0,yt=null,n=rm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dr(),r===s){t=qt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return am(t),e===null&&Xl(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,Kl(r,s)?l=null:a!==null&&Kl(r,a)&&(t.flags|=32),Tm(e,t),Me(e,t,l,n),t.child;case 6:return e===null&&Xl(t),null;case 13:return Am(e,t,n);case 4:return ru(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fr(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Bc(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,de(Io,r._currentValue),r._currentValue=l,a!==null)if(Nt(a.value,l)){if(a.children===s.children&&!Ge.current){t=qt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){l=a.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=zt(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Zl(a.return,n,t),i.lanes|=n;break}u=u.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(B(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Zl(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,lr(t,n),s=dt(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=pt(r,t.pendingProps),s=pt(r.type,s),Mc(e,t,r,s,n);case 15:return Rm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),uo(e,t),t.tag=1,Qe(r)?(e=!0,Ao(t)):e=!1,lr(t,n),Em(t,r,s),ti(t,r,s,n),si(null,t,r,!0,e,n);case 19:return Dm(e,t,n);case 22:return _m(e,t,n)}throw Error(B(156,t.tag))};function Ym(e,t){return jf(e,t)}function b0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new b0(e,t,n,r)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function N0(e){if(typeof e=="function")return yu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ui)return 11;if(e===Fi)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mo(e,t,n,r,s,a){var l=2;if(r=e,typeof e=="function")yu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Wn:return Pn(n.children,s,a,t);case Ii:l=8,s|=8;break;case kl:return e=ut(12,n,t,s|2),e.elementType=kl,e.lanes=a,e;case El:return e=ut(13,n,t,s),e.elementType=El,e.lanes=a,e;case Cl:return e=ut(19,n,t,s),e.elementType=Cl,e.lanes=a,e;case of:return la(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rf:l=10;break e;case sf:l=9;break e;case Ui:l=11;break e;case Fi:l=14;break e;case Jt:l=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=ut(l,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Pn(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function la(e,t,n,r){return e=ut(22,e,r,t),e.elementType=of,e.lanes=n,e.stateNode={isHidden:!1},e}function Ga(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function Qa(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vu(e,t,n,r,s,a,l,i,u){return e=new j0(e,t,n,i,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ut(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nu(a),e}function S0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Jm(e){if(!e)return hn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Qe(n))return Jf(e,n,t)}return t}function Xm(e,t,n,r,s,a,l,i,u){return e=vu(n,r,!0,e,s,a,l,i,u),e.context=Jm(null),n=e.current,r=$e(),s=cn(n),a=zt(r,s),a.callback=t??null,ln(n,a,s),e.current.lanes=s,bs(e,s,r),Ye(e,r),e}function ia(e,t,n,r){var s=t.current,a=$e(),l=cn(s);return n=Jm(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(s,t,l),e!==null&&(wt(e,s,l,a),ao(e,s,l)),l}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wu(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function k0(){return null}var Zm=typeof reportError=="function"?reportError:function(e){console.error(e)};function bu(e){this._internalRoot=e}ua.prototype.render=bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));ia(e,t,null,null)};ua.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dn(function(){ia(null,e,null,null)}),t[Vt]=null}};function ua(e){this._internalRoot=e}ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=_f();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&Lf(e)}};function Nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zc(){}function E0(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var c=qo(l);a.call(c)}}var l=Xm(t,r,e,0,null,!1,!1,"",Zc);return e._reactRootContainer=l,e[Vt]=l.current,cs(e.nodeType===8?e.parentNode:e),Dn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var c=qo(u);i.call(c)}}var u=vu(e,0,!1,null,null,!1,!1,"",Zc);return e._reactRootContainer=u,e[Vt]=u.current,cs(e.nodeType===8?e.parentNode:e),Dn(function(){ia(t,u,n,r)}),u}function da(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var i=s;s=function(){var u=qo(l);i.call(u)}}ia(t,l,e,s)}else l=E0(n,t,e,s,r);return qo(l)}Pf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hr(t.pendingLanes);n!==0&&(zi(t,n|1),Ye(t,Ne()),!(oe&6)&&(pr=Ne()+500,xn()))}break;case 13:Dn(function(){var r=Wt(e,1);if(r!==null){var s=$e();wt(r,e,1,s)}}),wu(e,1)}};$i=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=$e();wt(t,e,134217728,n)}wu(e,134217728)}};Rf=function(e){if(e.tag===13){var t=cn(e),n=Wt(e,t);if(n!==null){var r=$e();wt(n,e,t,r)}wu(e,t)}};_f=function(){return ie};Tf=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Ul=function(e,t,n){switch(t){case"input":if(_l(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ta(r);if(!s)throw Error(B(90));lf(r),_l(r,s)}}}break;case"textarea":cf(e,n);break;case"select":t=n.value,t!=null&&rr(e,!!n.multiple,t,!1)}};xf=pu;yf=Dn;var C0={usingClientEntryPoint:!1,Events:[js,Qn,ta,pf,gf,pu]},Or={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P0={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bf(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||k0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Jo=Gs.inject(P0),Tt=Gs}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nu(t))throw Error(B(200));return S0(e,t,null,n)};rt.createRoot=function(e,t){if(!Nu(e))throw Error(B(299));var n=!1,r="",s=Zm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vu(e,1,!1,null,null,n,!1,r,s),e[Vt]=t.current,cs(e.nodeType===8?e.parentNode:e),new bu(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=bf(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Dn(e)};rt.hydrate=function(e,t,n){if(!ca(t))throw Error(B(200));return da(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!Nu(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",l=Zm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Xm(t,null,e,1,n??null,s,!1,a,l),e[Vt]=t.current,cs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ua(t)};rt.render=function(e,t,n){if(!ca(t))throw Error(B(200));return da(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!ca(e))throw Error(B(40));return e._reactRootContainer?(Dn(function(){da(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};rt.unstable_batchedUpdates=pu;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ca(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return da(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function eh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eh)}catch(e){console.error(e)}}eh(),Zd.exports=rt;var th=Zd.exports;const R0=zd(th);var ed=th;jl.createRoot=ed.createRoot,jl.hydrateRoot=ed.hydrateRoot;/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var td="popstate";function _0(e={}){function t(r,s){let{pathname:a,search:l,hash:i}=r.location;return gi("",{pathname:a,search:l,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:vs(s)}return L0(t,n,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T0(){return Math.random().toString(36).substring(2,10)}function nd(e,t){return{usr:e.state,key:e.key,idx:t}}function gi(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?br(t):t,state:n,key:t&&t.key||r||T0()}}function vs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function br(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function L0(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,i="POP",u=null,c=d();c==null&&(c=0,l.replaceState({...l.state,idx:c},""));function d(){return(l.state||{idx:null}).idx}function m(){i="POP";let j=d(),g=j==null?null:j-c;c=j,u&&u({action:i,location:b.location,delta:g})}function x(j,g){i="PUSH";let p=gi(b.location,j,g);c=d()+1;let y=nd(p,c),N=b.createHref(p);try{l.pushState(y,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(N)}a&&u&&u({action:i,location:b.location,delta:1})}function E(j,g){i="REPLACE";let p=gi(b.location,j,g);c=d();let y=nd(p,c),N=b.createHref(p);l.replaceState(y,"",N),a&&u&&u({action:i,location:b.location,delta:0})}function h(j){return A0(j)}let b={get action(){return i},get location(){return e(s,l)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(td,m),u=j,()=>{s.removeEventListener(td,m),u=null}},createHref(j){return t(s,j)},createURL:h,encodeLocation(j){let g=h(j);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:x,replace:E,go(j){return l.go(j)}};return b}function A0(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:vs(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nh(e,t,n="/"){return D0(e,t,n,!1)}function D0(e,t,n,r){let s=typeof t=="string"?br(t):t,a=Kt(s.pathname||"/",n);if(a==null)return null;let l=rh(e);O0(l);let i=null;for(let u=0;i==null&&u<l.length;++u){let c=q0(a);i=V0(l[u],c,r)}return i}function rh(e,t=[],n=[],r="",s=!1){let a=(l,i,u=s,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;pe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let m=$t([r,d.relativePath]),x=n.concat(d);l.children&&l.children.length>0&&(pe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),rh(l.children,t,x,m,u)),!(l.path==null&&!l.index)&&t.push({path:m,score:$0(m,l.index),routesMeta:x})};return e.forEach((l,i)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,i);else for(let c of sh(l.path))a(l,i,!0,c)}),t}function sh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=sh(r.join("/")),i=[];return i.push(...l.map(u=>u===""?a:[a,u].join("/"))),s&&i.push(...l),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function O0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:H0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var I0=/^:[\w-]+$/,U0=3,F0=2,B0=1,M0=10,z0=-2,rd=e=>e==="*";function $0(e,t){let n=e.split("/"),r=n.length;return n.some(rd)&&(r+=z0),t&&(r+=F0),n.filter(s=>!rd(s)).reduce((s,a)=>s+(I0.test(a)?U0:a===""?B0:M0),r)}function H0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function V0(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",l=[];for(let i=0;i<r.length;++i){let u=r[i],c=i===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",m=Ko({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),x=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Ko({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:$t([a,m.pathname]),pathnameBase:Y0($t([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=$t([a,m.pathnameBase]))}return l}function Ko(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=W0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:m},x)=>{if(d==="*"){let h=i[x]||"";l=a.slice(0,a.length-h.length).replace(/(.)\/+$/,"$1")}const E=i[x];return m&&!E?c[d]=void 0:c[d]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:l,pattern:e}}function W0(e,t=!1,n=!0){jt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,u)=>(r.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function q0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Kt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function K0(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?br(e):e;return{pathname:n?n.startsWith("/")?n:G0(n,t):t,search:J0(r),hash:X0(s)}}function G0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ya(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ju(e){let t=Q0(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Su(e,t,n,r=!1){let s;typeof e=="string"?s=br(e):(s={...e},pe(!s.pathname||!s.pathname.includes("?"),Ya("?","pathname","search",s)),pe(!s.pathname||!s.pathname.includes("#"),Ya("#","pathname","hash",s)),pe(!s.search||!s.search.includes("#"),Ya("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,i;if(l==null)i=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}i=m>=0?t[m]:"/"}let u=K0(s,i),c=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var $t=e=>e.join("/").replace(/\/\/+/g,"/"),Y0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,X0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Z0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var oh=["POST","PUT","PATCH","DELETE"];new Set(oh);var ex=["GET",...oh];new Set(ex);var Nr=f.createContext(null);Nr.displayName="DataRouter";var fa=f.createContext(null);fa.displayName="DataRouterState";f.createContext(!1);var ah=f.createContext({isTransitioning:!1});ah.displayName="ViewTransition";var tx=f.createContext(new Map);tx.displayName="Fetchers";var nx=f.createContext(null);nx.displayName="Await";var St=f.createContext(null);St.displayName="Navigation";var ks=f.createContext(null);ks.displayName="Location";var kt=f.createContext({outlet:null,matches:[],isDataRoute:!1});kt.displayName="Route";var ku=f.createContext(null);ku.displayName="RouteError";function rx(e,{relative:t}={}){pe(jr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=f.useContext(St),{hash:s,pathname:a,search:l}=Es(e,{relative:t}),i=a;return n!=="/"&&(i=a==="/"?n:$t([n,a])),r.createHref({pathname:i,search:l,hash:s})}function jr(){return f.useContext(ks)!=null}function Qt(){return pe(jr(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(ks).location}var lh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ih(e){f.useContext(St).static||f.useLayoutEffect(e)}function It(){let{isDataRoute:e}=f.useContext(kt);return e?yx():sx()}function sx(){pe(jr(),"useNavigate() may be used only in the context of a <Router> component.");let e=f.useContext(Nr),{basename:t,navigator:n}=f.useContext(St),{matches:r}=f.useContext(kt),{pathname:s}=Qt(),a=JSON.stringify(ju(r)),l=f.useRef(!1);return ih(()=>{l.current=!0}),f.useCallback((u,c={})=>{if(jt(l.current,lh),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Su(u,JSON.parse(a),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:$t([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,a,s,e])}var ox=f.createContext(null);function ax(e){let t=f.useContext(kt).outlet;return f.useMemo(()=>t&&f.createElement(ox.Provider,{value:e},t),[t,e])}function Es(e,{relative:t}={}){let{matches:n}=f.useContext(kt),{pathname:r}=Qt(),s=JSON.stringify(ju(n));return f.useMemo(()=>Su(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function lx(e,t){return uh(e,t)}function uh(e,t,n,r,s){var p;pe(jr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=f.useContext(St),{matches:l}=f.useContext(kt),i=l[l.length-1],u=i?i.params:{},c=i?i.pathname:"/",d=i?i.pathnameBase:"/",m=i&&i.route;{let y=m&&m.path||"";ch(c,!m||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let x=Qt(),E;if(t){let y=typeof t=="string"?br(t):t;pe(d==="/"||((p=y.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${y.pathname}" was given in the \`location\` prop.`),E=y}else E=x;let h=E.pathname||"/",b=h;if(d!=="/"){let y=d.replace(/^\//,"").split("/");b="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let j=nh(e,{pathname:b});jt(m||j!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),jt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=fx(j&&j.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:$t([d,a.encodeLocation?a.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:$t([d,a.encodeLocation?a.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),l,n,r,s);return t&&g?f.createElement(ks.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},g):g}function ix(){let e=xx(),t=Z0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=f.createElement(f.Fragment,null,f.createElement("p",null," Hey developer "),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:a},"ErrorBoundary")," or"," ",f.createElement("code",{style:a},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:s},n):null,l)}var ux=f.createElement(ix,null),cx=class extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?f.createElement(kt.Provider,{value:this.props.routeContext},f.createElement(ku.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dx({routeContext:e,match:t,children:n}){let r=f.useContext(Nr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),f.createElement(kt.Provider,{value:e},n)}function fx(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let c=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);pe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let i=!1,u=-1;if(n)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:m,errors:x}=n,E=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!x||x[d.route.id]===void 0);if(d.route.lazy||E){i=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,m)=>{let x,E=!1,h=null,b=null;n&&(x=l&&d.route.id?l[d.route.id]:void 0,h=d.route.errorElement||ux,i&&(u<0&&m===0?(ch("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):u===m&&(E=!0,b=d.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,m+1)),g=()=>{let p;return x?p=h:E?p=b:d.route.Component?p=f.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,f.createElement(dx,{match:d,routeContext:{outlet:c,matches:j,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?f.createElement(cx,{location:n.location,revalidation:n.revalidation,component:h,error:x,children:g(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):g()},null)}function Eu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mx(e){let t=f.useContext(Nr);return pe(t,Eu(e)),t}function hx(e){let t=f.useContext(fa);return pe(t,Eu(e)),t}function px(e){let t=f.useContext(kt);return pe(t,Eu(e)),t}function Cu(e){let t=px(e),n=t.matches[t.matches.length-1];return pe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function gx(){return Cu("useRouteId")}function xx(){var r;let e=f.useContext(ku),t=hx("useRouteError"),n=Cu("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function yx(){let{router:e}=mx("useNavigate"),t=Cu("useNavigate"),n=f.useRef(!1);return ih(()=>{n.current=!0}),f.useCallback(async(s,a={})=>{jt(n.current,lh),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var sd={};function ch(e,t,n){!t&&!sd[e]&&(sd[e]=!0,jt(!1,n))}f.memo(vx);function vx({routes:e,future:t,state:n,unstable_onError:r}){return uh(e,void 0,n,r,t)}function nr({to:e,replace:t,state:n,relative:r}){pe(jr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=f.useContext(St);jt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=f.useContext(kt),{pathname:l}=Qt(),i=It(),u=Su(e,ju(a),l,r==="path"),c=JSON.stringify(u);return f.useEffect(()=>{i(JSON.parse(c),{replace:t,state:n,relative:r})},[i,c,r,t,n]),null}function Pu(e){return ax(e.context)}function Q(e){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wx({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){pe(!jr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),i=f.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=br(n));let{pathname:u="/",search:c="",hash:d="",state:m=null,key:x="default"}=n,E=f.useMemo(()=>{let h=Kt(u,l);return h==null?null:{location:{pathname:h,search:c,hash:d,state:m,key:x},navigationType:r}},[l,u,c,d,m,x,r]);return jt(E!=null,`<Router basename="${l}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:f.createElement(St.Provider,{value:i},f.createElement(ks.Provider,{children:t,value:E}))}function bx({children:e,location:t}){return lx(xi(e),t)}function xi(e,t=[]){let n=[];return f.Children.forEach(e,(r,s)=>{if(!f.isValidElement(r))return;let a=[...t,s];if(r.type===f.Fragment){n.push.apply(n,xi(r.props.children,a));return}pe(r.type===Q,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xi(r.props.children,a)),n.push(l)}),n}var ho="get",po="application/x-www-form-urlencoded";function ma(e){return e!=null&&typeof e.tagName=="string"}function Nx(e){return ma(e)&&e.tagName.toLowerCase()==="button"}function jx(e){return ma(e)&&e.tagName.toLowerCase()==="form"}function Sx(e){return ma(e)&&e.tagName.toLowerCase()==="input"}function kx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ex(e,t){return e.button===0&&(!t||t==="_self")&&!kx(e)}var Qs=null;function Cx(){if(Qs===null)try{new FormData(document.createElement("form"),0),Qs=!1}catch{Qs=!0}return Qs}var Px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ja(e){return e!=null&&!Px.has(e)?(jt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${po}"`),null):e}function Rx(e,t){let n,r,s,a,l;if(jx(e)){let i=e.getAttribute("action");r=i?Kt(i,t):null,n=e.getAttribute("method")||ho,s=Ja(e.getAttribute("enctype"))||po,a=new FormData(e)}else if(Nx(e)||Sx(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||i.getAttribute("action");if(r=u?Kt(u,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||ho,s=Ja(e.getAttribute("formenctype"))||Ja(i.getAttribute("enctype"))||po,a=new FormData(i,e),!Cx()){let{name:c,type:d,value:m}=e;if(d==="image"){let x=c?`${c}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else c&&a.append(c,m)}}else{if(ma(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ho,r=null,s=po,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ru(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _x(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Kt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Tx(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ax(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await Tx(a,n);return l.links?l.links():[]}return[]}));return Ux(r.flat(1).filter(Lx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function od(e,t,n,r,s,a){let l=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,i=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,c)=>l(u,c)||i(u,c)):a==="data"?t.filter((u,c)=>{var m;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(l(u,c)||i(u,c))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Dx(e,t,{includeHydrateFallback:n}={}){return Ox(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Ox(e){return[...new Set(e)]}function Ix(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Ux(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(Ix(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function dh(){let e=f.useContext(Nr);return Ru(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Fx(){let e=f.useContext(fa);return Ru(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _u=f.createContext(void 0);_u.displayName="FrameworkContext";function fh(){let e=f.useContext(_u);return Ru(e,"You must render this element inside a <HydratedRouter> element"),e}function Bx(e,t){let n=f.useContext(_u),[r,s]=f.useState(!1),[a,l]=f.useState(!1),{onFocus:i,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:m}=t,x=f.useRef(null);f.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let b=g=>{g.forEach(p=>{l(p.isIntersecting)})},j=new IntersectionObserver(b,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[e]),f.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let E=()=>{s(!0)},h=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:Ir(i,E),onBlur:Ir(u,h),onMouseEnter:Ir(c,E),onMouseLeave:Ir(d,h),onTouchStart:Ir(m,E)}]:[!1,x,{}]}function Ir(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Mx({page:e,...t}){let{router:n}=dh(),r=f.useMemo(()=>nh(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?f.createElement($x,{page:e,matches:r,...t}):null}function zx(e){let{manifest:t,routeModules:n}=fh(),[r,s]=f.useState([]);return f.useEffect(()=>{let a=!1;return Ax(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),r}function $x({page:e,matches:t,...n}){let r=Qt(),{manifest:s,routeModules:a}=fh(),{basename:l}=dh(),{loaderData:i,matches:u}=Fx(),c=f.useMemo(()=>od(e,t,u,s,r,"data"),[e,t,u,s,r]),d=f.useMemo(()=>od(e,t,u,s,r,"assets"),[e,t,u,s,r]),m=f.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let h=new Set,b=!1;if(t.forEach(g=>{var y;let p=s.routes[g.route.id];!p||!p.hasLoader||(!c.some(N=>N.route.id===g.route.id)&&g.route.id in i&&((y=a[g.route.id])!=null&&y.shouldRevalidate)||p.hasClientLoader?b=!0:h.add(g.route.id))}),h.size===0)return[];let j=_x(e,l,"data");return b&&h.size>0&&j.searchParams.set("_routes",t.filter(g=>h.has(g.route.id)).map(g=>g.route.id).join(",")),[j.pathname+j.search]},[l,i,r,s,c,t,e,a]),x=f.useMemo(()=>Dx(d,s),[d,s]),E=zx(d);return f.createElement(f.Fragment,null,m.map(h=>f.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),x.map(h=>f.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),E.map(({key:h,link:b})=>f.createElement("link",{key:h,nonce:n.nonce,...b})))}function Hx(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var mh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mh&&(window.__reactRouterVersion="7.9.2")}catch{}function Vx({basename:e,children:t,window:n}){let r=f.useRef();r.current==null&&(r.current=_0({window:n,v5Compat:!0}));let s=r.current,[a,l]=f.useState({action:s.action,location:s.location}),i=f.useCallback(u=>{f.startTransition(()=>l(u))},[l]);return f.useLayoutEffect(()=>s.listen(i),[s,i]),f.createElement(wx,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var hh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tu=f.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:i,target:u,to:c,preventScrollReset:d,viewTransition:m,...x},E){let{basename:h}=f.useContext(St),b=typeof c=="string"&&hh.test(c),j,g=!1;if(typeof c=="string"&&b&&(j=c,mh))try{let D=new URL(window.location.href),v=c.startsWith("//")?new URL(D.protocol+c):new URL(c),_=Kt(v.pathname,h);v.origin===D.origin&&_!=null?c=_+v.search+v.hash:g=!0}catch{jt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=rx(c,{relative:s}),[y,N,P]=Bx(r,x),w=Kx(c,{replace:l,state:i,target:u,preventScrollReset:d,relative:s,viewTransition:m});function R(D){t&&t(D),D.defaultPrevented||w(D)}let S=f.createElement("a",{...x,...P,href:j||p,onClick:g||a?t:R,ref:Hx(E,N),target:u,"data-discover":!b&&n==="render"?"true":void 0});return y&&!b?f.createElement(f.Fragment,null,S,f.createElement(Mx,{page:p})):S});Tu.displayName="Link";var ha=f.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:i,children:u,...c},d){let m=Es(l,{relative:c.relative}),x=Qt(),E=f.useContext(fa),{navigator:h,basename:b}=f.useContext(St),j=E!=null&&Xx(m)&&i===!0,g=h.encodeLocation?h.encodeLocation(m).pathname:m.pathname,p=x.pathname,y=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(p=p.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&b&&(y=Kt(y,b)||y);const N=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let P=p===g||!s&&p.startsWith(g)&&p.charAt(N)==="/",w=y!=null&&(y===g||!s&&y.startsWith(g)&&y.charAt(g.length)==="/"),R={isActive:P,isPending:w,isTransitioning:j},S=P?t:void 0,D;typeof r=="function"?D=r(R):D=[r,P?"active":null,w?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let v=typeof a=="function"?a(R):a;return f.createElement(Tu,{...c,"aria-current":S,className:D,ref:d,style:v,to:l,viewTransition:i},typeof u=="function"?u(R):u)});ha.displayName="NavLink";var Wx=f.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:l=ho,action:i,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:m,...x},E)=>{let h=Yx(),b=Jx(i,{relative:c}),j=l.toLowerCase()==="get"?"get":"post",g=typeof i=="string"&&hh.test(i),p=y=>{if(u&&u(y),y.defaultPrevented)return;y.preventDefault();let N=y.nativeEvent.submitter,P=(N==null?void 0:N.getAttribute("formmethod"))||l;h(N||y.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:s,state:a,relative:c,preventScrollReset:d,viewTransition:m})};return f.createElement("form",{ref:E,method:j,action:b,onSubmit:r?u:p,...x,"data-discover":!g&&e==="render"?"true":void 0})});Wx.displayName="Form";function qx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ph(e){let t=f.useContext(Nr);return pe(t,qx(e)),t}function Kx(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let i=It(),u=Qt(),c=Es(e,{relative:a});return f.useCallback(d=>{if(Ex(d,t)){d.preventDefault();let m=n!==void 0?n:vs(u)===vs(c);i(e,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[u,i,c,n,r,t,e,s,a,l])}var Gx=0,Qx=()=>`__${String(++Gx)}__`;function Yx(){let{router:e}=ph("useSubmit"),{basename:t}=f.useContext(St),n=gx();return f.useCallback(async(r,s={})=>{let{action:a,method:l,encType:i,formData:u,body:c}=Rx(r,t);if(s.navigate===!1){let d=s.fetcherKey||Qx();await e.fetch(d,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||l,formEncType:s.encType||i,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||l,formEncType:s.encType||i,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Jx(e,{relative:t}={}){let{basename:n}=f.useContext(St),r=f.useContext(kt);pe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Es(e||".",{relative:t})},l=Qt();if(e==null){a.search=l.search;let i=new URLSearchParams(a.search),u=i.getAll("index");if(u.some(d=>d==="")){i.delete("index"),u.filter(m=>m).forEach(m=>i.append("index",m));let d=i.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:$t([n,a.pathname])),vs(a)}function Xx(e,{relative:t}={}){let n=f.useContext(ah);pe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ph("useViewTransitionState"),s=Es(e,{relative:t});if(!n.isTransitioning)return!1;let a=Kt(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Kt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ko(s.pathname,l)!=null||Ko(s.pathname,a)!=null}const F={initialRoute:"/",verifyEmailRoute:"/verify-email",resetPasswordRoute:"reset-password",forgotPasswordRoute:"/forgot-password",AdminDashboard:"/admin",AgentDashboard:"/agent",SubAgentDashboard:"/subagent",GameUI:"gameui",ApproveRejectWithdrawals:"withdrawals",RemitToAgent:"remit-agent",RemitToAdmin:"remit-admin",FundTransfer:"fund-transfer",SearchUser:"search-user",BalanceAdjustment:"balance-adjustment",KickoffUser:"kickoff-user",CreateAgentOrSubagent:"create-agent-subagent-user",CreateSubAgent:"create-subagent-user",CreateUser:"create-user",PointFile:"points-file",InPoints:"in-points",OutPoints:"out-points",GameHistory:"game-history",TurnOver:"turn-over",UpdateStatusPage:"update-status",ListUsersPage:"list-users",DecideResult:"decide-result",UpdateCommission:"update-commission",VersionUpdate:"version/update"},Lu=({isOpen:e,onClose:t,userData:n})=>{if(!e)return null;const r=document.getElementById("modal-root");return r?R0.createPortal(o.jsx("div",{className:"fixed inset-0 bg-gray-900/30 backdrop-blur-sm flex justify-center items-center z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md m-4 animate-fade-in-scale",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"User Profile"}),o.jsx("button",{onClick:t,className:`md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg 
                           bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 
                           focus:outline-none focus:ring-4 focus:ring-green-300 
                           disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed`,title:"Close",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.name||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.email||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),o.jsx("p",{className:"text-lg font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full inline-block",children:n.role||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.phone||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Wallet"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.wallet_amount||"N/A"})]})]})]})}),r):null},ae={BASE_URL:"https://api.thefairdeal.games",Auth:{LOGIN:"/auth/dashboard/login",RESET_PASSWORD:"/auth/dashboard/reset-password",DASHBOARD_LOGOUT:"/auth/dashboard/logout",PUBLIC_FORGOT_PASSWORD:"auth/public-forgot-password"},User:{CREATE_USER:"/user/create-user",LIST_USERS:"/user/list-user",UPDATE_STATUS:"/user/update-status",GET_CURRENT_USER:"/user/me",FETCH_PROFILE:"user/fetch-profile",UPDATE_LOCK_STATUS:"user/update-lock-status",KICKOFF_USER:"/user/kickoff-user",UPDATE_COMMISSION:"/user/update-commission",UPDATE_AGENTS:"/user/update-agents",DELETE_USER:"/user/delete-user",LIST_ACTIVE_PLAYING_USERS:"/user/active-users"},Report:{GAME_HISTORY:"/reports/game-history",POINTS:"/reports/points",OUT_POINTS:"/reports/out-points",IN_POINTS:"/reports/In-points",TURNOVER:"/reports/turnover"},fund:{BALANCE_ADJUSTMENT:"/v1/funds/balance-adjustment"},Dashboard:{GET_DATA:"/dashboard"},GameControl:{GET_ALL_TABLES:"/tables",DECIDE_RESULT:"/tables/decide-result"},Version:{UPDATE_VERSION:"/v1/version/enter"}};function gh(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zx}=Object.prototype,{getPrototypeOf:Au}=Object,{iterator:pa,toStringTag:xh}=Symbol,ga=(e=>t=>{const n=Zx.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Et=e=>(e=e.toLowerCase(),t=>ga(t)===e),xa=e=>t=>typeof t===e,{isArray:Sr}=Array,gr=xa("undefined");function Cs(e){return e!==null&&!gr(e)&&e.constructor!==null&&!gr(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yh=Et("ArrayBuffer");function ey(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&yh(e.buffer),t}const ty=xa("string"),Je=xa("function"),vh=xa("number"),Ps=e=>e!==null&&typeof e=="object",ny=e=>e===!0||e===!1,go=e=>{if(ga(e)!=="object")return!1;const t=Au(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(xh in e)&&!(pa in e)},ry=e=>{if(!Ps(e)||Cs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sy=Et("Date"),oy=Et("File"),ay=Et("Blob"),ly=Et("FileList"),iy=e=>Ps(e)&&Je(e.pipe),uy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Je(e.append)&&((t=ga(e))==="formdata"||t==="object"&&Je(e.toString)&&e.toString()==="[object FormData]"))},cy=Et("URLSearchParams"),[dy,fy,my,hy]=["ReadableStream","Request","Response","Headers"].map(Et),py=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Sr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Cs(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let i;for(r=0;r<l;r++)i=a[r],t.call(null,e[i],i,e)}}function wh(e,t){if(Cs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const En=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bh=e=>!gr(e)&&e!==En;function yi(){const{caseless:e,skipUndefined:t}=bh(this)&&this||{},n={},r=(s,a)=>{const l=e&&wh(n,a)||a;go(n[l])&&go(s)?n[l]=yi(n[l],s):go(s)?n[l]=yi({},s):Sr(s)?n[l]=s.slice():(!t||!gr(s))&&(n[l]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Rs(arguments[s],r);return n}const gy=(e,t,n,{allOwnKeys:r}={})=>(Rs(t,(s,a)=>{n&&Je(s)?e[a]=gh(s,n):e[a]=s},{allOwnKeys:r}),e),xy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yy=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vy=(e,t,n,r)=>{let s,a,l;const i={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)l=s[a],(!r||r(l,e,t))&&!i[l]&&(t[l]=e[l],i[l]=!0);e=n!==!1&&Au(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},wy=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},by=e=>{if(!e)return null;if(Sr(e))return e;let t=e.length;if(!vh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ny=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Au(Uint8Array)),jy=(e,t)=>{const r=(e&&e[pa]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},Sy=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ky=Et("HTMLFormElement"),Ey=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),ad=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Cy=Et("RegExp"),Nh=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Rs(n,(s,a)=>{let l;(l=t(s,a,e))!==!1&&(r[a]=l||s)}),Object.defineProperties(e,r)},Py=e=>{Nh(e,(t,n)=>{if(Je(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Je(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ry=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Sr(e)?r(e):r(String(e).split(t)),n},_y=()=>{},Ty=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ly(e){return!!(e&&Je(e.append)&&e[xh]==="FormData"&&e[pa])}const Ay=e=>{const t=new Array(10),n=(r,s)=>{if(Ps(r)){if(t.indexOf(r)>=0)return;if(Cs(r))return r;if(!("toJSON"in r)){t[s]=r;const a=Sr(r)?[]:{};return Rs(r,(l,i)=>{const u=n(l,s+1);!gr(u)&&(a[i]=u)}),t[s]=void 0,a}}return r};return n(e,0)},Dy=Et("AsyncFunction"),Oy=e=>e&&(Ps(e)||Je(e))&&Je(e.then)&&Je(e.catch),jh=((e,t)=>e?setImmediate:t?((n,r)=>(En.addEventListener("message",({source:s,data:a})=>{s===En&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),En.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Je(En.postMessage)),Iy=typeof queueMicrotask<"u"?queueMicrotask.bind(En):typeof process<"u"&&process.nextTick||jh,Uy=e=>e!=null&&Je(e[pa]),T={isArray:Sr,isArrayBuffer:yh,isBuffer:Cs,isFormData:uy,isArrayBufferView:ey,isString:ty,isNumber:vh,isBoolean:ny,isObject:Ps,isPlainObject:go,isEmptyObject:ry,isReadableStream:dy,isRequest:fy,isResponse:my,isHeaders:hy,isUndefined:gr,isDate:sy,isFile:oy,isBlob:ay,isRegExp:Cy,isFunction:Je,isStream:iy,isURLSearchParams:cy,isTypedArray:Ny,isFileList:ly,forEach:Rs,merge:yi,extend:gy,trim:py,stripBOM:xy,inherits:yy,toFlatObject:vy,kindOf:ga,kindOfTest:Et,endsWith:wy,toArray:by,forEachEntry:jy,matchAll:Sy,isHTMLForm:ky,hasOwnProperty:ad,hasOwnProp:ad,reduceDescriptors:Nh,freezeMethods:Py,toObjectSet:Ry,toCamelCase:Ey,noop:_y,toFiniteNumber:Ty,findKey:wh,global:En,isContextDefined:bh,isSpecCompliantForm:Ly,toJSONObject:Ay,isAsyncFn:Dy,isThenable:Oy,setImmediate:jh,asap:Iy,isIterable:Uy};function X(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}T.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Sh=X.prototype,kh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kh[e]={value:e}});Object.defineProperties(X,kh);Object.defineProperty(Sh,"isAxiosError",{value:!0});X.from=(e,t,n,r,s,a)=>{const l=Object.create(Sh);T.toFlatObject(e,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const i=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return X.call(l,i,u,n,r,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",a&&Object.assign(l,a),l};const Fy=null;function vi(e){return T.isPlainObject(e)||T.isArray(e)}function Eh(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function ld(e,t,n){return e?e.concat(t).map(function(s,a){return s=Eh(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function By(e){return T.isArray(e)&&!e.some(vi)}const My=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function ya(e,t,n){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,j){return!T.isUndefined(j[b])});const r=n.metaTokens,s=n.visitor||d,a=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(s))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(T.isDate(h))return h.toISOString();if(T.isBoolean(h))return h.toString();if(!u&&T.isBlob(h))throw new X("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(h)||T.isTypedArray(h)?u&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,b,j){let g=h;if(h&&!j&&typeof h=="object"){if(T.endsWith(b,"{}"))b=r?b:b.slice(0,-2),h=JSON.stringify(h);else if(T.isArray(h)&&By(h)||(T.isFileList(h)||T.endsWith(b,"[]"))&&(g=T.toArray(h)))return b=Eh(b),g.forEach(function(y,N){!(T.isUndefined(y)||y===null)&&t.append(l===!0?ld([b],N,a):l===null?b:b+"[]",c(y))}),!1}return vi(h)?!0:(t.append(ld(j,b,a),c(h)),!1)}const m=[],x=Object.assign(My,{defaultVisitor:d,convertValue:c,isVisitable:vi});function E(h,b){if(!T.isUndefined(h)){if(m.indexOf(h)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(h),T.forEach(h,function(g,p){(!(T.isUndefined(g)||g===null)&&s.call(t,g,T.isString(p)?p.trim():p,b,x))===!0&&E(g,b?b.concat(p):[p])}),m.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return E(e),t}function id(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Du(e,t){this._pairs=[],e&&ya(e,this,t)}const Ch=Du.prototype;Ch.append=function(t,n){this._pairs.push([t,n])};Ch.toString=function(t){const n=t?function(r){return t.call(this,r,id)}:id;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function zy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ph(e,t,n){if(!t)return e;const r=n&&n.encode||zy;T.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=T.isURLSearchParams(t)?t.toString():new Du(t,n).toString(r),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class ud{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Rh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$y=typeof URLSearchParams<"u"?URLSearchParams:Du,Hy=typeof FormData<"u"?FormData:null,Vy=typeof Blob<"u"?Blob:null,Wy={isBrowser:!0,classes:{URLSearchParams:$y,FormData:Hy,Blob:Vy},protocols:["http","https","file","blob","url","data"]},Ou=typeof window<"u"&&typeof document<"u",wi=typeof navigator=="object"&&navigator||void 0,qy=Ou&&(!wi||["ReactNative","NativeScript","NS"].indexOf(wi.product)<0),Ky=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gy=Ou&&window.location.href||"http://localhost",Qy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ou,hasStandardBrowserEnv:qy,hasStandardBrowserWebWorkerEnv:Ky,navigator:wi,origin:Gy},Symbol.toStringTag,{value:"Module"})),Ue={...Qy,...Wy};function Yy(e,t){return ya(e,new Ue.classes.URLSearchParams,{visitor:function(n,r,s,a){return Ue.isNode&&T.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Jy(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Xy(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function _h(e){function t(n,r,s,a){let l=n[a++];if(l==="__proto__")return!0;const i=Number.isFinite(+l),u=a>=n.length;return l=!l&&T.isArray(s)?s.length:l,u?(T.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!i):((!s[l]||!T.isObject(s[l]))&&(s[l]=[]),t(n,r,s[l],a)&&T.isArray(s[l])&&(s[l]=Xy(s[l])),!i)}if(T.isFormData(e)&&T.isFunction(e.entries)){const n={};return T.forEachEntry(e,(r,s)=>{t(Jy(r),s,n,0)}),n}return null}function Zy(e,t,n){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const _s={transitional:Rh,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=T.isObject(t);if(a&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return s?JSON.stringify(_h(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Yy(t,this.formSerializer).toString();if((i=T.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ya(i?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),Zy(t)):t}],transformResponse:[function(t){const n=this.transitional||_s.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(i){if(l)throw i.name==="SyntaxError"?X.from(i,X.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{_s.headers[e]={}});const ev=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tv=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||t[n]&&ev[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},cd=Symbol("internals");function Ur(e){return e&&String(e).trim().toLowerCase()}function xo(e){return e===!1||e==null?e:T.isArray(e)?e.map(xo):String(e)}function nv(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const rv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xa(e,t,n,r,s){if(T.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!T.isString(t)){if(T.isString(r))return t.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(t)}}function sv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ov(e,t){const n=T.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,l){return this[r].call(this,t,s,a,l)},configurable:!0})})}let Xe=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(i,u,c){const d=Ur(u);if(!d)throw new Error("header name must be a non-empty string");const m=T.findKey(s,d);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||u]=xo(i))}const l=(i,u)=>T.forEach(i,(c,d)=>a(c,d,u));if(T.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(T.isString(t)&&(t=t.trim())&&!rv(t))l(tv(t),n);else if(T.isObject(t)&&T.isIterable(t)){let i={},u,c;for(const d of t){if(!T.isArray(d))throw TypeError("Object iterator must return a key-value pair");i[c=d[0]]=(u=i[c])?T.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}l(i,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=Ur(t),t){const r=T.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return nv(s);if(T.isFunction(n))return n.call(this,s,r);if(T.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ur(t),t){const r=T.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Xa(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(l){if(l=Ur(l),l){const i=T.findKey(r,l);i&&(!n||Xa(r,r[i],i,n))&&(delete r[i],s=!0)}}return T.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||Xa(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return T.forEach(this,(s,a)=>{const l=T.findKey(r,a);if(l){n[l]=xo(s),delete n[a];return}const i=t?sv(a):String(a).trim();i!==a&&delete n[a],n[i]=xo(s),r[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return T.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&T.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[cd]=this[cd]={accessors:{}}).accessors,s=this.prototype;function a(l){const i=Ur(l);r[i]||(ov(s,l),r[i]=!0)}return T.isArray(t)?t.forEach(a):a(t),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Xe.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});T.freezeMethods(Xe);function Za(e,t){const n=this||_s,r=t||n,s=Xe.from(r.headers);let a=r.data;return T.forEach(e,function(i){a=i.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Th(e){return!!(e&&e.__CANCEL__)}function kr(e,t,n){X.call(this,e??"canceled",X.ERR_CANCELED,t,n),this.name="CanceledError"}T.inherits(kr,X,{__CANCEL__:!0});function Lh(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function av(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lv(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,l;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=r[a];l||(l=c),n[s]=u,r[s]=c;let m=a,x=0;for(;m!==s;)x+=n[m++],m=m%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),c-l<t)return;const E=d&&c-d;return E?Math.round(x*1e3/E):void 0}}function iv(e,t){let n=0,r=1e3/t,s,a;const l=(c,d=Date.now())=>{n=d,s=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const d=Date.now(),m=d-n;m>=r?l(c,d):(s=c,a||(a=setTimeout(()=>{a=null,l(s)},r-m)))},()=>s&&l(s)]}const Go=(e,t,n=3)=>{let r=0;const s=lv(50,250);return iv(a=>{const l=a.loaded,i=a.lengthComputable?a.total:void 0,u=l-r,c=s(u),d=l<=i;r=l;const m={loaded:l,total:i,progress:i?l/i:void 0,bytes:u,rate:c||void 0,estimated:c&&i&&d?(i-l)/c:void 0,event:a,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(m)},n)},dd=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},fd=e=>(...t)=>T.asap(()=>e(...t)),uv=Ue.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ue.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ue.origin),Ue.navigator&&/(msie|trident)/i.test(Ue.navigator.userAgent)):()=>!0,cv=Ue.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const l=[e+"="+encodeURIComponent(t)];T.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),T.isString(r)&&l.push("path="+r),T.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fv(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ah(e,t,n){let r=!dv(t);return e&&(r||n==!1)?fv(e,t):t}const md=e=>e instanceof Xe?{...e}:e;function On(e,t){t=t||{};const n={};function r(c,d,m,x){return T.isPlainObject(c)&&T.isPlainObject(d)?T.merge.call({caseless:x},c,d):T.isPlainObject(d)?T.merge({},d):T.isArray(d)?d.slice():d}function s(c,d,m,x){if(T.isUndefined(d)){if(!T.isUndefined(c))return r(void 0,c,m,x)}else return r(c,d,m,x)}function a(c,d){if(!T.isUndefined(d))return r(void 0,d)}function l(c,d){if(T.isUndefined(d)){if(!T.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function i(c,d,m){if(m in t)return r(c,d);if(m in e)return r(void 0,c)}const u={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(c,d,m)=>s(md(c),md(d),m,!0)};return T.forEach(Object.keys({...e,...t}),function(d){const m=u[d]||s,x=m(e[d],t[d],d);T.isUndefined(x)&&m!==i||(n[d]=x)}),n}const Dh=e=>{const t=On({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:i}=t;if(t.headers=l=Xe.from(l),t.url=Ph(Ah(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),T.isFormData(n)){if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(T.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,m])=>{c.includes(d.toLowerCase())&&l.set(d,m)})}}if(Ue.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(t)),r||r!==!1&&uv(t.url))){const u=s&&a&&cv.read(a);u&&l.set(s,u)}return t},mv=typeof XMLHttpRequest<"u",hv=mv&&function(e){return new Promise(function(n,r){const s=Dh(e);let a=s.data;const l=Xe.from(s.headers).normalize();let{responseType:i,onUploadProgress:u,onDownloadProgress:c}=s,d,m,x,E,h;function b(){E&&E(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function g(){if(!j)return;const y=Xe.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),P={data:!i||i==="text"||i==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:y,config:e,request:j};Lh(function(R){n(R),b()},function(R){r(R),b()},P),j=null}"onloadend"in j?j.onloadend=g:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(g)},j.onabort=function(){j&&(r(new X("Request aborted",X.ECONNABORTED,e,j)),j=null)},j.onerror=function(N){const P=N&&N.message?N.message:"Network Error",w=new X(P,X.ERR_NETWORK,e,j);w.event=N||null,r(w),j=null},j.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||Rh;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new X(N,P.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,j)),j=null},a===void 0&&l.setContentType(null),"setRequestHeader"in j&&T.forEach(l.toJSON(),function(N,P){j.setRequestHeader(P,N)}),T.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),i&&i!=="json"&&(j.responseType=s.responseType),c&&([x,h]=Go(c,!0),j.addEventListener("progress",x)),u&&j.upload&&([m,E]=Go(u),j.upload.addEventListener("progress",m),j.upload.addEventListener("loadend",E)),(s.cancelToken||s.signal)&&(d=y=>{j&&(r(!y||y.type?new kr(null,e,j):y),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const p=av(s.url);if(p&&Ue.protocols.indexOf(p)===-1){r(new X("Unsupported protocol "+p+":",X.ERR_BAD_REQUEST,e));return}j.send(a||null)})},pv=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(c){if(!s){s=!0,i();const d=c instanceof Error?c:this.reason;r.abort(d instanceof X?d:new kr(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,a(new X(`timeout ${t} of ms exceeded`,X.ETIMEDOUT))},t);const i=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>T.asap(i),u}},gv=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},xv=async function*(e,t){for await(const n of yv(e))yield*gv(n,t)},yv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},hd=(e,t,n,r)=>{const s=xv(e,t);let a=0,l,i=u=>{l||(l=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await s.next();if(c){i(),u.close();return}let m=d.byteLength;if(n){let x=a+=m;n(x)}u.enqueue(new Uint8Array(d))}catch(c){throw i(c),c}},cancel(u){return i(u),s.return()}},{highWaterMark:2})},pd=64*1024,{isFunction:Ys}=T,vv=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:gd,TextEncoder:xd}=T.global,yd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wv=e=>{e=T.merge.call({skipUndefined:!0},vv,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ys(t):typeof fetch=="function",a=Ys(n),l=Ys(r);if(!s)return!1;const i=s&&Ys(gd),u=s&&(typeof xd=="function"?(h=>b=>h.encode(b))(new xd):async h=>new Uint8Array(await new n(h).arrayBuffer())),c=a&&i&&yd(()=>{let h=!1;const b=new n(Ue.origin,{body:new gd,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!b}),d=l&&i&&yd(()=>T.isReadableStream(new r("").body)),m={stream:d&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!m[h]&&(m[h]=(b,j)=>{let g=b&&b[h];if(g)return g.call(b);throw new X(`Response type '${h}' is not supported`,X.ERR_NOT_SUPPORT,j)})});const x=async h=>{if(h==null)return 0;if(T.isBlob(h))return h.size;if(T.isSpecCompliantForm(h))return(await new n(Ue.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(T.isArrayBufferView(h)||T.isArrayBuffer(h))return h.byteLength;if(T.isURLSearchParams(h)&&(h=h+""),T.isString(h))return(await u(h)).byteLength},E=async(h,b)=>{const j=T.toFiniteNumber(h.getContentLength());return j??x(b)};return async h=>{let{url:b,method:j,data:g,signal:p,cancelToken:y,timeout:N,onDownloadProgress:P,onUploadProgress:w,responseType:R,headers:S,withCredentials:D="same-origin",fetchOptions:v}=Dh(h),_=t||fetch;R=R?(R+"").toLowerCase():"text";let A=pv([p,y&&y.toAbortSignal()],N),z=null;const M=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let W;try{if(w&&c&&j!=="get"&&j!=="head"&&(W=await E(S,g))!==0){let O=new n(b,{method:"POST",body:g,duplex:"half"}),I;if(T.isFormData(g)&&(I=O.headers.get("content-type"))&&S.setContentType(I),O.body){const[J,q]=dd(W,Go(fd(w)));g=hd(O.body,pd,J,q)}}T.isString(D)||(D=D?"include":"omit");const H=a&&"credentials"in n.prototype,U={...v,signal:A,method:j.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:H?D:void 0};z=a&&new n(b,U);let C=await(a?_(z,v):_(b,U));const L=d&&(R==="stream"||R==="response");if(d&&(P||L&&M)){const O={};["status","statusText","headers"].forEach(Y=>{O[Y]=C[Y]});const I=T.toFiniteNumber(C.headers.get("content-length")),[J,q]=P&&dd(I,Go(fd(P),!0))||[];C=new r(hd(C.body,pd,J,()=>{q&&q(),M&&M()}),O)}R=R||"text";let k=await m[T.findKey(m,R)||"text"](C,h);return!L&&M&&M(),await new Promise((O,I)=>{Lh(O,I,{data:k,headers:Xe.from(C.headers),status:C.status,statusText:C.statusText,config:h,request:z})})}catch(H){throw M&&M(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,h,z),{cause:H.cause||H}):X.from(H,H&&H.code,h,z)}}},bv=new Map,Oh=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let l=a.length,i=l,u,c,d=bv;for(;i--;)u=a[i],c=d.get(u),c===void 0&&d.set(u,c=i?new Map:wv(t)),d=c;return c};Oh();const bi={http:Fy,xhr:hv,fetch:{get:Oh}};T.forEach(bi,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vd=e=>`- ${e}`,Nv=e=>T.isFunction(e)||e===null||e===!1,Ih={getAdapter:(e,t)=>{e=T.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let l=0;l<n;l++){r=e[l];let i;if(s=r,!Nv(r)&&(s=bi[(i=String(r)).toLowerCase()],s===void 0))throw new X(`Unknown adapter '${i}'`);if(s&&(T.isFunction(s)||(s=s.get(t))))break;a[i||"#"+l]=s}if(!s){const l=Object.entries(a).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=n?l.length>1?`since :
`+l.map(vd).join(`
`):" "+vd(l[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:bi};function el(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kr(null,e)}function wd(e){return el(e),e.headers=Xe.from(e.headers),e.data=Za.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ih.getAdapter(e.adapter||_s.adapter,e)(e).then(function(r){return el(e),r.data=Za.call(e,e.transformResponse,r),r.headers=Xe.from(r.headers),r},function(r){return Th(r)||(el(e),r&&r.response&&(r.response.data=Za.call(e,e.transformResponse,r.response),r.response.headers=Xe.from(r.response.headers))),Promise.reject(r)})}const Uh="1.12.2",va={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{va[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bd={};va.transitional=function(t,n,r){function s(a,l){return"[Axios v"+Uh+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,i)=>{if(t===!1)throw new X(s(l," has been removed"+(n?" in "+n:"")),X.ERR_DEPRECATED);return n&&!bd[l]&&(bd[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,l,i):!0}};va.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function jv(e,t,n){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],l=t[a];if(l){const i=e[a],u=i===void 0||l(i,a,e);if(u!==!0)throw new X("option "+a+" must be "+u,X.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new X("Unknown option "+a,X.ERR_BAD_OPTION)}}const yo={assertOptions:jv,validators:va},Pt=yo.validators;let Rn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ud,response:new ud}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=On(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&yo.assertOptions(r,{silentJSONParsing:Pt.transitional(Pt.boolean),forcedJSONParsing:Pt.transitional(Pt.boolean),clarifyTimeoutError:Pt.transitional(Pt.boolean)},!1),s!=null&&(T.isFunction(s)?n.paramsSerializer={serialize:s}:yo.assertOptions(s,{encode:Pt.function,serialize:Pt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),yo.assertOptions(n,{baseUrl:Pt.spelling("baseURL"),withXsrfToken:Pt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&T.merge(a.common,a[n.method]);a&&T.forEach(["delete","get","head","post","put","patch","common"],h=>{delete a[h]}),n.headers=Xe.concat(l,a);const i=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,i.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,m=0,x;if(!u){const h=[wd.bind(this),void 0];for(h.unshift(...i),h.push(...c),x=h.length,d=Promise.resolve(n);m<x;)d=d.then(h[m++],h[m++]);return d}x=i.length;let E=n;for(;m<x;){const h=i[m++],b=i[m++];try{E=h(E)}catch(j){b.call(this,j);break}}try{d=wd.call(this,E)}catch(h){return Promise.reject(h)}for(m=0,x=c.length;m<x;)d=d.then(c[m++],c[m++]);return d}getUri(t){t=On(this.defaults,t);const n=Ah(t.baseURL,t.url,t.allowAbsoluteUrls);return Ph(n,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Rn.prototype[t]=function(n,r){return this.request(On(r||{},{method:t,url:n,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(t){function n(r){return function(a,l,i){return this.request(On(i||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Rn.prototype[t]=n(),Rn.prototype[t+"Form"]=n(!0)});let Sv=class Fh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(i=>{r.subscribe(i),a=i}).then(s);return l.cancel=function(){r.unsubscribe(a)},l},t(function(a,l,i){r.reason||(r.reason=new kr(a,l,i),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Fh(function(s){t=s}),cancel:t}}};function kv(e){return function(n){return e.apply(null,n)}}function Ev(e){return T.isObject(e)&&e.isAxiosError===!0}const Ni={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ni).forEach(([e,t])=>{Ni[t]=e});function Bh(e){const t=new Rn(e),n=gh(Rn.prototype.request,t);return T.extend(n,Rn.prototype,t,{allOwnKeys:!0}),T.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Bh(On(e,s))},n}const je=Bh(_s);je.Axios=Rn;je.CanceledError=kr;je.CancelToken=Sv;je.isCancel=Th;je.VERSION=Uh;je.toFormData=ya;je.AxiosError=X;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=kv;je.isAxiosError=Ev;je.mergeConfig=On;je.AxiosHeaders=Xe;je.formToJSON=e=>_h(T.isHTMLForm(e)?new FormData(e):e);je.getAdapter=Ih.getAdapter;je.HttpStatusCode=Ni;je.default=je;const{Axios:Tb,AxiosError:Lb,CanceledError:Ab,isCancel:Db,CancelToken:Ob,VERSION:Ib,all:Ub,Cancel:Fb,isAxiosError:Bb,spread:Mb,toFormData:zb,AxiosHeaders:$b,HttpStatusCode:Hb,formToJSON:Vb,getAdapter:Wb,mergeConfig:qb}=je;class se{static async request(t){var n;try{const r=await this.axiosInstance.request(t);return t.responseType==="blob"?{success:!0,message:"File downloaded successfully",data:r.data}:{success:!0,message:r.data.message||"Request successful",data:r.data}}catch(r){const s=r;let a="An unexpected error occurred.";return s.response?(a=((n=s.response.data)==null?void 0:n.error)||`Request failed with status ${s.response.status}`,console.error("API Error:",s.response.data)):s.request?(a="Network error. Please check your connection.",console.error("Network Error:",s.request)):console.error("Unexpected Error:",s.message),{success:!1,message:a,error:{status:!1,message:a}}}}static async publicRequest(t){return this.request(t)}static async privateRequest(t){const n=localStorage.getItem("authToken");if(!n)return console.error("Authentication token not found."),{success:!1,message:"Authentication token not found. Please log in again.",error:{status:!1,message:"No token"}};const r={...t,headers:{...t.headers,Authorization:`Bearer ${n}`,"Content-Type":"application/json"}};return this.request(r)}}Wu(se,"axiosInstance",je.create({baseURL:ae.BASE_URL,timeout:1e4}));class te{static async createUser(t){return se.privateRequest({method:"POST",url:ae.User.CREATE_USER,data:t})}static async deleteUser(t){return se.privateRequest({method:"DELETE",url:`${ae.User.DELETE_USER}/${t}`,data:{userIdToDelete:t}})}static async listUser(t){return se.privateRequest({method:"POST",url:ae.User.LIST_USERS,data:t})}static async listSubagentsForAgent(t){return this.listUser({role:"sub-agent",agent_id:t})}static async updateStatus(t){return se.privateRequest({method:"PUT",url:ae.User.UPDATE_STATUS,data:t})}static async getProfile(){return se.privateRequest({method:"GET",url:ae.User.FETCH_PROFILE})}static async listActivePlayingUsers(t){return se.privateRequest({method:"GET",url:ae.User.LIST_ACTIVE_PLAYING_USERS,data:t})}static async getCurrentUserProfile(){return se.privateRequest({method:"GET",url:ae.User.GET_CURRENT_USER})}static async kickoffUser(t){return se.privateRequest({method:"POST",url:ae.User.KICKOFF_USER,data:{userIdToKick:t}})}static async updateLockStatus(t,n){return se.privateRequest({method:"POST",url:ae.User.UPDATE_LOCK_STATUS,data:{userIdToUpdate:t,lockStatus:n}})}static async updateUserAgents(t){return se.privateRequest({method:"PATCH",url:ae.User.UPDATE_AGENTS,data:t})}static async updateCommission(t){return se.privateRequest({method:"POST",url:ae.User.UPDATE_COMMISSION,data:t})}}class In{static async login(t){return se.publicRequest({method:"POST",url:ae.Auth.LOGIN,data:t})}static async selfResetPassword(t){return se.privateRequest({method:"PUT",url:ae.Auth.RESET_PASSWORD,data:t})}static async otherResetPassword(t){return se.privateRequest({method:"PUT",url:ae.Auth.RESET_PASSWORD,data:t})}static async dashboardLogout(){return se.privateRequest({method:"POST",url:ae.Auth.DASHBOARD_LOGOUT})}static async publicForgotPassword(t){return se.publicRequest({method:"POST",url:ae.Auth.PUBLIC_FORGOT_PASSWORD,data:t})}}const xr="/assets/image-gCmuJOF2.png",Cv=[{groupLabel:"Main",options:[{label:"Dashboard",to:"/dashboard"},{label:"GameUI",to:F.GameUI},{label:"Decide-Result",to:F.DecideResult}]},{groupLabel:"User Management",options:[{label:"Search User",to:F.SearchUser},{label:"Balance Adjustment",to:F.BalanceAdjustment},{label:"Kickoff Users",to:F.KickoffUser},{label:"Member List",to:F.ListUsersPage},{label:"Update Commission",to:F.UpdateCommission}]},{groupLabel:"Admin Management",options:[{label:"Create User",to:F.CreateAgentOrSubagent},{label:"Update Status",to:F.UpdateStatusPage}]},{groupLabel:"Reports",options:[{label:"Points File",to:F.PointFile},{label:"In Points",to:F.InPoints},{label:"Out Points",to:F.OutPoints},{label:"Game History",to:F.GameHistory},{label:"Turn Over",to:F.TurnOver}]},{groupLabel:"Account",options:[{label:"Reset Password",to:F.resetPasswordRoute}]},{groupLabel:"Version Control",options:[{label:"Update Version",to:F.VersionUpdate}]}];function Pv(){const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[s,a]=f.useState(null),l=It();f.useEffect(()=>{(async()=>{var d;const c=await te.getCurrentUserProfile();if(console.log("response is",c),c.success&&c.data){const m={name:c.data.name||c.data.username,username:c.data.username,email:c.data.email||"N/A",role:c.data.role,phone:c.data.phone_number||"N/A",wallet_amount:((d=c.data.wallet)==null?void 0:d.current_balance)??0};a(m)}else console.error("Failed to fetch user profile:",c.message)})()},[]);const i=async()=>{try{In.dashboardLogout()}catch(u){console.error("Backend logout call failed, but logging out from frontend:",u)}finally{localStorage.clear(),l("/")}};return o.jsxs("div",{className:"w-full h-screen bg-white flex flex-col overflow-hidden",children:[o.jsxs("header",{className:"flex items-center justify-between h-20 px-4 sm:px-6 bg-white border-b-2 border-green-200 shadow-sm flex-shrink-0 z-40",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>t(!e),className:"md:hidden mr-3 p-2 rounded-full hover:bg-gray-100 flex items-center justify-center sm:px-4 sm:py-2 font-bold text-white transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"hidden sm:flex items-center",children:[" ",o.jsx("img",{src:xr,alt:"Casino App Logo",className:"h-10 w-auto mr-3"})," ",o.jsx("span",{className:"text-lg font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full capitalize",children:s==null?void 0:s.role})]}),o.jsxs("div",{className:"sm:hidden flex items-center",children:[o.jsx("img",{src:xr,alt:"Casino App Logo",className:"h-8 w-auto"})," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx("div",{className:"text-right hidden sm:block",children:o.jsxs("p",{className:"text-green-700 font-semibold text-sm sm:text-base whitespace-nowrap",children:["Welcome, ",(s==null?void 0:s.username)||"..."]})}),o.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-full hover:bg-gray-100 flex items-center justify-center sm:px-4 sm:py-2 font-bold text-white transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",title:"View Profile",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"})})}),o.jsxs("button",{onClick:i,className:"flex items-center justify-center p-2 sm:px-4 sm:py-2 font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",title:"Logout",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 sm:w-6 sm:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Logout"})]})]})]}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[o.jsxs("aside",{className:`w-64 bg-gradient-to-b from-green-50 to-green-100 border-r-2 border-green-200 flex flex-col p-4 shadow-lg flex-shrink-0 transform transition-transform duration-300 ease-in-out z-30 fixed md:relative h-full ${e?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:[o.jsx("nav",{className:"flex-1 mt-4 h-full overflow-y-auto",children:Cv.map(u=>o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"px-3 mb-2 text-sm font-semibold text-green-500 uppercase tracking-wider",children:u.groupLabel}),o.jsx("div",{className:"space-y-1",children:u.options.map(c=>o.jsx(ha,{to:c.to,onClick:()=>t(!1),end:c.to==="/dashboard",className:({isActive:d})=>`w-full flex items-center pl-6 pr-4 py-2.5 rounded-lg text-base font-medium transition-all duration-200 group ${d?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-md":"text-green-700 hover:bg-green-200/50"}`,children:o.jsx("span",{className:"tracking-wide",children:c.label})},c.label))})]},u.groupLabel))}),o.jsx("div",{className:"mt-auto pt-8 text-center",children:o.jsx("p",{className:"text-sm text-green-600",children:" 2025 Casino App. All rights reserved."})})]}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:o.jsx("main",{className:"flex-1 bg-gray-50 overflow-y-auto",children:o.jsx(Pu,{})})})]}),e&&o.jsx("div",{onClick:()=>t(!1),className:"md:hidden fixed inset-0 bg-gray-900/30 backdrop-blur-sm z-20 transition-opacity","aria-hidden":"true"}),o.jsx(Lu,{isOpen:n,onClose:()=>r(!1),userData:s||{}})]})}const Rv=[{groupLabel:"Main",options:[{label:"Dashboard",to:"/agent"}]},{groupLabel:"User Management",options:[{label:"Search Users",to:F.SearchUser},{label:"Balance Adjustment",to:F.BalanceAdjustment},{label:"Kickoff Users",to:F.KickoffUser},{label:"Member List",to:F.ListUsersPage},{label:"Update Commission",to:F.UpdateCommission}]},{groupLabel:"Admin Management",options:[{label:"Create User",to:F.CreateSubAgent},{label:"update Status",to:F.UpdateStatusPage}]},{groupLabel:"Reports",options:[{label:"Points File",to:F.PointFile},{label:"In Points",to:F.InPoints},{label:"Out Points",to:F.OutPoints},{label:"Game History",to:F.GameHistory},{label:"Turn Over",to:F.TurnOver}]},{groupLabel:"Account",options:[{label:"Reset Password",to:F.resetPasswordRoute}]}];function _v(){const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[s,a]=f.useState(null),l=It();f.useEffect(()=>{(async()=>{var d;const c=await te.getCurrentUserProfile();if(c.success&&c.data){const m={name:c.data.name||c.data.username,username:c.data.username,email:c.data.email||"N/A",role:c.data.role,phone:c.data.phone_number||"N/A",wallet_amount:((d=c.data.wallet)==null?void 0:d.current_balance)??0};a(m)}else console.error("Failed to fetch user profile:",c.message)})()},[]);const i=async()=>{try{In.dashboardLogout()}catch(u){console.error("Backend logout call failed, but logging out from frontend:",u)}finally{localStorage.clear(),l("/")}};return o.jsxs("div",{className:"w-full h-screen bg-white flex flex-col overflow-hidden",children:[o.jsxs("header",{className:"flex items-center justify-between h-20 px-4 sm:px-6 bg-white border-b-2 border-green-200 shadow-sm flex-shrink-0 z-40",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>t(!e),className:"md:hidden mr-3 p-2 rounded-full hover:bg-gray-100 flex items-center justify-center sm:px-4 sm:py-2 font-bold text-white transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"hidden sm:flex items-center",children:[" ",o.jsx("img",{src:xr,alt:"Casino App Logo",className:"h-10 w-auto mr-3"})," ",o.jsx("span",{className:"text-lg font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full capitalize",children:s==null?void 0:s.role})]}),o.jsxs("div",{className:"sm:hidden flex items-center",children:[o.jsx("img",{src:xr,alt:"Casino App Logo",className:"h-8 w-auto"})," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx("div",{className:"text-right hidden sm:block",children:o.jsxs("p",{className:"text-green-700 font-semibold text-sm sm:text-base whitespace-nowrap",children:["Welcome, ",(s==null?void 0:s.username)||"..."]})}),o.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-full hover:bg-gray-100 flex items-center justify-center sm:px-4 sm:py-2 font-bold text-white transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",title:"View Profile",children:o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"})})}),o.jsxs("button",{onClick:i,className:"flex items-center justify-center p-2 sm:px-4 sm:py-2 font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",title:"Logout",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Logout"})]})]})]}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[o.jsxs("aside",{className:`w-64 bg-gradient-to-b from-green-50 to-green-100 border-r-2 border-green-200 flex flex-col p-4 shadow-lg flex-shrink-0 transform transition-transform duration-300 ease-in-out z-30 fixed md:relative h-full ${e?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:[o.jsx("nav",{className:"flex-1 mt-4 h-full overflow-y-auto",children:Rv.map(u=>o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"px-3 mb-2 text-sm font-semibold text-green-500 uppercase tracking-wider",children:u.groupLabel}),o.jsx("div",{className:"space-y-1",children:u.options.map(c=>o.jsx(ha,{to:c.to,onClick:()=>{c.to==="/agent/profile"&&r(!0),t(!1)},end:c.to==="/agent",className:({isActive:d})=>`w-full flex items-center pl-6 pr-4 py-2.5 rounded-lg text-base font-medium transition-all duration-200 group ${d&&c.to!=="/agent/profile"?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-md":"text-green-700 hover:bg-green-200/50"}`,children:o.jsx("span",{className:"tracking-wide",children:c.label})},c.label))})]},u.groupLabel))}),o.jsx("div",{className:"mt-auto pt-8 text-center",children:o.jsx("p",{className:"text-sm text-green-600",children:" 2025 Casino App. All rights reserved."})})]}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:o.jsx("main",{className:"flex-1 bg-gray-50 overflow-y-auto",children:o.jsx(Pu,{})})})]}),e&&o.jsx("div",{onClick:()=>t(!1),className:"md:hidden fixed inset-0 bg-gray-900/30 backdrop-blur-sm z-20 transition-opacity","aria-hidden":"true"}),o.jsx(Lu,{isOpen:n,onClose:()=>r(!1),userData:s||{}})]})}const Tv=[{groupLabel:"Main",options:[{label:"Dashboard",to:"/subagent"}]},{groupLabel:"User Management",options:[{label:"Search user",to:F.SearchUser},{label:"Balance adjustment",to:F.BalanceAdjustment},{label:"Kickoff users",to:F.KickoffUser},{label:"Member List",to:F.ListUsersPage}]},{groupLabel:"Sub-Agent Management",options:[{label:"Create user",to:F.CreateUser},{label:"update status",to:F.UpdateStatusPage}]},{groupLabel:"Reports",options:[{label:"points file",to:F.PointFile},{label:"in points",to:F.InPoints},{label:"out points",to:F.OutPoints},{label:"game history",to:F.GameHistory},{label:"turn over",to:F.TurnOver}]},{groupLabel:"Account",options:[{label:"Reset Password",to:F.resetPasswordRoute}]}];function Lv(){const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[s,a]=f.useState(null),l=It();f.useEffect(()=>{(async()=>{var d;const c=await te.getCurrentUserProfile();if(c.success&&c.data){const m={name:c.data.name||c.data.username,username:c.data.username,email:c.data.email||"N/A",role:c.data.role,phone:c.data.phone_number||"N/A",wallet_amount:((d=c.data.wallet)==null?void 0:d.current_balance)??0};a(m)}else console.error("Failed to fetch user profile:",c.message)})()},[]);const i=async()=>{try{In.dashboardLogout()}catch(u){console.error("Backend logout call failed, but logging out from frontend:",u)}finally{localStorage.clear(),l("/")}};return o.jsxs("div",{className:"w-full h-screen bg-white flex flex-col overflow-hidden",children:[o.jsxs("header",{className:"flex items-center justify-between h-20 px-4 sm:px-6 bg-white border-b-2 border-green-200 shadow-sm flex-shrink-0 z-40",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>t(!e),className:"md:hidden mr-3 p-2 rounded-full hover:bg-gray-100 flex items-center justify-center sm:px-4 sm:py-2 font-bold text-white transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"hidden sm:flex items-center",children:[" ",o.jsx("img",{src:xr,alt:"Casino App Logo",className:"h-10 w-auto mr-3"})," ",o.jsx("span",{className:"text-lg font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full capitalize",children:s==null?void 0:s.role})]}),o.jsxs("div",{className:"sm:hidden flex items-center",children:[o.jsx("img",{src:xr,alt:"Casino App Logo",className:"h-8 w-auto"})," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx("div",{className:"text-right hidden sm:block",children:o.jsxs("p",{className:"text-green-700 font-semibold text-sm sm:text-base whitespace-nowrap",children:["Welcome, ",(s==null?void 0:s.username)||"..."]})}),o.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-full hover:bg-gray-100 flex items-center justify-center sm:px-4 sm:py-2 font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",title:"View Profile",children:o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"})})}),o.jsxs("button",{onClick:i,className:"flex items-center justify-center p-2 sm:px-4 sm:py-2 font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:scale-105",title:"Logout",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Logout"})]})]})]}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[o.jsxs("aside",{className:`w-64 bg-gradient-to-b from-green-50 to-green-100 border-r-2 border-green-200 flex flex-col p-4 shadow-lg flex-shrink-0 transform transition-transform duration-300 ease-in-out z-30 fixed md:relative h-full ${e?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:[o.jsx("nav",{className:"flex-1 mt-4 h-full overflow-y-auto",children:Tv.map(u=>o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"px-3 mb-2 text-sm font-semibold text-green-500 uppercase tracking-wider",children:u.groupLabel}),o.jsx("div",{className:"space-y-1",children:u.options.map(c=>o.jsx(ha,{to:c.to,onClick:()=>t(!1),end:c.to==="/subagent",className:({isActive:d})=>`w-full flex items-center pl-6 pr-4 py-2.5 rounded-lg text-base font-medium transition-all duration-200 group ${d?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-md":"text-green-700 hover:bg-green-200/50"}`,children:o.jsx("span",{className:"tracking-wide",children:c.label})},c.label))})]},u.groupLabel))}),o.jsx("div",{className:"mt-auto pt-8 text-center",children:o.jsx("p",{className:"text-sm text-green-600",children:" 2025 Casino App. All rights reserved."})})]}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:o.jsx("main",{className:"flex-1 bg-gray-50 overflow-y-auto",children:o.jsx(Pu,{})})})]}),e&&o.jsx("div",{onClick:()=>t(!1),className:"md:hidden fixed inset-0 bg-gray-900/30 backdrop-blur-sm z-20 transition-opacity","aria-hidden":"true"}),o.jsx(Lu,{isOpen:n,onClose:()=>r(!1),userData:s||{}})]})}function Av(){const e=It(),[t,n]=f.useState({username:"",password:""}),[r,s]=f.useState({}),[a,l]=f.useState(null),[i,u]=f.useState(!1),[c,d]=f.useState(null),m=E=>{const{name:h,value:b}=E.target;n(j=>({...j,[h]:b})),r[h]&&s(j=>({...j,[h]:void 0})),a&&l(null)},x=async E=>{E.preventDefault();const h={};if(t.username||(h.username="Username is required"),t.password||(h.password="Password is required"),s(h),Object.keys(h).length===0){u(!0),l(null);const b=await In.login(t);u(!1),b.success&&b.data?(d("Login successful! Redirecting..."),localStorage.setItem("authToken",b.data.token),localStorage.setItem("userRole",b.data.user.role),localStorage.setItem("userData",JSON.stringify(b.data.user)),setTimeout(()=>{const j=b.data.user.role;j==="admin"?e("/admin"):j==="agent"?e("/agent"):j==="sub-agent"&&e("/subagent")},1500)):l(b.message)}};return o.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-2xl w-full",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"mx-auto w-16 h-16 md:w-20 md:h-20 bg-green-600 rounded-full flex items-center justify-center mb-6",children:o.jsx("svg",{className:"w-8 h-8 md:w-10 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Login Page"}),o.jsx("p",{className:"text-sm md:text-lg text-gray-600",children:"Please authenticate to continue"})]}),o.jsx("div",{className:"bg-white border-2 border-green-200 rounded-2xl shadow-xl p-6 md:p-8",children:o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{className:"mt-7 flex flex-col md:flex-row md:items-start",children:[o.jsx("div",{className:"w-full mb-2 text-left md:mb-0 md:w-1/3 md:pt-2",children:o.jsx("label",{htmlFor:"username",className:"text-sm md:text-lg font-semibold text-gray-800",children:"Username:"})}),o.jsxs("div",{className:"w-full md:w-2/3",children:[o.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:m,className:`w-full px-3 py-2 text-sm md:text-base border-2 rounded-lg ${r.username?"border-red-400":"border-gray-300 focus:ring-green-500 focus:border-green-500"}`,placeholder:"Enter your username"}),r.username&&o.jsx("p",{className:"mt-2 text-xs md:text-sm text-left text-red-600 font-medium",children:r.username})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start",children:[o.jsx("div",{className:"w-full mb-2 text-left md:mb-0 md:w-1/3 md:pt-2",children:o.jsx("label",{htmlFor:"password",className:"text-sm md:text-lg font-semibold text-gray-800",children:"Password:"})}),o.jsxs("div",{className:"w-full md:w-2/3",children:[o.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:m,className:`w-full px-3 py-2 text-sm md:text-base border-2 rounded-lg ${r.password?"border-red-400":"border-gray-300 focus:ring-green-500 focus:border-green-500"}`,placeholder:"Enter Password"}),r.password&&o.jsx("p",{className:"mt-2 text-xs md:text-sm text-left text-red-600 font-medium",children:r.password})]})]}),a&&o.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3",role:"alert",children:[o.jsx("p",{className:"font-bold text-sm",children:"Login Failed"}),o.jsx("p",{className:"text-sm",children:a})]}),c&&o.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-3",role:"alert",children:[o.jsx("p",{className:"font-bold text-sm",children:"Success"}),o.jsx("p",{className:"text-sm",children:c})]}),o.jsx("div",{className:"mt-15 flex justify-center pt-4",children:o.jsx("button",{type:"submit",disabled:i||!!c,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:i?o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 md:h-6 md:w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{className:"text-lg md:text-xl",children:"Signing In..."})]}):o.jsx("span",{className:"tracking-wide",children:"LOGIN"})})})]})}),o.jsx("div",{className:"text-center mt-8",children:o.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:" 2025 Company Name. All rights reserved."})})]})})}var Dv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ov=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iv=(e,t)=>{const n=f.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:i,...u},c)=>f.createElement("svg",{ref:c,...Dv,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:`lucide lucide-${Ov(e)}`,...u},[...t.map(([d,m])=>f.createElement(d,m)),...(Array.isArray(i)?i:[i])||[]]));return n.displayName=`${e}`,n};var we=Iv;const Uv=we("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fv=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ts=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Bv=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Mv=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),zv=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$v=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Dt=we("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Hv=we("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Vv=we("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),Mh=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Wv=we("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),zh=we("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Iu=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qv=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Kv=we("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Gv=we("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]),Qv=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Yv=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Jv=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Xv=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Zv=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ze=we("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function tl(){const[e,t]=f.useState("admin"),[n,r]=f.useState(""),[s,a]=f.useState("self"),[l,i]=f.useState("agent"),[u,c]=f.useState(""),[d,m]=f.useState([]),[x,E]=f.useState([]),[h,b]=f.useState([]),[j,g]=f.useState(!0),[p,y]=f.useState(""),[N,P]=f.useState(""),[w,R]=f.useState({}),[S,D]=f.useState(!1),[v,_]=f.useState(null),[A,z]=f.useState(null);f.useEffect(()=>{const L=localStorage.getItem("userRole")||"admin",k=L==="sub-agent"?"subagent":L,O=localStorage.getItem("userData")||"{}",J=JSON.parse(O).id;t(k),r(J),(async()=>{var Y,ee,K;g(!0);try{const[G,le,ge]=await Promise.all([te.listUser({role:"agent",limit:1e4}),te.listUser({role:"sub-agent",limit:1e4}),te.listUser({role:"user",limit:1e4})]);G.success&&m(((Y=G.data)==null?void 0:Y.users)||[]),le.success&&E(((ee=le.data)==null?void 0:ee.users)||[]),ge.success&&b(((K=ge.data)==null?void 0:K.users)||[])}catch{z("Failed to load user lists. Please refresh the page.")}g(!1)})()},[]),f.useEffect(()=>{s==="self"?i("self"):e==="admin"?i("agent"):e==="agent"?i("subagent"):e==="subagent"&&i("user"),c(""),y(""),P(""),R({}),z(null)},[s,e]),f.useEffect(()=>{c(""),R(L=>({...L,selectedTargetId:""}))},[l]);const M=f.useMemo(()=>e==="admin"?["agent","subagent","user"]:e==="agent"?["subagent","user"]:["user"],[e]),W=f.useMemo(()=>{if(s==="self"||j)return[];switch(l){case"agent":return e==="admin"?d:[];case"subagent":return e==="admin"?x:e==="agent"?x.filter(L=>L.agent_id===n):[];case"user":if(e==="admin")return h;if(e==="agent"){const L=x.filter(k=>k.agent_id===n).map(k=>k._id);return h.filter(k=>k.subagent_id&&L.includes(k.subagent_id))}return e==="subagent"?h.filter(L=>L.subagent_id===n):[];default:return[]}},[s,l,e,n,d,x,h,j]),H=()=>{const k=[...d,...x,...h].find(O=>O._id===u);return(k==null?void 0:k.name)||u},U=()=>{const L={};return p||(L.password="Password is required"),s==="self"&&(N?p!==N&&(L.confirmPassword="Passwords do not match"):L.confirmPassword="Confirm your password"),s==="others"&&!u&&(L.selectedTargetId=`Please select a ${l}.`),R(L),Object.keys(L).length===0},C=async L=>{if(L.preventDefault(),z(null),!!U()){D(!0);try{let k;if(s==="self"?k=await In.selfResetPassword({password:p,confirm_password:N}):k=await In.otherResetPassword({user_id:u,password:p}),k.success){const O=s==="self"?"Your":`${H()}'s`;_(`${O} password has been updated successfully!`),y(""),P(""),c(""),R({}),setTimeout(()=>_(null),5e3)}else z(k.message||"An unknown error occurred.")}catch(k){z(k.message||"Failed to connect to the server.")}finally{D(!1)}}};return j?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("p",{className:"text-lg text-green-700",children:"Loading user data..."})}):o.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8 font-sans",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5 sm:p-8 mb-8 border-2 border-green-200 text-center",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-extrabold text-green-800 flex items-center justify-center gap-2 sm:gap-3",children:[o.jsx(Vv,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})," Reset Password"]}),o.jsx("p",{className:"text-base sm:text-lg text-green-600 mt-1",children:"Change your password or reset for those under your hierarchy."}),o.jsxs("span",{className:"mt-4 inline-block bg-green-100 text-green-800 text-sm font-bold px-3 py-1 rounded-full shadow-inner",children:["Role: ",e.charAt(0).toUpperCase()+e.slice(1)]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-5 sm:p-8 border-2 border-green-200",children:[v&&o.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-xl relative mb-6 flex items-center shadow-md animate-fadeIn",children:[o.jsx(Ts,{className:"h-6 w-6 mr-3 flex-shrink-0"}),o.jsx("span",{className:"block font-medium",children:v})]}),A&&o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl relative mb-6 flex items-center shadow-md animate-fadeIn",children:[o.jsx(ze,{className:"h-6 w-6 mr-3 flex-shrink-0"}),o.jsx("span",{className:"block font-medium",children:A})]}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"What do you want to do? *"}),o.jsxs("select",{value:s,onChange:L=>a(L.target.value),className:"w-full px-4 py-2.5 sm:py-3 text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition shadow-sm",children:[o.jsx("option",{value:"self",children:"Reset My Own Password"}),o.jsx("option",{value:"others",children:"Reset Someone Else's Password"})]})]}),s==="others"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Select who you want to reset password for? *"}),o.jsx("select",{value:l,onChange:L=>i(L.target.value),className:"w-full px-4 py-2.5 sm:py-3 text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition shadow-sm",children:M.map(L=>o.jsx("option",{value:L,children:L.charAt(0).toUpperCase()+L.slice(1)},L))})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"selectedTargetId",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:["Select ",l," *"]}),o.jsxs("select",{id:"selectedTargetId",value:u,onChange:L=>c(L.target.value),className:`w-full px-4 py-2.5 sm:py-3 text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${w.selectedTargetId?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`,children:[o.jsxs("option",{value:"",children:["-- Select a ",l," --"]}),W.map(L=>o.jsx("option",{value:L._id,children:L.username},L._id))]}),w.selectedTargetId&&o.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"})," ",w.selectedTargetId]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:s==="self"?"Your New Password *":"New Password *"}),o.jsx("input",{type:"password",autoComplete:"new-password",id:"password",value:p,onChange:L=>{y(L.target.value),R(k=>({...k,password:""}))},className:`w-full px-4 py-2.5 sm:py-3 text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${w.password?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`,placeholder:"Create password"}),w.password&&o.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"})," ",w.password]})]}),s==="self"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Confirm Password *"}),o.jsx("input",{type:"password",autoComplete:"new-password",id:"confirmPassword",value:N,onChange:L=>{P(L.target.value),R(k=>({...k,confirmPassword:""}))},className:`w-full px-4 py-2.5 sm:py-3 text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${w.confirmPassword?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`,placeholder:"Confirm password"}),w.confirmPassword&&o.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"})," ",w.confirmPassword]})]}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsx("button",{type:"submit",disabled:S,className:`w-full md:w-auto px-8 py-2.5 text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed ${S?"bg-green-600":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transform hover:scale-105"}`,children:S?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):s==="self"?"Update My Password":`Reset ${l}'s Password`})})]})]})]})})}function ew(){const e=It(),[t,n]=f.useState({username:"",password:"",confirm_password:""}),[r,s]=f.useState({}),[a,l]=f.useState(null),[i,u]=f.useState(!1),[c,d]=f.useState(null),m=E=>{const{name:h,value:b}=E.target;n(j=>({...j,[h]:b})),r[h]&&s(j=>({...j,[h]:void 0})),a&&l(null)},x=async E=>{E.preventDefault();const h={};if(t.username||(h.username="Username is required"),t.password||(h.password="Password is required"),t.password.length<4&&(h.password="Password must be at least 4 characters"),t.confirm_password||(h.confirm_password="Please confirm your password"),t.password&&t.confirm_password&&t.password!==t.confirm_password&&(h.confirm_password="Passwords do not match"),s(h),Object.keys(h).length===0){u(!0),l(null);const b=await In.publicForgotPassword(t);u(!1),b.success?(d("Password reset! Redirecting to login..."),setTimeout(()=>{e("/")},2e3)):l(b.message)}};return o.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-2xl w-full",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Reset Password"}),o.jsx("p",{className:"text-sm md:text-lg text-gray-600",children:"Enter your username and new password."})]}),o.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-2xl shadow-xl p-6 md:p-8",children:[o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start",children:[o.jsx("div",{className:"w-full mb-2 text-left md:mb-0 md:w-1/3 md:pt-2",children:o.jsx("label",{htmlFor:"username",className:"text-sm md:text-lg font-semibold text-gray-800",children:"Username:"})}),o.jsxs("div",{className:"w-full md:w-2/3",children:[o.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:m,className:`w-full px-3 py-2 text-sm md:text-base border-2 rounded-lg ${r.username?"border-red-400":"border-gray-300 focus:ring-green-500 focus:border-green-500"}`,placeholder:"Enter your username"}),r.username&&o.jsx("p",{className:"mt-2 text-xs md:text-sm text-left text-red-600 font-medium",children:r.username})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start",children:[o.jsx("div",{className:"w-full mb-2 text-left md:mb-0 md:w-1/3 md:pt-2",children:o.jsx("label",{htmlFor:"password",className:"text-sm md:text-lg font-semibold text-gray-800",children:"New Password:"})}),o.jsxs("div",{className:"w-full md:w-2/3",children:[o.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:m,className:`w-full px-3 py-2 text-sm md:text-base border-2 rounded-lg ${r.password?"border-red-400":"border-gray-300 focus:ring-green-500 focus:border-green-500"}`,placeholder:"Enter new password"}),r.password&&o.jsx("p",{className:"mt-2 text-xs md:text-sm text-left text-red-600 font-medium",children:r.password})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start",children:[o.jsx("div",{className:"w-full mb-2 text-left md:mb-0 md:w-1/3 md:pt-2",children:o.jsx("label",{htmlFor:"confirm_password",className:"text-sm md:text-lg font-semibold text-gray-800",children:"Confirm Password:"})}),o.jsxs("div",{className:"w-full md:w-2/3",children:[o.jsx("input",{id:"confirm_password",name:"confirm_password",type:"password",required:!0,value:t.confirm_password,onChange:m,className:`w-full px-3 py-2 text-sm md:text-base border-2 rounded-lg ${r.confirm_password?"border-red-400":"border-gray-300 focus:ring-green-500 focus:border-green-500"}`,placeholder:"Confirm new password"}),r.confirm_password&&o.jsx("p",{className:"mt-2 text-xs md:text-sm text-left text-red-600 font-medium",children:r.confirm_password})]})]}),a&&o.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3",role:"alert",children:[o.jsx("p",{className:"font-bold text-sm",children:"Error"}),o.jsx("p",{className:"text-sm",children:a})]}),c&&o.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-3",role:"alert",children:[o.jsx("p",{className:"font-bold text-sm",children:"Success"}),o.jsx("p",{className:"text-sm",children:c})]}),o.jsx("div",{className:"mt-15 flex justify-center pt-4",children:o.jsx("button",{type:"submit",disabled:i||!!c,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:i?"Resetting...":"Reset Password"})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(Tu,{to:"/",className:"font-medium text-green-600 hover:text-green-500",children:"Back to Login"})})]})]})})}class tw{static async getDashboardData(){return se.privateRequest({method:"GET",url:ae.Dashboard.GET_DATA})}}const zn=(e=0)=>`${e.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Fr=(e=0)=>e.toLocaleString("en-IN"),nw=(e=0)=>`${e.toFixed(2)}%`,rw=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),sw=({title:e,value:t,valueColor:n="text-gray-900"})=>o.jsxs("div",{className:"bg-white rounded-xl shadow-md sm:shadow-lg p-3 sm:p-4 border-t-4 border-green-400 transition-all duration-300 ease-in-out hover:shadow-2xl hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-500 rounded-full",children:o.jsx(rw,{})}),o.jsx("p",{className:"font-semibold text-gray-600 text-sm",children:e})]}),o.jsx("p",{className:`text-xl sm:text-3xl font-bold mt-3 break-words ${n}`,children:t})]});function nl(){const[e,t]=f.useState(null),[n,r]=f.useState(!0),[s,a]=f.useState(null);f.useEffect(()=>{(async()=>{r(!0),a(null);try{const u=await tw.getDashboardData();if(u.success&&u.data)t(u.data.data);else throw new Error(u.message||"Failed to fetch dashboard data.")}catch(u){a(u.message||"An unexpected error occurred.")}finally{r(!1)}})()},[]);const l=f.useMemo(()=>{if(!e)return[];const i=e,u=[];return i.totalAgents!==void 0&&u.push({key:"totalAgents",title:"Total Agents",value:Fr(i.totalAgents)}),i.totalSubAgents!==void 0&&u.push({key:"totalSubAgents",title:"Total Subagents",value:Fr(i.totalSubAgents)}),i.totalUsers!==void 0&&u.push({key:"totalUsers",title:"Total Users",value:Fr(i.totalUsers)}),u.push({key:"totalDeposit",title:"Total Deposit",value:zn(i.totalDeposit)},{key:"todayDeposit",title:"Today Deposit",value:zn(i.todayDeposit)},{key:"totalWithdraw",title:"Total Withdraw",value:zn(i.totalWithdraw),valueColor:"text-red-500"},{key:"todayWithdraw",title:"Today Withdraw",value:zn(i.todayWithdraw),valueColor:"text-red-500"},{key:"gamesPlayed",title:"Games Played",value:Fr(i.gamesPlayed)},{key:"todayGamesPlayed",title:"Today Games Played",value:Fr(i.todayGamesPlayed)},{key:"todayProfitLoss",title:"Today Profit/Loss",value:zn(i.todayProfitLoss),valueColor:i.todayProfitLoss&&i.todayProfitLoss<0?"text-red-500":"text-green-600"},{key:"totalProfitLoss",title:"Total Profit/Loss",value:zn(i.totalProfitLoss),valueColor:i.totalProfitLoss&&i.totalProfitLoss<0?"text-red-500":"text-green-600"},{key:"profitLossPercentage",title:"Total P/L %",value:nw(i.profitLossPercentage),valueColor:i.profitLossPercentage&&i.profitLossPercentage<0?"text-red-500":"text-green-600"}),u},[e]);return n?o.jsx("div",{className:"flex justify-center items-center h-screen",children:o.jsx("p",{className:"text-xl text-gray-500",children:"Loading Dashboard..."})}):s?o.jsx("div",{className:"flex justify-center items-center h-screen",children:o.jsxs("p",{className:"text-xl text-red-500 p-8 bg-red-100 rounded-lg",children:["Error: ",s]})}):o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-slate-50 min-h-screen font-sans",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-green-800",children:"Dashboard Overview"}),o.jsx("p",{className:"text-base sm:text-lg text-gray-500 mt-1",children:"Here is the latest summary of your account activity."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(i=>o.jsx(sw,{title:i.title,value:i.value,valueColor:i.valueColor},i.key))})]})}const rl=e=>[...e].sort((t,n)=>{var a,l;const r=((a=t.username)==null?void 0:a.toLowerCase())||"",s=((l=n.username)==null?void 0:l.toLowerCase())||"";return r.localeCompare(s)}),Js=e=>e?e._id?e._id:e.id?e.id:e.user&&e.user._id?e.user._id:e.user&&e.user.id?e.user.id:e.data&&e.data._id?e.data._id:e.data&&e.data.id?e.data.id:null:null;function sl(){const[e,t]=f.useState(null),[n,r]=f.useState(null),[s,a]=f.useState([]),[l,i]=f.useState([]),[u,c]=f.useState(null),[d,m]=f.useState({userType:"agent",username:"",password:"",phone_number:"",email_address:"",selectedAgentId:"",selectedSubagentId:"",commission:""}),[x,E]=f.useState({}),[h,b]=f.useState(!1),[j,g]=f.useState(null);f.useEffect(()=>{const w=localStorage.getItem("userRole"),R=localStorage.getItem("userData"),S=w==="sub-agent"?"subagent":w;if(S){t(S),R&&r(JSON.parse(R));let D="agent";S==="agent"&&(D="subagent"),S==="subagent"&&(D="user"),m(v=>({...v,userType:D}))}},[]),f.useEffect(()=>{if(!e)return;const w=()=>{const R=Js(n);if(R)return R;const S=localStorage.getItem("userData"),D=S?JSON.parse(S):null,v=Js(D);return v||c("Critical Error: Could not find your user ID. Please log in again."),v};e==="admin"?(async()=>{const S=await te.listUser({role:"agent",limit:1e4});S.success&&S.data?a(rl(S.data.users)):c(S.message||"Failed to fetch agents list.")})():e==="agent"?(async()=>{const S=w();if(!S)return;try{const v=await te.getProfile();v.success&&v.data?r(v.data.user||v.data):c(v.message||"Failed to load your profile.")}catch{c("Error fetching profile.")}const D=await te.listUser({role:"sub-agent",agent_id:S,limit:1e4});D.success&&D.data?i(rl(D.data.users)):c(D.message||"Failed to fetch your sub-agents.")})():e==="subagent"&&(async()=>{try{const S=await te.getProfile();S.success&&S.data?r(S.data.user||S.data):c(S.message||"Failed to load your full profile. Cannot create users.")}catch(S){console.error("Failed to fetch profile:",S),c("Failed to fetch profile. Please check UserService.getProfile().")}})()},[e]),f.useEffect(()=>{e==="admin"&&d.selectedAgentId?(async()=>{const R=await te.listUser({role:"sub-agent",agent_id:d.selectedAgentId,limit:1e4});R.success&&R.data?i(rl(R.data.users)):(c(R.message||"Failed to fetch sub-agents for the selected agent."),i([]))})():e==="admin"&&!d.selectedAgentId&&i([])},[e,d.selectedAgentId]),f.useEffect(()=>{let w;return(j||u)&&(w=setTimeout(()=>{g(null),c(null)},5e3)),()=>clearTimeout(w)},[j,u]);const p=w=>{const{name:R,value:S}=w.target;c(null),g(null),m(D=>{const v={...D,[R]:S};return R==="userType"&&(v.selectedAgentId="",v.selectedSubagentId="",v.commission="",e==="admin"&&i([])),R==="selectedAgentId"&&e==="admin"&&(v.selectedSubagentId="",i([])),v}),x[R]&&E(D=>({...D,[R]:void 0}))},y=()=>{const w={};if(d.username?/\s/.test(d.username)?w.username="Username cannot contain spaces.":/[A-Z]/.test(d.username)?w.username="Username must be in lowercase.":d.username.length<4&&(w.username="Username must be at least 4 characters long"):w.username="Username is required",d.password?d.password.length<4&&(w.password="Password must be at least 4 characters long"):w.password="Password is required",d.email_address.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email_address)&&(w.email_address="If provided, please enter a valid email"),d.userType==="agent"||d.userType==="subagent"){const R=parseFloat(d.commission);if(d.commission.trim()==="")w.commission="Commission is required for Agents and Sub-agents.";else if(isNaN(R)||R<0)w.commission="Commission must be a positive number.";else if(R>2.5)w.commission="Commission cannot be more than 2.5%.";else if(e==="agent"&&d.userType==="subagent"&&(n==null?void 0:n.commission)!==void 0)R>n.commission&&(w.commission=`Commission cannot exceed your own commission of ${n.commission}%.`);else if(e==="admin"&&d.userType==="subagent"&&d.selectedAgentId){const S=s.find(D=>D._id===d.selectedAgentId);(S==null?void 0:S.commission)!==void 0&&R>S.commission&&(w.commission=`Commission cannot exceed parent agent's commission of ${S.commission}%.`)}}return e==="admin"&&(d.userType==="subagent"&&!d.selectedAgentId&&(w.selectedAgentId="Please select an agent for the sub-agent."),d.userType==="user"&&!d.selectedAgentId&&(w.selectedAgentId="Please select an agent for the user.")),d.userType==="user"&&(e==="agent"||e==="admin"&&d.selectedAgentId)&&!d.selectedSubagentId&&(w.selectedSubagentId="Please select a sub-agent for the user."),E(w),Object.keys(w).length===0},N=async w=>{if(w.preventDefault(),!n){c("User profile is still loading, please wait and try again.");return}if(!y())return;b(!0),c(null),g(null);const R={username:d.username,password:d.password,phone_number:d.phone_number||void 0,email:d.email_address||void 0,type:d.userType==="subagent"?"sub-agent":d.userType};if((d.userType==="agent"||d.userType==="subagent")&&(R.commission=parseFloat(d.commission)),e==="admin")(d.userType==="subagent"||d.userType==="user")&&(R.agent_id=d.selectedAgentId,d.userType==="user"&&(R.subagent_id=d.selectedSubagentId));else if(e==="agent"){const D=Js(n);if(!D){c("Critical Error: Could not find logged-in agent's ID. Please log in again."),b(!1);return}R.agent_id=D,d.userType==="user"&&(R.subagent_id=d.selectedSubagentId)}else if(e==="subagent"){const D=n==null?void 0:n.agent_id,v=Js(n);if(!D||!v){console.error("Failed to find IDs. ParentAgentID:",D,"SubagentID:",v),console.error("Full loggedInUser object:",n),c("Critical Error: Could not determine parent IDs. Please log in again."),b(!1);return}R.agent_id=D,R.subagent_id=v}const S=await te.createUser(R);S.success&&S.data?(g(S.data.message||"User created successfully!"),m({userType:e==="admin"?"agent":e==="agent"?"subagent":"user",username:"",password:"",phone_number:"",email_address:"",selectedAgentId:"",selectedSubagentId:"",commission:""}),E({})):c(S.message||"Failed to create user."),b(!1)},P=()=>e==="admin"?["agent","subagent","user"]:e==="agent"?["subagent","user"]:e==="subagent"?["user"]:[];return e?o.jsx("div",{className:"min-h-screen bg-gray-50 p-4 font-sans",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-8 border-2 border-green-200 text-center",children:[o.jsxs("h1",{className:"text-xl sm:text-3xl font-extrabold text-green-800 flex items-center justify-center gap-2",children:[o.jsx(Xv,{className:"h-7 w-7 sm:h-8 sm:w-8 text-green-600"})," Create New User"]}),o.jsx("p",{className:"text-sm sm:text-lg text-green-600 mt-1",children:"Fill in the details below to create a new entity."}),o.jsxs("span",{className:"mt-4 inline-block bg-green-100 text-green-800 text-xs sm:text-sm font-bold px-3 py-1 rounded-full shadow-inner",children:["Role: ",e.charAt(0).toUpperCase()+e.slice(1)]})]}),j&&o.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-xl relative mb-6 flex items-center shadow-md animate-fadeIn",children:[o.jsx(Ts,{className:"h-6 w-6 mr-3 flex-shrink-0"}),o.jsx("span",{className:"block font-medium",children:j})]}),u&&o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl relative mb-6 flex items-center shadow-md animate-fadeIn",children:[o.jsx(ze,{className:"h-6 w-6 mr-3 flex-shrink-0"}),o.jsx("span",{className:"block font-medium",children:u})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-8 border-2 border-green-200",children:o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e!=="subagent"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"userType",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"User Type to Create *"}),o.jsx("select",{id:"userType",name:"userType",value:d.userType,onChange:p,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition shadow-sm",children:P().map(w=>o.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))})]}),e==="admin"&&(d.userType==="subagent"||d.userType==="user")&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"selectedAgentId",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Assign to Agent *"}),o.jsxs("select",{id:"selectedAgentId",name:"selectedAgentId",value:d.selectedAgentId,onChange:p,className:`w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${x.selectedAgentId?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`,children:[o.jsx("option",{value:"",children:"Select an Agent"}),s.map(w=>o.jsx("option",{value:w._id,children:w.username},w._id))]}),x.selectedAgentId&&o.jsxs("p",{className:"text-red-500 text-xs sm:text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"}),x.selectedAgentId]})]}),d.userType==="user"&&(e==="agent"||e==="admin")&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"selectedSubagentId",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Assign to Sub-agent *"}),o.jsxs("select",{id:"selectedSubagentId",name:"selectedSubagentId",value:d.selectedSubagentId,onChange:p,disabled:e==="admin"&&!d.selectedAgentId||e==="agent"&&l.length===0,className:`w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm disabled:bg-gray-100 ${x.selectedSubagentId?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`,children:[o.jsx("option",{value:"",children:e==="agent"&&l.length===0?"You have no sub-agents":"Select a Sub-agent"}),l.map(w=>o.jsx("option",{value:w._id,children:w.username},w._id))]}),x.selectedSubagentId&&o.jsxs("p",{className:"text-red-500 text-xs sm:text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"}),x.selectedSubagentId]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Username *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Zv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",id:"username",name:"username",value:d.username,onChange:p,placeholder:"Enter a unique username",className:`w-full pl-10 pr-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${x.username?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`})]}),x.username&&o.jsxs("p",{className:"text-red-500 text-xs sm:text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"}),x.username]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"password",id:"password",name:"password",value:d.password,onChange:p,placeholder:"Min. 4 characters",className:`w-full pl-10 pr-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${x.password?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`})]}),x.password&&o.jsxs("p",{className:"text-red-500 text-xs sm:text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"}),x.password]})]})]}),(d.userType==="agent"||d.userType==="subagent")&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"commission",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Commission (%) *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"number",step:"0.01",min:"0",max:"2.5",id:"commission",name:"commission",value:d.commission,onChange:p,placeholder:"Enter commission (e.g., 2.5)",className:`w-full pl-10 pr-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${x.commission?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`})]}),x.commission&&o.jsxs("p",{className:"text-red-500 text-xs sm:text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"}),x.commission]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email_address",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Email Address (Optional)"}),o.jsx("input",{type:"email",id:"email_address",name:"email_address",value:d.email_address,onChange:p,placeholder:"Enter email address",className:`w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${x.email_address?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`}),x.email_address&&o.jsxs("p",{className:"text-red-500 text-xs sm:text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"}),x.email_address]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone_number",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Phone Number (Optional)"}),o.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:d.phone_number,onChange:p,placeholder:"Enter 10-digit phone number",maxLength:10,className:`w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 rounded-lg focus:outline-none focus:ring-2 transition shadow-sm ${x.phone_number?"border-red-400 focus:ring-red-500":"border-green-300 focus:ring-green-500"}`}),x.phone_number&&o.jsxs("p",{className:"text-red-500 text-xs sm:text-sm mt-1 flex items-center",children:[o.jsx(ze,{className:"w-4 h-4 mr-1"}),x.phone_number]})]}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsx("button",{type:"submit",disabled:h,className:`w-full sm:w-auto px-8 py-2.5 text-base sm:px-16 sm:py-3 sm:text-lg font-bold text-white rounded-xl transition-all duration-300 shadow-lg disabled:cursor-not-allowed ${h?"!bg-green-600":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transform hover:scale-105"}`,children:h?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):`Create ${d.userType.charAt(0).toUpperCase()+d.userType.slice(1)}`})})]})})]})}):o.jsx("div",{children:"Loading..."})}function ol(){const[e,t]=f.useState(null),[n,r]=f.useState("agent"),[s,a]=f.useState([]),[l,i]=f.useState(""),[u,c]=f.useState(""),[d,m]=f.useState("active"),[x,E]=f.useState(!1),[h,b]=f.useState(!1),[j,g]=f.useState(null),[p,y]=f.useState(0),N=f.useRef();f.useEffect(()=>{const S=localStorage.getItem("userRole"),D=S==="sub-agent"?"subagent":S;if(D){t(D);let v="agent";D==="agent"&&(v="subagent"),D==="subagent"&&(v="user"),r(v),N.current=v}},[]),f.useEffect(()=>{if(!e)return;(async()=>{b(!0),a([]),c(""),N.current!==n&&g(null);const D=n==="subagent"?"sub-agent":n,v=await te.listUser({role:D,limit:1e3});if(v.success&&v.data){const _=v.data.users.sort((A,z)=>{var H,U;const M=((H=A.username)==null?void 0:H.toLowerCase())||"",W=((U=z.username)==null?void 0:U.toLowerCase())||"";return M.localeCompare(W)});a(_),_.length===0&&N.current!==n&&g({type:"error",message:`No ${n}s found.`})}else N.current!==n&&g({type:"error",message:v.message||`Failed to fetch ${n} list.`});b(!1)})(),N.current=n},[e,n,p]),f.useEffect(()=>{if(!j)return;const S=setTimeout(()=>g(null),3e3);return()=>clearTimeout(S)},[j]);const P=f.useMemo(()=>e==="admin"?["agent","subagent","user"]:e==="agent"?["subagent","user"]:e==="subagent"?["user"]:[],[e]),w=f.useMemo(()=>l?s.filter(S=>{var D;return(D=S.username)==null?void 0:D.toLowerCase().includes(l.toLowerCase())}):s,[s,l]),R=async S=>{var _;if(S.preventDefault(),!u){g({type:"error",message:"Please select a user to update."});return}E(!0),g(null);const D=d==="active"?"unlocked":"locked",v=await te.updateLockStatus(u,D);v.success?(g({type:"success",message:((_=v.data)==null?void 0:_.message)||"User status updated successfully!"}),y(A=>A+1)):g({type:"error",message:v.message||"Failed to update user status."}),E(!1)};return e?o.jsx("div",{className:"min-h-screen bg-gray-50 p-4 font-sans",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-8 border-2 border-green-200 text-center",children:[o.jsxs("h1",{className:"text-xl sm:text-3xl font-bold text-green-800 flex items-center justify-center gap-2",children:[o.jsx(Mh,{className:"h-7 w-7 sm:h-8 sm:w-8 text-green-600"}),"Lock / Unlock User"]}),o.jsx("p",{className:"text-sm sm:text-lg text-green-600 mt-1",children:"Select a user and choose an action to apply."}),o.jsxs("span",{className:"mt-4 inline-block bg-green-100 text-green-800 text-xs sm:text-sm font-semibold px-3 py-1 rounded-full",children:["Logged in as: ",e.charAt(0).toUpperCase()+e.slice(1)]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border-2 border-green-200",children:[j&&o.jsxs("div",{className:`border px-4 py-3 rounded-xl relative mb-6 flex items-center shadow-md animate-fadeIn ${j.type==="success"?"bg-green-100 border-green-400 text-green-800":"bg-red-100 border-red-400 text-red-800"}`,children:[j.type==="success"?o.jsx(Ts,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-3"}):o.jsx(ze,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-3"}),o.jsx("span",{className:"text-sm sm:text-base",children:j.message})]}),o.jsxs("form",{onSubmit:R,className:"space-y-6",children:[P.length>1&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"userType",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Select Role to Update"}),o.jsx("select",{id:"userType",value:n,onChange:S=>{r(S.target.value),c(""),i("")},className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:P.map(S=>o.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"targetUser",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:n==="agent"?"Select Agent":n==="subagent"?"Select Sub-Agent":"Select User"}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("input",{type:"text",placeholder:"Type to search for a user...",value:l,onChange:S=>i(S.target.value),disabled:h||s.length===0,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition pl-10 disabled:bg-gray-100"}),o.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),o.jsxs("select",{id:"targetUser",value:u,onChange:S=>{c(S.target.value),g(null);const D=s.find(v=>v._id===S.target.value);D&&m(D.status==="active"?"deactivate":"active")},disabled:h||s.length===0,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:h?"Loading...":`-- Select a ${n} --`}),w.map(S=>o.jsxs("option",{value:S._id,children:[S.username," (Current: ",S.status,")"]},S._id))]}),w.length===0&&s.length>0&&o.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm mt-2",children:['No users found matching "',l,'".']})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newAction",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Action"}),o.jsxs("select",{id:"newAction",value:d,onChange:S=>m(S.target.value),className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition",children:[o.jsx("option",{value:"active",children:"Active (Unlock)"}),o.jsx("option",{value:"deactivate",children:"Deactivate (Lock)"})]})]}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsx("button",{type:"submit",disabled:x||!u,className:`w-full sm:w-auto px-8 py-2.5 text-base sm:px-16 sm:py-3 sm:text-lg font-bold text-white rounded-xl transition-all duration-300 shadow-lg disabled:cursor-not-allowed disabled:bg-green-300 ${x?"!bg-green-600":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transform hover:scale-105"}`,children:x?"Updating...":"Update Status"})})]})]})]})}):o.jsx("div",{children:"Loading user data..."})}const ow=`
  @keyframes fade-in { 0% { opacity: 0; } 100% { opacity: 1; } }
  .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
  @keyframes fade-in-scale { 0% { opacity: 0; transform: scale(0.95); } 100% { opacity: 1; transform: scale(1); } }
  .animate-fade-in-scale { animation: fade-in-scale 0.3s ease-out forwards; }
`,aw=({user:e,onBack:t,onSuccess:n})=>{const[r,s]=f.useState(!1),[a,l]=f.useState(""),[i,u]=f.useState(""),c=async()=>{var x;s(!0),l(""),u("");const d=(e.lock_status||"unlocked")==="locked"?"unlocked":"locked",m=await te.updateLockStatus(e._id,d);m.success?(u(((x=m.data)==null?void 0:x.message)||`User status has been updated to ${d}.`),setTimeout(()=>{n(),t()},1500)):(l(m.message||"Failed to update lock status."),s(!1))};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-full font-sans animate-fade-in",children:[o.jsxs("div",{className:"flex items-center mb-6 sm:mb-8",children:[o.jsx("button",{onClick:t,className:"mr-3 items-end w-auto px-4 py-2 text-base sm:px-8 sm:py-3 sm:text-xl md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:o.jsx("svg",{className:"w-5 h-5 sm:w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),o.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-green-800",children:["User Lock Status - ",e.username]})]}),o.jsxs("div",{className:"bg-white p-4 sm:p-8 rounded-2xl shadow-lg border border-green-100 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"mb-6 text-center space-y-4",children:[a&&o.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-lg",role:"alert",children:[o.jsx("p",{className:"font-bold",children:"Error"}),o.jsx("p",{children:a})]}),i&&o.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-800 p-4 rounded-lg",role:"alert",children:[o.jsx("p",{className:"font-bold",children:"Success"}),o.jsx("p",{children:i})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-md font-medium text-gray-700 mb-2",children:"User Lock Status"}),o.jsx("input",{type:"text",readOnly:!0,value:(e.lock_status||"N/A").toUpperCase(),className:"w-full px-4 py-3 text-base bg-gray-100 border border-gray-300 rounded-lg"})]})}),o.jsx("div",{className:"mt-10 flex justify-center",children:o.jsx("button",{onClick:c,disabled:r,className:"w-full md:w-auto px-4 py-2 text-base sm:px-8 sm:py-3 sm:text-xl md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:r?"Updating...":(e.lock_status||"")==="locked"?"Unlock User":"Lock User"})})]})]})},lw=({isOpen:e,onClose:t,onConfirm:n,title:r,message:s,confirmText:a="Yes",cancelText:l="Cancel",isConfirming:i=!1})=>e?o.jsx("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm flex justify-center items-center z-[60] p-4 transition-opacity duration-300",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm animate-fade-in-scale",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center p-5 border-b border-gray-200",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mb-2",children:o.jsx(Uv,{className:"w-6 h-6 text-red-600"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r})]}),o.jsx("div",{className:"p-6 text-center",children:o.jsx("p",{className:"text-sm text-gray-600",children:s})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-center sm:space-x-4 space-y-3 sm:space-y-0 p-5 bg-gray-50 rounded-b-xl",children:[o.jsx("button",{onClick:t,disabled:i,className:`w-full sm:w-auto px-8 py-2.5 text-base font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg 
                       bg-gradient-to-r from-green-500 to-green-600 
                       hover:from-green-600 hover:to-green-700 
                       active:from-green-700 active:to-green-800 
                       hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 
                       disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed`,children:l}),o.jsx("button",{onClick:n,disabled:i,className:`w-full sm:w-auto px-8 py-2.5 text-base font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg 
                       bg-gradient-to-r from-red-500 to-red-600 
                       hover:from-red-600 hover:to-red-700 
                       active:from-red-700 active:to-red-800 
                       hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-300 
                       disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed`,children:i?"Deleting...":a})]})]})}):null,iw=({isOpen:e,onClose:t,user:n,allAgents:r,allSubagents:s,onUserUpdate:a})=>{const[l,i]=f.useState(!1),[u,c]=f.useState((n==null?void 0:n.agent_id)||""),[d,m]=f.useState((n==null?void 0:n.subagent_id)||""),[x,E]=f.useState(!1),[h,b]=f.useState(!1),[j,g]=f.useState(""),[p,y]=f.useState(""),[N,P]=f.useState(!1);f.useEffect(()=>{n&&(c((n==null?void 0:n.agent_id)||""),m((n==null?void 0:n.subagent_id)||""),i(!1),g(""),y(""),b(!1),P(!1))},[n]);const w=async()=>{if(E(!0),g(""),y(""),!n){g("No user selected."),E(!1);return}try{const A=await te.updateUserAgents({userId:n._id,agent_id:u,subagent_id:d});A.success?(y("User updated successfully!"),E(!1),i(!1),setTimeout(()=>{a(),t()},1e3)):(g(A.message||"Failed to update user."),E(!1))}catch(A){g(A.message||"An error occurred."),E(!1)}},R=()=>{n&&P(!0)},S=async()=>{if(n){b(!0),g(""),y("");try{const A=await te.deleteUser(n._id);A.success?(y("User deleted successfully!"),b(!1),P(!1),setTimeout(()=>{a(),t()},1e3)):(g(A.message||"Failed to delete user."),b(!1))}catch(A){g(A.message||"An error occurred during deletion."),b(!1)}}},D=()=>{c((n==null?void 0:n.agent_id)||""),m((n==null?void 0:n.subagent_id)||""),i(!1),g("")},v=(A,z)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 py-3 border-b border-gray-100 items-center",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 col-span-1",children:A}),o.jsx("dd",{className:"text-sm text-gray-900 col-span-2 font-semibold break-words",children:z})]}),_=x||h;return!e||!n?null:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-gray-900/30 backdrop-blur-sm flex justify-center items-center z-50 p-4 transition-opacity duration-300",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm sm:max-w-md animate-fade-in-scale",onClick:A=>A.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-5 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-bold text-green-700",children:"User Profile"}),o.jsxs("div",{className:"flex items-center flex-nowrap space-x-2",children:[!l&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:R,disabled:_,className:`flex items-center justify-center gap-1 w-auto p-2 sm:px-3 text-sm font-bold text-white rounded-lg transition-all duration-200 transform shadow-lg 
                            bg-gradient-to-r from-red-500 to-red-600 
                            hover:from-red-600 hover:to-red-700 
                            active:from-red-700 active:to-red-800 
                            hover:scale-105 
                            focus:outline-none focus:ring-4 focus:ring-red-300 
                            disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed`,children:[o.jsx(Yv,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]}),o.jsxs("button",{onClick:()=>i(!0),disabled:_,className:`flex items-center justify-center gap-1 w-auto p-2 sm:px-4 text-sm font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg 
                        bg-gradient-to-r from-green-500 to-green-600 
                        hover:from-green-600 hover:to-green-700 
                        active:from-green-700 active:to-green-800 
                        hover:scale-105 
                        focus:outline-none focus:ring-4 focus:ring-green-300 
                        disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed`,children:[o.jsx(Wv,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})]}),o.jsx("button",{onClick:t,disabled:_,className:`w-auto p-2 text-sm font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg 
                       bg-gradient-to-r from-green-500 to-green-600 
                       hover:from-green-600 hover:to-green-700 
                       active:from-green-700 active:to-green-800 
                       hover:scale-105 
                       focus:outline-none focus:ring-4 focus:ring-green-300 
                       disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed`,children:o.jsx("svg",{className:"w-4 h-4 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("dl",{children:[v("Username",n.username),v("Points",n.points||0),v("Status",o.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${n.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.status?n.status.toUpperCase():"N/A"})),o.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 py-3 border-b border-gray-100 items-center",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 col-span-1",children:"Agent"}),o.jsx("dd",{className:"text-sm text-gray-900 col-span-2 font-semibold",children:l?o.jsxs("select",{value:u,onChange:A=>c(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white text-sm",children:[o.jsx("option",{value:"",children:"-- Select Agent --"}),r.map(A=>o.jsx("option",{value:A._id,children:A.username},A._id))]}):n.agentName||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 py-3 items-center",children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 col-span-1",children:"Sub Agent"}),o.jsx("dd",{className:"text-sm text-gray-900 col-span-2 font-semibold",children:l?o.jsxs("select",{value:d,onChange:A=>m(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white text-sm",children:[o.jsx("option",{value:"",children:"-- Select Subagent --"}),s.map(A=>o.jsx("option",{value:A._id,children:A.username},A._id))]}):n.subagentName||"N/A"})]})]}),j&&o.jsx("p",{className:"mt-4 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:j}),p&&o.jsx("p",{className:"mt-4 text-sm text-green-600 bg-green-50 p-3 rounded-md",children:p})]}),l&&o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end sm:space-x-3 space-y-2 sm:space-y-0 p-4 bg-gray-50 rounded-b-xl",children:[o.jsx("button",{onClick:D,disabled:_,className:`w-full sm:w-auto px-8 py-2.5 text-base font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg 
                           bg-gradient-to-r from-green-500 to-green-600 
                           hover:from-green-600 hover:to-green-700 
                           active:from-green-700 active:to-green-800 
                           hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 
                           disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed`,children:"Cancel"}),o.jsx("button",{onClick:w,disabled:_,className:`w-full sm:w-auto px-8 py-2.5 text-base font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg 
                           bg-gradient-to-r from-green-500 to-green-600 
                           hover:from-green-600 hover:to-green-700 
                           active:from-green-700 active:to-green-800 
                           hover:scale-105 
                           focus:outline-none focus:ring-4 focus:ring-green-300 
                           disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed`,children:x?"Saving...":"Save Changes"})]})]})}),o.jsx(lw,{isOpen:N,onClose:()=>P(!1),onConfirm:S,title:"Confirm Deletion",message:`Are you sure you want to delete the user ${n.username}? This action cannot be undone.`,confirmText:"Yes, Delete",cancelText:"Cancel",isConfirming:h})]})};function al(){const e=It(),[t,n]=f.useState([]),[r,s]=f.useState(!0),[a,l]=f.useState(null),[i,u]=f.useState("table"),[c,d]=f.useState(null),[m,x]=f.useState({userName:"",email:"",lockStatus:"all",status:"all"}),[E,h]=f.useState(1),b=5,[j,g]=f.useState(!1),[p,y]=f.useState(null),N=f.useMemo(()=>t.filter(U=>U.role==="agent").sort((U,C)=>(U.username||"").localeCompare(C.username||"")),[t]),P=f.useMemo(()=>t.filter(U=>(U.role||"").toString().toLowerCase().includes("sub")).sort((U,C)=>(U.username||"").localeCompare(C.username||"")),[t]),w=f.useCallback(async()=>{s(!0),l(null);try{const U=localStorage.getItem("userRole"),C=[];U==="admin"?C.push("agent","sub-agent","user"):U==="agent"?C.push("sub-agent","user"):(U==="sub-agent"||U==="subagent")&&C.push("user");let L=[];if(C.length===1){const I=await te.listUser({role:C[0],limit:5e3});I.success&&I.data&&(L=I.data.users)}else if(C.length>1)(await Promise.all(C.map(J=>te.listUser({role:J,limit:5e3})))).forEach(J=>{J.success&&J.data&&L.push(...J.data.users)});else{const I=await te.listUser({role:"user",limit:5e3});I.success&&I.data&&(L=I.data.users)}const O=Array.from(new Map(L.map(I=>[I._id,I])).values()).sort((I,J)=>{var ee,K;const q=((ee=I.username)==null?void 0:ee.toLowerCase())||"",Y=((K=J.username)==null?void 0:K.toLowerCase())||"";return q.localeCompare(Y)});n(O)}catch(U){l("Failed to load user data. Please try again."),console.error(U)}finally{s(!1)}},[]);f.useEffect(()=>{w()},[w]);const R=U=>{const{name:C,value:L}=U.target;x(k=>({...k,[C]:L})),h(1)},S=()=>{x({userName:"",email:"",lockStatus:"all",status:"all"}),h(1)},D=f.useMemo(()=>t.filter(U=>{const C=(U.username||"").toLowerCase().includes(m.userName.toLowerCase()),L=(U.email||"").toLowerCase().includes(m.email.toLowerCase()),k=m.lockStatus==="all"||(U.lock_status||"").toLowerCase()===m.lockStatus,O=m.status==="all"||(U.status||"").toLowerCase()===m.status;return C&&L&&k&&O}),[t,m]),v=E*b,_=v-b,A=D.slice(_,v),z=Math.ceil(D.length/b),M=U=>{if(!U)return"NONE";try{return new Date(U).toLocaleString("en-IN",{year:"2-digit",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},W=U=>U?U.replace("-"," ").split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "):"N/A";if(i==="lockStatus"&&c)return o.jsx(aw,{user:c,onBack:()=>u("table"),onSuccess:w});const H=()=>{const U=localStorage.getItem("userRole");if(!U)return;const C=U.replace("-","");e(`/${C}/${F.BalanceAdjustment}`)};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:ow}),o.jsx(iw,{isOpen:j,onClose:()=>g(!1),user:p,allAgents:N,allSubagents:P,onUserUpdate:()=>{g(!1),w()}}),o.jsxs("div",{className:"p-4 bg-gray-50 min-h-full font-sans animate-fade-in",children:[o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg mb-8 border border-green-100",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-600 mb-1",children:"User Name"}),o.jsx("input",{type:"text",id:"userName",name:"userName",value:m.userName,onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"e.g., W1"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),o.jsx("input",{type:"text",id:"email",name:"email",value:m.email,onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"e.g., w1@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lockStatus",className:"block text-sm font-medium text-gray-600 mb-1",children:"Lock Status"}),o.jsxs("select",{id:"lockStatus",name:"lockStatus",value:m.lockStatus,onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"locked",children:"Locked"}),o.jsx("option",{value:"unlocked",children:"Unlocked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-600 mb-1",children:"Status"}),o.jsxs("select",{id:"status",name:"status",value:m.status,onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"deactivated",children:"Deactivated"})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-end mt-6 space-y-3 sm:space-y-0 sm:space-x-4",children:[o.jsx("button",{onClick:()=>h(1),className:"items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-7L700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Submit"}),o.jsx("button",{onClick:S,className:"items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-7L700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Clear"})]})]}),o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-green-100",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-green-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsx("tr",{children:["Player","Role","Points","Last Login","Lock Status","Email","Status","Action"].map(U=>o.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:U},U))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-10 text-gray-500",children:"Loading users..."})}):a?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-10 text-red-500",children:a})}):A.length>0?A.map((U,C)=>o.jsxs("tr",{className:C%2===0?"bg-white":"bg-green-50/50 hover:bg-green-100/50",children:[o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("button",{onClick:()=>{y(U),g(!0)},className:"items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-7L700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:U.username})}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-medium",children:W(U.role)}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:U.points}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:M(U.lastlogin)}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("button",{onClick:()=>{d(U),u("lockStatus")},className:`items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-7L700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed ${(U.lock_status||"unlocked")==="locked"?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,children:(U.lock_status||"unlocked").toUpperCase()})}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:U.email}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-200 text-gray-800"}`,children:(U.status||"N/A").toUpperCase()})}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("button",{onClick:H,className:"items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-7L700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Transfer Points"})})]},U._id)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-10 text-gray-500",children:"No users found."})})})]})}),z>1&&o.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[o.jsxs("span",{className:"text-sm text-gray-700 mb-2 sm:mb-0",children:["Page ",E," of ",z]}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:()=>h(U=>Math.max(1,U-1)),disabled:E===1,className:"items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-7L700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("button",{onClick:()=>h(U=>Math.min(z,U+1)),disabled:E===z,className:"ml-3 items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-7L700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}class uw{static async adjustBalance(t){return se.privateRequest({method:"POST",url:ae.fund.BALANCE_ADJUSTMENT,data:t})}}const ll={admin:["agent","subagent","user"],agent:["subagent","user"],subagent:["user"]},$n=e=>[...e].sort((t,n)=>{var a,l;const r=((a=t.username)==null?void 0:a.toLowerCase())||"",s=((l=n.username)==null?void 0:l.toLowerCase())||"";return r.localeCompare(s)});function il(){const[e,t]=f.useState("admin"),[n,r]=f.useState(""),[s,a]=f.useState(null),[l,i]=f.useState(!0),[u,c]=f.useState([]),[d,m]=f.useState([]),[x,E]=f.useState([]),[h,b]=f.useState(!0),[j,g]=f.useState(""),[p,y]=f.useState({type:"",partner:"",adjust:"",amount:"",comments:""}),[N,P]=f.useState(""),[w,R]=f.useState(null),[S,D]=f.useState(!1);f.useEffect(()=>{var C,L;const M=localStorage.getItem("userRole")||"admin",W=M==="sub-agent"?"subagent":M,H=localStorage.getItem("userData")||"";let U="";try{const k=JSON.parse(H);U=k.id||k._id||((C=k.user)==null?void 0:C.id)||((L=k.user)==null?void 0:L._id)}catch(k){console.error("Failed to parse user data from localStorage",k),P("Session error. Please log in again.");return}if(!U){P("Could not find your ID. Please log in again.");return}t(W),r(U),y(k=>({...k,type:ll[W][0]||""})),W==="admin"?(i(!1),a(null)):(async()=>{var O;i(!0);try{const I=await te.getCurrentUserProfile();if(I.success&&I.data){const q=(O=I.data.wallet)==null?void 0:O.current_balance;a(q??0)}else console.error("Could not fetch user balance:",I.message),a(0)}catch(I){console.error("Error fetching profile:",I),a(0)}finally{i(!1)}})()},[]),f.useEffect(()=>{if(!n||!e)return;(async()=>{var W,H,U,C,L,k;b(!0);try{if(e==="admin"){const[O,I,J]=await Promise.all([te.listUser({role:"agent",limit:1e4}),te.listUser({role:"sub-agent",limit:1e4}),te.listUser({role:"user",limit:1e4})]);O.success&&c($n(((W=O.data)==null?void 0:W.users)||[])),I.success&&m($n(((H=I.data)==null?void 0:H.users)||[])),J.success&&E($n(((U=J.data)==null?void 0:U.users)||[]))}else if(e==="agent"){const[O,I]=await Promise.all([te.listUser({role:"sub-agent",agent_id:n,limit:1e4}),te.listUser({role:"user",agent_id:n,limit:1e4})]);O.success&&m($n(((C=O.data)==null?void 0:C.users)||[])),I.success&&E($n(((L=I.data)==null?void 0:L.users)||[]))}else if(e==="subagent"){const O=await te.listUser({role:"user",subagent_id:n,limit:1e4});O.success&&E($n(((k=O.data)==null?void 0:k.users)||[]))}}catch{P("Failed to load partner data.")}finally{b(!1)}})()},[e,n]),f.useEffect(()=>{if(w){const M=setTimeout(()=>R(null),4e3);return()=>clearTimeout(M)}},[w]);const v=f.useMemo(()=>{let M=[];if(!p.type||h)return[];switch(p.type){case"agent":M=u;break;case"subagent":M=d;break;case"user":M=x;break;default:return[]}return j?M.filter(W=>{var H;return(H=W.username)==null?void 0:H.toLowerCase().includes(j.toLowerCase())}):M},[p.type,u,d,x,h,j]),_=M=>{const{name:W,value:H}=M.target,U={...p,[W]:H};W==="type"&&(U.partner="",g("")),y(U),P(""),R(null)},A=()=>{y({type:ll[e][0]||"",partner:"",adjust:"",amount:"",comments:""}),P(""),g("")},z=async M=>{var L,k;if(M.preventDefault(),S)return;const{type:W,partner:H,adjust:U,amount:C}=p;if(!W||!H||!U||!C){P("Please fill out all required fields.");return}if(parseFloat(C)<=0){P("Amount must be greater than zero.");return}if(e!=="admin"&&U==="add"&&s!==null&&parseFloat(C)>s){P("Insufficient balance. You cannot add more points than you have.");return}D(!0),P("");try{const I=((L=[...u,...d,...x].find(Y=>Y._id===H))==null?void 0:L.username)||"the user",J=W==="subagent"?"sub-agent":W,q=await uw.adjustBalance({target_id:H,target_role:J,amount:parseFloat(C),action:U,comments:p.comments||void 0});if(q.success&&((k=q.data)!=null&&k.ok)){if(R(`${C} has been ${U==="add"?"added to":"subtracted from"} ${I}'s account.`),s!==null){const le=U==="add"?s-parseFloat(C):s+parseFloat(C);a(le)}const Y=parseFloat(p.amount),ee=p.adjust,K=p.partner,G=p.type;if(G==="agent"){const le=u.map(ge=>{if(ge._id===K){const Be=ge.points??0,$=ee==="add"?Be+Y:Be-Y;return{...ge,points:$}}return ge});c(le)}else if(G==="subagent"){const le=d.map(ge=>{if(ge._id===K){const Be=ge.points??0,$=ee==="add"?Be+Y:Be-Y;return{...ge,points:$}}return ge});m(le)}else if(G==="user"){const le=x.map(ge=>{if(ge._id===K){const Be=ge.points??0,$=ee==="add"?Be+Y:Be-Y;return{...ge,points:$}}return ge});E(le)}A()}else P(q.message||"An unexpected error occurred.")}catch(O){P(O.message||"Failed to submit the adjustment.")}finally{D(!1)}};return o.jsxs("div",{className:"p-4 bg-gray-50 min-h-full font-sans",children:[o.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-800 mb-6 sm:mb-8",children:"Partner Adjustment"}),o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-2xl shadow-lg border border-green-100 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-6 text-center bg-green-50 p-2 rounded-lg border border-green-200",children:[o.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Your Current Balance"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600 mt-0",children:l?"Loading...":e==="admin"?"Unlimited":(s??0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),o.jsxs("form",{onSubmit:z,noValidate:!0,children:[o.jsxs("div",{className:"mb-6 text-center space-y-4",children:[N&&o.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg flex items-center justify-center gap-2",children:[o.jsx(ze,{size:16}),N]}),w&&o.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-xl relative mb-6 flex items-center shadow-md animate-fadeIn",role:"alert",children:[o.jsx(Ts,{className:"h-6 w-6 mr-3 flex-shrink-0"}),o.jsx("p",{children:w})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"type",className:"block text-sm sm:text-md font-medium text-gray-700 mb-2",children:"Type *"}),o.jsxs("select",{id:"type",name:"type",value:p.type,onChange:_,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:[o.jsx("option",{value:"",disabled:!0,children:"Select Type"}),e&&ll[e].map(M=>o.jsx("option",{value:M,children:M.charAt(0).toUpperCase()+M.slice(1)},M))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"partner",className:"block text-sm sm:text-md font-medium text-gray-700 mb-2",children:"Partner *"}),o.jsxs("div",{className:"relative mb-2",children:[o.jsx("input",{type:"text",placeholder:"Type to search partner...",value:j,onChange:M=>g(M.target.value),disabled:!p.type||h,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 pl-10 disabled:opacity-50"}),o.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),o.jsxs("select",{id:"partner",name:"partner",value:p.partner,onChange:_,disabled:!p.type||h,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",disabled:!0,children:h?"Loading...":p.type?`Select ${p.type}`:"Select Type First"}),v.map(M=>{var W;return o.jsxs("option",{value:M._id,children:[M.username," (Points: ",((W=M.points)==null?void 0:W.toLocaleString())??0,")"]},M._id)})]}),v.length===0&&j&&!h&&o.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm mt-1",children:['No user found matching "',j,'".']})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"adjust",className:"block text-sm sm:text-md font-medium text-gray-700 mb-2",children:"Adjust *"}),o.jsxs("select",{id:"adjust",name:"adjust",value:p.adjust,onChange:_,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:[o.jsx("option",{value:"",disabled:!0,children:"Select Add or Subtract"}),o.jsx("option",{value:"add",children:"Add"}),o.jsx("option",{value:"subtract",children:"Subtract"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"amount",className:"block text-sm sm:text-md font-medium text-gray-700 mb-2",children:"Amount *"}),o.jsx("input",{type:"number",id:"amount",name:"amount",value:p.amount,onChange:_,placeholder:"Enter adjustment amount",className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"comments",className:"block text-sm sm:text-md font-medium text-gray-700 mb-2",children:"Comments"}),o.jsx("textarea",{id:"comments",name:"comments",rows:5,value:p.comments,onChange:_,placeholder:"Enter any comments here...",className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]})]}),o.jsx("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:o.jsx("button",{type:"submit",disabled:S||l,className:"w-full md:w-auto px-6 py-2.5 text-base sm:py-3 md:px-20 md:py-3 md:text-xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Submitting...":"Submit"})})]})]})]})}const cw=({isOpen:e,onClose:t,onConfirm:n,userName:r,isSubmitting:s})=>e?o.jsx("div",{className:"fixed inset-0 bg-gray-900/30 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md text-center p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold text-green-800 mb-2",children:"Confirm Kickoff"}),o.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:["Are you sure you want to kick off the user ",o.jsx("strong",{className:"text-green-600",children:r}),"?"]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[o.jsx("button",{onClick:t,disabled:s,className:"items-end w-full md:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Cancel"}),o.jsx("button",{onClick:n,disabled:s,className:"items-end w-full md:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:s?"Kicking off...":"Yes, Kick Off"})]})]})}):null;function ul(){const[e,t]=f.useState([]),[n,r]=f.useState(""),[s,a]=f.useState(null),[l,i]=f.useState(!0),[u,c]=f.useState(null),[d,m]=f.useState(null),[x,E]=f.useState(!1),[h,b]=f.useState(1),j=10,g=f.useCallback(async(S=!1)=>{S||i(!0),c(null);try{const D=await te.listActivePlayingUsers({page:1,limit:1e3});D.success&&D.data?t(D.data.users):c(D.message||"Failed to fetch users.")}catch(D){S||c("An unexpected error occurred."),console.error(D)}finally{S||i(!1)}},[]);f.useEffect(()=>{g(!1)},[g]),f.useEffect(()=>{const S=setInterval(()=>{g(!0)},5e3);return()=>clearInterval(S)},[g]),f.useEffect(()=>{if(d){const S=setTimeout(()=>{m(null)},2e3);return()=>clearTimeout(S)}},[d]);const p=async()=>{var D;if(!s)return;E(!0);const S=await te.kickoffUser(s._id);S.success?(m({type:"success",message:((D=S.data)==null?void 0:D.message)||`User ${s.username} has been kicked off.`}),t(v=>v.filter(_=>_._id!==s._id))):m({type:"error",message:S.message||"Failed to kick off user."}),E(!1),a(null)},y=e.length,N=f.useMemo(()=>{const S=n?e.filter(v=>{var _;return(_=v.username)==null?void 0:_.toLowerCase().includes(n.toLowerCase())}):e,D=(h-1)*j;return S.slice(D,D+j)},[e,h,n]),P=f.useMemo(()=>{const S=n?e.filter(D=>{var v;return(v=D.username)==null?void 0:v.toLowerCase().includes(n.toLowerCase())}).length:y;return Math.ceil(S/j)},[e,n,y]),w=f.useMemo(()=>N.reduce((S,D)=>S+(D.points||0),0),[N]),R=S=>{if(!S)return"N/A";try{return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(new Date(S))}catch{return"Invalid Date"}};return o.jsxs(o.Fragment,{children:[o.jsx(cw,{isOpen:!!s,onClose:()=>a(null),onConfirm:p,userName:(s==null?void 0:s.username)||"",isSubmitting:x}),o.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-full font-sans transition-all duration-300 ${s?"blur-sm":""}`,children:[o.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-green-800 mb-4 sm:mb-6",children:"View Online Users"}),o.jsx("div",{className:"bg-white p-4 sm:p-8 rounded-xl shadow-lg mb-8 border border-green-100 max-w-3xl mx-auto",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-end gap-4",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-600 mb-1",children:"User Name"}),o.jsx("input",{type:"text",id:"userName",value:n,onChange:S=>{r(S.target.value),b(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"Enter user name to search"})]}),o.jsx("button",{onClick:()=>r(""),className:"items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Clear"})]})}),d&&o.jsx("div",{className:`p-4 mb-6 rounded-lg text-center font-semibold ${d.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.message}),o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-green-100",children:[o.jsxs("div",{className:"mb-4 flex flex-wrap gap-x-6 gap-y-2 text-sm sm:text-md font-semibold text-green-800",children:[o.jsxs("span",{children:["Total Users: ",o.jsx("span",{className:"text-base sm:text-lg text-green-600 font-bold",children:y})]}),o.jsxs("span",{children:["Total Points (on this page): ",o.jsx("span",{className:"text-base sm:text-lg text-green-600 font-bold",children:w.toLocaleString()})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-green-200 table-fixed",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:"User Name"}),o.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:"Points"}),o.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:"Action"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l&&N.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"text-center py-10 text-gray-500",children:"Loading online users..."})}):u?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"text-center py-10 text-red-500",children:u})}):N.length>0?N.map((S,D)=>{var v;return o.jsxs("tr",{className:D%2===0?"bg-white":"bg-green-50/50",children:[o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-left",children:S.username}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-left",children:((v=S.points)==null?void 0:v.toLocaleString())??"N/A"}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-left",children:R(S.lastlogin)}),o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-left",children:o.jsx("button",{onClick:()=>a(S),className:"items-end w-full md:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Kickoff"})})]},S._id)}):o.jsx("tr",{children:o.jsxs("td",{colSpan:4,className:"text-center py-10 text-gray-500",children:["No users are currently playing",n&&" with that name","."]})})})]})}),P>0&&o.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-between border-t pt-4 border-gray-200 gap-4 sm:gap-0",children:[o.jsx("button",{onClick:()=>b(S=>Math.max(1,S-1)),disabled:h===1||l,className:"items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-700 order-first sm:order-none",children:["Page ",o.jsx("span",{className:"font-bold",children:h})," of ",o.jsx("span",{className:"font-bold",children:P})]}),o.jsx("button",{onClick:()=>b(S=>S+1),disabled:h>=P||l,className:"items-end w-full sm:w-auto px-6 py-2.5 text-base sm:text-lg md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}function cl(){const[e,t]=f.useState(null),[n,r]=f.useState("agent"),[s,a]=f.useState("agent"),[l,i]=f.useState(!1),[u,c]=f.useState([]),[d,m]=f.useState(!1),[x,E]=f.useState(null),[h,b]=f.useState(null),j=f.useMemo(()=>e==="admin"?["agent","subagent","user"]:e==="agent"?["subagent","user"]:[],[e]);f.useEffect(()=>{const w=localStorage.getItem("userRole"),R=w==="sub-agent"?"subagent":w;if(R){t(R);let S="agent";R==="agent"&&(S="subagent"),R==="subagent"&&(S="user"),r(S),R==="subagent"&&g(S,1)}},[]);const g=async(w,R=1)=>{const S=w||n;m(!0),E(null),c([]),b(null);const D=S==="subagent"?"sub-agent":S,v=await te.listUser({role:D,page:R,limit:20});if(v.success&&v.data){console.log(v.data);const _=v.data.users.sort((A,z)=>{var H,U;const M=((H=A.username)==null?void 0:H.toLowerCase())||"",W=((U=z.username)==null?void 0:U.toLowerCase())||"";return M.localeCompare(W)});c(_),b(v.data.pagination)}else E(v.message||"Failed to fetch user data.");m(!1),a(S),i(!0)},p=()=>{h!=null&&h.hasNextPage&&h.currentPage&&g(s,h.currentPage+1)},y=()=>{h!=null&&h.hasPrevPage&&h.currentPage&&g(s,h.currentPage-1)},N=f.useMemo(()=>{let w=["S.No","Username"];return s==="agent"?w.push("Commission (%)"):s==="subagent"?(w.push("Parent Agent"),w.push("Commission (%)")):s==="user"&&(w.push("Parent Agent"),w.push("Parent Subagent")),w.push("Points","Status"),w},[s]),P=(w,R)=>{var U;const S=w.status?w.status.charAt(0).toUpperCase()+w.status.slice(1).toLowerCase():"N/A",D=S==="Active",v=o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h?(h.currentPage-1)*20+R+1:R+1}),_=o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:w.username??"N/A"}),A=o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-bold text-green-700",children:((U=w.points)==null?void 0:U.toLocaleString())??"0"}),z=o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${D?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S})}),M=C=>o.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:C??"N/A"}),W=o.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-medium",children:[w.commission??0,"%"]});let H=[];return H.push(v,_),s==="agent"?H.push(W):s==="subagent"?(H.push(M(w.agentName)),H.push(W)):s==="user"&&(H.push(M(w.agentName)),H.push(M(w.subagentName))),H.push(A,z),o.jsx("tr",{className:R%2===0?"bg-white":"bg-green-50/50",children:H.map((C,L)=>Yo.cloneElement(C,{key:L}))},w._id)};return e?o.jsxs("div",{className:"p-4 bg-gray-50 min-h-full font-sans",children:[o.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-green-800 mb-4 sm:mb-6",children:"User List"}),o.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg mb-8 border border-green-100",children:e!=="subagent"?o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:o.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[o.jsx("select",{id:"userTypeSelect",value:n,onChange:w=>r(w.target.value),className:"px-3 py-2.5 text-sm sm:px-4 sm:py-3 sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 w-full md:w-96",children:j.map(w=>o.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))}),o.jsx("button",{onClick:()=>g(void 0,1),disabled:d,className:"px-6 py-2.5 text-base sm:px-8 sm:py-3 sm:text-lg font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:opacity-50",style:{minWidth:"100px"},children:d?"Showing...":"Show"})]})}):o.jsx("p",{className:"text-base sm:text-lg text-gray-700",children:"Displaying all users under your account."})}),x&&o.jsx("div",{className:"text-red-600 bg-red-100 p-4 rounded-lg mb-6",children:x}),l&&o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-green-100",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-green-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsx("tr",{children:N.map(w=>o.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:w},w))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d?o.jsx("tr",{children:o.jsx("td",{colSpan:N.length,className:"text-center py-10 text-gray-500",children:"Loading data..."})}):u.length>0?u.map((w,R)=>P(w,R)):o.jsx("tr",{children:o.jsx("td",{colSpan:N.length,className:"text-center py-10 text-gray-500",children:"No users found for the selected type."})})})]})}),h&&h.totalRecords>0&&o.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row w-full items-center justify-between gap-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",h.currentPage," of ",h.totalPages," (",h.totalRecords," records)"]}),o.jsxs("nav",{className:"flex items-center gap-3 w-full sm:w-auto",children:[o.jsx("button",{onClick:y,disabled:!h.hasPrevPage||d,className:"items-end w-full sm:w-auto px-6 py-2.5 text-base md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("button",{onClick:p,disabled:!h.hasNextPage||d,className:"items-end w-full sm:w-auto px-6 py-2.5 text-base md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}):o.jsx("div",{children:"Loading..."})}function Nd(){const[e,t]=f.useState(null),[n,r]=f.useState("agent"),[s,a]=f.useState([]),[l,i]=f.useState(""),[u,c]=f.useState(""),[d,m]=f.useState(""),[x,E]=f.useState(!1),[h,b]=f.useState(!1),[j,g]=f.useState(null);f.useEffect(()=>{const N=localStorage.getItem("userRole"),P=N==="sub-agent"?"subagent":N;P&&(t(P),P==="agent"&&r("subagent"))},[]),f.useEffect(()=>{if(!e)return;(async()=>{b(!0),a([]),c(""),g(null);const P=n==="subagent"?"sub-agent":n,w=await te.listUser({role:P,limit:1e4});if(w.success&&w.data){const S=(w.data.users||[]).sort((D,v)=>{var z,M;const _=((z=D.username)==null?void 0:z.toLowerCase())||"",A=((M=v.username)==null?void 0:M.toLowerCase())||"";return _.localeCompare(A)});a(S),S.length===0&&g({type:"error",message:"No users found for the selected role."})}else g({type:"error",message:w.message||`Failed to fetch ${n} list.`});b(!1)})()},[e,n]),f.useEffect(()=>{if(j){const N=setTimeout(()=>g(null),4e3);return()=>clearTimeout(N)}},[j]);const p=f.useMemo(()=>l?s.filter(N=>{var P;return(P=N.username)==null?void 0:P.toLowerCase().includes(l.toLowerCase())}):s,[s,l]),y=async N=>{N.preventDefault();const P=parseFloat(d);if(!u){g({type:"error",message:"Please select a user to update."});return}if(isNaN(P)||P<0){g({type:"error",message:"Please enter a valid, non-negative commission."});return}if(P>2.5){g({type:"error",message:"Commission cannot be more than 2.5%."});return}E(!0),g(null);try{const w=await te.updateCommission({target_id:u,commission:P});if(w.success&&w.data){g({type:"success",message:w.data.message||"Commission updated successfully!"});const S=s.map(D=>D._id===u?{...D,commission:P}:D).sort((D,v)=>{var z,M;const _=((z=D.username)==null?void 0:z.toLowerCase())||"",A=((M=v.username)==null?void 0:M.toLowerCase())||"";return _.localeCompare(A)});a(S),m("")}else throw new Error(w.message||"An unknown error occurred.")}catch(w){g({type:"error",message:w.message})}finally{E(!1)}};return e?o.jsx("div",{className:"p-4 bg-gray-50 min-h-screen font-sans",children:o.jsxs("div",{className:"max-w-2xl mx-auto mt-9",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-8 border-2 border-green-200 text-center",children:[o.jsxs("h1",{className:"text-xl sm:text-3xl font-bold text-green-800 flex items-center justify-center gap-2",children:[o.jsx(Jv,{className:"h-7 w-7 sm:h-8 sm:w-8 text-green-600"}),"Update Commission"]}),o.jsx("p",{className:"text-sm sm:text-lg text-green-600 mt-1",children:"Select a user and set their new commission rate."})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border-2 border-green-200",children:[j&&o.jsx("div",{className:`border px-4 py-3 rounded-xl relative mb-6 text-center shadow-sm ${j.type==="success"?"bg-green-100 border-green-400 text-green-800":"bg-red-100 border-red-400 text-red-800"}`,children:j.message}),o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e==="admin"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"userType",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Select Role to Update"}),o.jsxs("select",{id:"userType",value:n,onChange:N=>{r(N.target.value),i("")},className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition bg-white",children:[o.jsx("option",{value:"agent",children:"Agent"}),o.jsx("option",{value:"subagent",children:"Sub-agent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"targetUser",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:n==="subagent"?"Select Sub-agent":"Select Agent"}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("input",{type:"text",placeholder:"Type to search for a user...",value:l,onChange:N=>i(N.target.value),disabled:h||s.length===0,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition pl-10 disabled:bg-gray-100"}),o.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),o.jsxs("select",{id:"targetUser",value:u,onChange:N=>c(N.target.value),disabled:h||s.length===0,className:"w-full px-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition disabled:bg-gray-100 bg-white",children:[o.jsx("option",{value:"",children:h?"Loading users...":`-- Select a ${n==="subagent"?"Sub-agent":"Agent"} --`}),p.map(N=>o.jsxs("option",{value:N._id,children:[N.username," (Current: ",N.commission??0,"%)"]},N._id))]}),p.length===0&&s.length>0&&o.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm mt-2",children:['No users found matching "',l,'".']})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newCommission",className:"block text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"New Commission (%)"}),o.jsxs("div",{className:"relative",children:[o.jsx(zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"number",id:"newCommission",value:d,onChange:N=>m(N.target.value),placeholder:"e.g., 2.5",step:"0.01",min:"0",max:"2.5",disabled:!u,className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 text-sm sm:py-3 sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition disabled:bg-gray-100"})]})]}),o.jsx("button",{type:"submit",disabled:x||!u,className:"w-full items-end md:w-auto px-6 py-2.5 text-base sm:px-8 sm:py-3 sm:text-lg md:px-24 md:py-4 md:text-xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:x?"Updating...":"Update Commission"})]})]})]})}):o.jsx("div",{className:"p-8 text-center",children:"Loading user data..."})}class bt{static async getLedger(t){return se.privateRequest({method:"POST",url:ae.Report.POINTS,data:t})}static async getOutPoints(t){return se.privateRequest({method:"POST",url:ae.Report.OUT_POINTS,data:t})}static async getInPoints(t){return se.privateRequest({method:"POST",url:ae.Report.IN_POINTS,data:t})}static async getTurnover(t){return se.privateRequest({method:"POST",url:ae.Report.TURNOVER,data:t})}static async getGameHistory(t){return se.privateRequest({method:"POST",url:ae.Report.GAME_HISTORY,data:t})}static async getRoundDetails(t){return se.privateRequest({method:"GET",url:`/reports/round-details/${t}`})}static async exportLedger(t){const n=await se.privateRequest({method:"POST",url:ae.Report.POINTS,data:{...t,export:!0},responseType:"blob"});if(!n||!n.data)throw new Error("Export failed: no file returned from server.");return n.data}static async exportInPoints(t){const{page:n,limit:r,...s}=t,a=await se.privateRequest({method:"POST",url:ae.Report.IN_POINTS,data:{...s,export:!0},responseType:"blob"});if(!a||!a.data)throw new Error("Export failed: no file returned from server.");return a.data}static async exportOutPoints(t){const{page:n,limit:r,...s}=t,a=await se.privateRequest({method:"POST",url:ae.Report.OUT_POINTS,data:{...s,export:!0},responseType:"blob"});if(!a||!a.data)throw new Error("Export failed: no file returned from server.");return a.data}static async exportTurnover(t){const{page:n,limit:r,...s}=t,a=await se.privateRequest({method:"POST",url:ae.Report.TURNOVER,data:{...s,export:!0},responseType:"blob"});if(!a||!a.data)throw new Error("Export failed: no file returned from server.");return a.data}static async exportGameHistory(t){const{page:n,limit:r,...s}=t,a=await se.privateRequest({method:"POST",url:ae.Report.GAME_HISTORY,data:{...s,export:!0},responseType:"blob",timeout:12e4});if(!a||!a.data)throw new Error("Export failed: no file returned from server.");return a.data}}const Uu=e=>{if(!e)return"N/A";try{const t=new Date(e),n={year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0};return new Intl.DateTimeFormat("en-GB",n).format(t).replace(/ /g," ").replace(",",", ")}catch{return console.error("Invalid date for formatting:",e),"Invalid Date"}},Fu=e=>!e||e.length<7?"N/A":`TXN-${e.slice(-7).toUpperCase()}`,dw=(e,t)=>{var n;try{const r=window.URL.createObjectURL(new Blob([e])),s=document.createElement("a");s.href=r,s.setAttribute("download",t),document.body.appendChild(s),s.click(),(n=s.parentNode)==null||n.removeChild(s),window.URL.revokeObjectURL(r)}catch(r){console.error("Error downloading file:",r)}},fw=e=>[...e].sort((t,n)=>{var a,l;const r=((a=t.username)==null?void 0:a.toLowerCase())||"",s=((l=n.username)==null?void 0:l.toLowerCase())||"";return r.localeCompare(s)});function dl(){const[e,t]=f.useState([]),[n,r]=f.useState(null),[s,a]=f.useState({totalIn:0,totalOut:0}),[l,i]=f.useState(!0),[u,c]=f.useState(!1),[d,m]=f.useState(null),[x,E]=f.useState(!0),[h,b]=f.useState({receiveBy:"",sendBy:"",startDate:"",endDate:"",dateRange:"today"}),[j,g]=f.useState([]),[p,y]=f.useState(!0);f.useEffect(()=>{(async()=>{y(!0),m(null);try{const _=localStorage.getItem("userRole"),A=[];if(_==="admin"?A.push("agent","sub-agent","user"):_==="agent"?A.push("sub-agent","user"):(_==="sub-agent"||_==="subagent")&&A.push("user"),A.length===0&&_!=="user"){y(!1);return}if(A.length>0){const z=A.map(C=>te.listUser({role:C,limit:1e4})),M=await Promise.all(z);let W=[],H=!1;M.forEach(C=>{C.success&&C.data?W.push(...C.data.users):(console.error("Failed to fetch role for dropdown:",C.message),H=!0)}),H&&W.length===0?m("Could not load user lists for filters."):H&&console.warn("Some user lists failed to load for dropdown.");const U=Array.from(new Map(W.map(C=>[C._id,C])).values());g(fw(U))}}catch(_){console.error("Failed to load users for dropdowns:",_),m("An unexpected error occurred while loading user lists.")}finally{y(!1)}})()},[]),f.useEffect(()=>{w(1)},[]);const N=v=>{const{name:_,value:A}=v.target;let z={...h,[_]:A};_==="dateRange"&&A?(z.startDate="",z.endDate=""):(_==="startDate"||_==="endDate")&&A&&(z.dateRange=void 0),b(z)},P=()=>{b({receiveBy:"",sendBy:"",startDate:"",endDate:"",dateRange:void 0}),t([]),r(null),a({totalIn:0,totalOut:0}),m(null)},w=async(v=1)=>{i(!0),m(null);const _={receiveBy:h.receiveBy||void 0,sendBy:h.sendBy||void 0,startDate:h.startDate||void 0,endDate:h.endDate||void 0,dateRange:h.dateRange?h.dateRange:void 0,page:v,limit:20},A=await bt.getLedger(_);A.success&&A.data?(t(A.data.records||[]),r(A.data.pagination),a(A.data.summary||{totalIn:0,totalOut:0})):(m(A.message||"Failed to fetch ledger data."),t([]),r(null),a({totalIn:0,totalOut:0})),i(!1)},R=async()=>{c(!0),m(null);try{const v={receiveBy:h.receiveBy||void 0,sendBy:h.sendBy||void 0,startDate:h.startDate||void 0,endDate:h.endDate||void 0,dateRange:h.dateRange?h.dateRange:void 0},_=await bt.exportLedger(v);dw(_,"Points_Ledger_Report.xlsx")}catch(v){console.error("Export failed:",v),m("Failed to export data. Please try again.")}finally{c(!1)}},S=()=>{n&&n.currentPage<n.totalPages&&w(n.currentPage+1)},D=()=>{n&&n.currentPage>1&&w(n.currentPage-1)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-full font-sans",children:[o.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-6",children:"Ledger"}),o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg mb-8 border border-green-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"receiveBy",className:"block text-sm font-medium text-gray-600 mb-1",children:"Receive By:"}),o.jsxs("select",{id:"receiveBy",name:"receiveBy",value:h.receiveBy,onChange:N,disabled:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",children:p?"Loading...":"All Users"}),j.map(v=>o.jsx("option",{value:v.username,children:v.username},v._id+"-recv"))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sendBy",className:"block text-sm font-medium text-gray-600 mb-1",children:"Sent By:"}),o.jsxs("select",{id:"sendBy",name:"sendBy",value:h.sendBy,onChange:N,disabled:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",children:p?"Loading...":"All Users"}),j.map(v=>o.jsx("option",{value:v.username,children:v.username},v._id+"-send"))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-600 mb-1",children:"Date Range:"}),o.jsxs("select",{id:"dateRange",name:"dateRange",value:h.dateRange??"",onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"today",children:"Today"}),o.jsx("option",{value:"yesterday",children:"Yesterday"}),o.jsx("option",{value:"this_week",children:"This Week"}),o.jsx("option",{value:"last_week",children:"Last Week"}),o.jsx("option",{value:"this_month",children:"This Month"}),o.jsx("option",{value:"last_month",children:"Last Month"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"Start Date:"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:h.startDate,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"End Date:"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:h.endDate,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{className:"flex items-end gap-3 lg:col-start-3",children:[o.jsx("button",{onClick:()=>w(1),disabled:l||p||u,className:"w-full h-10 px-4 text-sm font-bold text-white rounded-lg transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-green-300 disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed",children:l&&!u?"Loading...":"Submit"}),o.jsx("button",{onClick:P,disabled:l||u,className:"w-full h-10 px-4 text-sm font-bold text-white rounded-lg transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed",children:"Clear"}),o.jsx("button",{onClick:R,disabled:u||l||e.length===0,className:"flex justify-center items-center w-full h-10 px-4 text-sm font-bold text-white rounded-lg transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed",children:u?o.jsx(Dt,{size:18}):o.jsx(Dt,{size:18})})]})]})})," ",d&&o.jsx("div",{className:"text-red-600 bg-red-100 p-4 rounded-lg mb-6",children:d}),x&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-green-100",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-green-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsx("tr",{children:["S.No","Date","Receiver","Old Points","In","Out","New Points","Sender","Trans. Id","Comments"].map(v=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:v},v))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?o.jsx("tr",{children:o.jsx("td",{colSpan:10,className:"text-center py-10 text-gray-500",children:"Loading transactions..."})}):e.length>0?o.jsxs(o.Fragment,{children:[e.map((v,_)=>o.jsxs("tr",{className:_%2===0?"bg-white":"bg-green-50/50 hover:bg-green-100/50",children:[" ",o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.SNO}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Uu(v.DATE)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.RECEIVER||o.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-gray-500 bg-gray-100 rounded-full",children:"System"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(v.OLD_POINTS??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold",children:(v.IN??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-500 font-semibold",children:(v.OUT??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(v.NEW_POINTS??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.SENDER||o.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-gray-500 bg-gray-100 rounded-full",children:"System"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-600",children:Fu(v.TRANS_ID)})," ",o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.COMMENTS||"-"})]},v.TRANS_ID||_)),o.jsxs("tr",{className:"bg-green-100 border-t-2 border-green-300",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-800 text-left",children:"Total:"}),o.jsx("td",{colSpan:3,className:"px-6 py-4"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-700 font-bold",children:(s.totalIn||0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-bold",children:(s.totalOut||0).toLocaleString()}),o.jsx("td",{colSpan:4,className:"px-6 py-4"})]})]}):o.jsx("tr",{children:o.jsx("td",{colSpan:10,className:"text-center py-10 text-gray-500",children:"No transactions found for the selected filters."})})})]})}),n&&n.totalRecords>0&&n.totalPages>1&&o.jsxs("div",{className:"mt-6 flex w-full items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",n.currentPage," of ",n.totalPages," (",n.totalRecords," records)"]}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:D,disabled:n.currentPage===1||l,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("button",{onClick:S,disabled:n.currentPage===n.totalPages||l,className:"ml-3 items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}const mw=(e,t)=>{var n;try{const r=window.URL.createObjectURL(new Blob([e])),s=document.createElement("a");s.href=r,s.setAttribute("download",t),document.body.appendChild(s),s.click(),(n=s.parentNode)==null||n.removeChild(s),window.URL.revokeObjectURL(r)}catch(r){console.error("Error downloading file:",r)}},hw=e=>[...e].sort((t,n)=>{var a,l;const r=((a=t.username)==null?void 0:a.toLowerCase())||"",s=((l=n.username)==null?void 0:l.toLowerCase())||"";return r.localeCompare(s)});function fl(){const[e,t]=f.useState([]),[n,r]=f.useState(null),[s,a]=f.useState(0),[l,i]=f.useState(!0),[u,c]=f.useState(!1),[d,m]=f.useState(null),[x,E]=f.useState(!0),[h,b]=f.useState({receiveBy:"",startDate:"",endDate:"",dateRange:"today"}),[j,g]=f.useState([]),[p,y]=f.useState(!0);f.useEffect(()=>{(async()=>{y(!0),m(null);try{const _=localStorage.getItem("userRole"),z=["agent","sub-agent","user"].map(C=>te.listUser({role:C,limit:1e4})),M=await Promise.all(z);let W=[],H=!1;M.forEach(C=>{C.success&&C.data?W.push(...C.data.users):(console.error("Failed to fetch role:",C.message),H=!0)}),H&&W.length===0?m("Could not load user list for 'Receive By' filter."):H&&console.warn("Some user lists failed to load for dropdown.");const U=Array.from(new Map(W.map(C=>[C._id,C])).values());g(hw(U))}catch(_){console.error("Failed to load users for dropdowns:",_),m("An unexpected error occurred while loading user list.")}finally{y(!1)}})()},[]),f.useEffect(()=>{w(1)},[]);const N=v=>{const{name:_,value:A}=v.target;let z={...h,[_]:A};_==="dateRange"&&A?(z.startDate="",z.endDate=""):(_==="startDate"||_==="endDate")&&A&&(z.dateRange=void 0),b(z)},P=()=>{b({receiveBy:"",startDate:"",endDate:"",dateRange:void 0}),t([]),r(null),a(0),m(null)},w=async(v=1)=>{i(!0),m(null);const _={receiveBy:h.receiveBy||void 0,startDate:h.startDate||void 0,endDate:h.endDate||void 0,dateRange:h.dateRange?h.dateRange:void 0,page:v,limit:20},A=await bt.getOutPoints(_);A.success&&A.data?(t(A.data.records||[]),r(A.data.pagination),a(A.data.totalOUT||0)):(m(A.message||"Failed to fetch Out Points report."),t([]),r(null),a(0)),i(!1)},R=async()=>{c(!0),m(null);try{const v={receiveBy:h.receiveBy||void 0,startDate:h.startDate||void 0,endDate:h.endDate||void 0,dateRange:h.dateRange?h.dateRange:void 0},_=await bt.exportOutPoints(v);mw(_,"Out_Points_Report.xlsx")}catch(v){console.error("Export failed:",v),m("Failed to export data. Please try again.")}finally{c(!1)}},S=()=>{n&&n.currentPage<n.totalPages&&w(n.currentPage+1)},D=()=>{n&&n.currentPage>1&&w(n.currentPage-1)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-full font-sans",children:[o.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-6",children:"Out Points Report"}),o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg mb-8 border border-green-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("label",{htmlFor:"receiveBy",className:"block text-sm font-medium text-gray-600 mb-1",children:"Receive By:"}),o.jsxs("select",{id:"receiveBy",name:"receiveBy",value:h.receiveBy,onChange:N,disabled:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",children:p?"Loading...":"All Users"}),j.map(v=>o.jsx("option",{value:v.username,children:v.username},v._id+"-recv"))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"Start Date:"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:h.startDate,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"End Date:"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:h.endDate,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-600 mb-1",children:"Date Range:"}),o.jsxs("select",{id:"dateRange",name:"dateRange",value:h.dateRange??"",onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"today",children:"Today"}),o.jsx("option",{value:"yesterday",children:"Yesterday"}),o.jsx("option",{value:"this_week",children:"This Week"}),o.jsx("option",{value:"last_week",children:"Last Week"}),o.jsx("option",{value:"this_month",children:"This Month"}),o.jsx("option",{value:"last_month",children:"Last Month"})]})]}),o.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex justify-end items-end gap-3",children:[o.jsx("button",{onClick:()=>w(1),disabled:l||p||u,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:l&&!u?"Searching...":"Submit"}),o.jsx("button",{onClick:P,disabled:l||u,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Clear"}),o.jsx("button",{onClick:R,disabled:u||l||e.length===0,className:"flex justify-center items-center w-auto px-6 py-3 text-xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:bg-blue-400 disabled:scale-100 disabled:cursor-not-allowed",children:u?o.jsx(Dt,{size:18}):o.jsx(Dt,{size:24})})]})]})})," ",d&&o.jsx("div",{className:"text-center p-4 mb-4 text-red-700 bg-red-100 rounded-lg",children:d}),x&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-green-100",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-green-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsx("tr",{children:["S.No","Trans. Id","Date","Sender","Old Points","Out","New Points","Receiver","Comments"].map(v=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:v},v))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"text-center py-10 text-gray-500",children:"Loading..."})}):e.length>0?o.jsxs(o.Fragment,{children:[e.map((v,_)=>o.jsxs("tr",{className:_%2===0?"bg-white":"bg-green-50/50 hover:bg-green-100/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.SNO}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Fu(v.TRANS_ID)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Uu(v.DATE)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.SENDER||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(v.OLD_POINTS??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-500 font-semibold",children:(v.OUT??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(v.NEW_POINTS??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.RECEIVER||o.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-600",children:"System"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.COMMENTS||"-"})]},v.TRANS_ID||_)),o.jsxs("tr",{className:"bg-green-100 border-t-2 border-green-300",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-800 text-left",children:"Total:"}),o.jsx("td",{colSpan:4,className:"px-6 py-4"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-bold",children:(s||0).toLocaleString()}),o.jsx("td",{colSpan:3,className:"px-6 py-4"})]})]}):o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"text-center py-10 text-gray-500",children:"No transactions found for the selected filters."})})})]})}),n&&n.totalRecords>0&&n.totalPages>1&&o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-700",children:["Page ",n.currentPage," of ",n.totalPages," (",n.totalRecords," records)"]}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:D,disabled:n.currentPage===1||l,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("button",{onClick:S,disabled:n.currentPage===n.totalPages||l,className:"ml-3 items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}const pw=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],jd=({amount:e,isWin:t})=>{const n=r=>{const s=Math.round(r);if(s>=1e3){const a=(s/1e3).toFixed(1);return a.endsWith(".0")?`${Math.floor(s/1e3)}K`:`${a}K`}return s.toString()};return t?o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center bg-blue-600 text-white text-sm font-bold rounded-full border-2 border-yellow-300 shadow-lg z-10 animate-pulse",children:"Win"}):o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center bg-cyan-400 text-black text-xs font-bold rounded-full border-2 border-white shadow-lg z-10",children:n(e)})},gw=({isOpen:e,onClose:t,data:n,isLoading:r})=>{var l;if(!e)return null;const s=({number:i})=>{var E;const u=pw.includes(i),d=u?"bg-red-600":i!==0&&!u?"bg-black":"bg-green-600",m=(E=n==null?void 0:n.betDetails)==null?void 0:E[String(i)],x=(n==null?void 0:n.winningNumber)===i;return o.jsxs("div",{className:`relative flex items-center justify-center h-16 bg-white font-bold text-2xl border-r border-b border-gray-400 ${d} text-white`,children:[i,m&&o.jsx(jd,{amount:m,isWin:x})]})},a=({label:i,className:u})=>o.jsx("div",{className:`flex items-center justify-center h-16 text-lg font-bold bg-gray-200 border-r border-b border-gray-400 ${u}`,children:i});return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:t,children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-5xl w-full p-6",onClick:i=>i.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-5",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Round Details"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-800 text-4xl leading-none",children:""})]}),r?o.jsx("div",{className:"text-center py-24 text-gray-600 font-semibold",children:"Loading Round Details..."}):n?o.jsx("div",{className:"border-l border-t border-gray-400",children:o.jsxs("div",{className:"grid grid-cols-[1fr,13fr]",children:[o.jsxs("div",{className:"row-span-3 bg-white relative flex items-center justify-center border-r border-b border-gray-400",children:[o.jsx("div",{className:"h-full w-full bg-green-600 text-white font-bold text-2xl flex items-center justify-center",children:"0"}),((l=n==null?void 0:n.betDetails)==null?void 0:l["0"])&&o.jsx(jd,{amount:n.betDetails[0],isWin:n.winningNumber===0})]}),o.jsxs("div",{className:"grid grid-cols-13",children:[[...Array(12)].map((i,u)=>o.jsx(s,{number:3+u*3},u)),o.jsx(a,{label:"2:1"}),[...Array(12)].map((i,u)=>o.jsx(s,{number:2+u*3},u)),o.jsx(a,{label:"2:1"}),[...Array(12)].map((i,u)=>o.jsx(s,{number:1+u*3},u)),o.jsx(a,{label:"2:1"})]})]})}):o.jsx("div",{className:"text-center py-24 text-red-600 font-semibold",children:"Could not load round details. Please try again."})]})})},xw=["All","Teen Patti","Andar Bahar","Roulette","Blackjack"],yw=(e,t)=>{try{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}catch(n){console.error("Error downloading file:",n)}},vw=e=>[...e].sort((t,n)=>{var a,l;const r=((a=t.username)==null?void 0:a.toLowerCase())||"",s=((l=n.username)==null?void 0:l.toLowerCase())||"";return r.localeCompare(s)}),ww=({bets:e})=>o.jsxs("div",{className:"p-4 bg-green-50",children:[o.jsx("h4",{className:"font-bold text-md text-gray-800 mb-2",children:"Individual Bets in this Round:"}),o.jsx("ul",{className:"space-y-2",children:e.map(t=>o.jsxs("li",{className:"flex justify-between items-center text-sm p-2 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsxs("span",{className:"font-semibold text-gray-900",children:[t.betType," ",t.selection&&`(${t.selection})`]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{children:["Stake: ",o.jsx("span",{className:"font-bold",children:(t.stake||0).toLocaleString("en-IN")})]}),o.jsxs("span",{children:["Payout: ",o.jsx("span",{className:`font-bold ${t.status==="won"?"text-green-600":"text-gray-600"}`,children:(t.payout||0).toLocaleString("en-IN")})]}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-bold ${t.status==="won"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status.toUpperCase()})]})]},t.betId))})]});function ml(){const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[s,a]=f.useState(null),l=It(),[i,u]=f.useState([]),[c,d]=f.useState(null),[m,x]=f.useState(!0),[E,h]=f.useState(!1),[b,j]=f.useState(null),[g,p]=f.useState(!1),[y,N]=f.useState(null),[P,w]=f.useState(!1),[R,S]=f.useState(!1),[D,v]=f.useState(null),[_,A]=f.useState([]),[z,M]=f.useState(!0),[W,H]=f.useState({stake:0,payout:0}),U="gameHistoryFilters",C=()=>({gameName:"All",userId:"",handId:"",startDate:"",endDate:"",dateRange:"today"});f.useEffect(()=>{console.log("MOUNT useEffect: Calling handleSubmit with filters:",k),I(1),sessionStorage.getItem("navigatedFromHistory")&&(console.log("MOUNT useEffect: Clearing navigation flag."),sessionStorage.removeItem("navigatedFromHistory"))},[]);const L=()=>{const $=sessionStorage.getItem(U);if(sessionStorage.getItem("navigatedFromHistory")==="true"&&$){console.log("getInitialFilters: Loading SAVED filters");try{return JSON.parse($)}catch{return C()}}return console.log("getInitialFilters: Loading DEFAULT filters (Today)"),C()},[k,O]=f.useState(L);f.useEffect(()=>{var Z;const $=(Z=localStorage.getItem("userRole"))==null?void 0:Z.toLowerCase();a($||null),t($==="admin"),r(["admin","agent","sub-agent","subagent"].includes($))},[]),f.useEffect(()=>{(async()=>{M(!0);try{const ue=localStorage.getItem("userRole"),Z=[];if(ue==="admin"?Z.push("agent","sub-agent","user"):ue==="agent"?Z.push("sub-agent","user"):(ue==="sub-agent"||ue==="subagent")&&Z.push("user"),Z.length===0&&ue!=="user"){M(!1);return}if(Z.length>0){const Ee=Z.map(mt=>te.listUser({role:mt,limit:1e4})),yn=await Promise.all(Ee);let vn=[],wn=!1;yn.forEach(mt=>{mt.success&&mt.data?vn.push(...mt.data.users):(console.error("Failed to fetch role for dropdown:",mt.message),wn=!0)}),wn&&vn.length===0?j("Could not load user list filter."):wn&&console.warn("Some user lists failed to load for dropdown.");const ja=Array.from(new Map(vn.map(mt=>[mt._id,mt])).values());A(vw(ja))}}catch(ue){console.error("Failed to load users for dropdown:",ue),j("An unexpected error occurred loading user filter.")}finally{M(!1)}})()},[]),f.useEffect(()=>{I(1)},[]),f.useEffect(()=>{sessionStorage.setItem(U,JSON.stringify(k))},[k]);const I=async($=1)=>{x(!0),j(null),v(null),S(!0),console.log("SUBMITTING: Saving filters to storage:",k),sessionStorage.setItem(U,JSON.stringify(k));const ue={userName:k.userId||void 0,gameName:k.gameName==="All"?void 0:k.gameName,roundId:k.handId||void 0,startDate:k.startDate||void 0,endDate:k.endDate||void 0,dateFilter:k.dateRange?k.dateRange:void 0,page:$,limit:20},Z=await bt.getGameHistory(ue);Z.success&&Z.data?(u(Z.data.history||[]),d(Z.data.pagination),H({stake:Z.data.grandTotalStake||0,payout:Z.data.grandTotalPayout||0})):(j(Z.message||"Failed to fetch game history."),u([]),d(null),H({stake:0,payout:0})),x(!1)},J=async()=>{h(!0),j(null);try{const $={userName:k.userId||void 0,gameName:k.gameName==="All"?void 0:k.gameName,roundId:k.handId||void 0,startDate:k.startDate||void 0,endDate:k.endDate||void 0,dateFilter:k.dateRange?k.dateRange:void 0},ue=await bt.exportGameHistory($);yw(ue,"Game_History_Report.xlsx")}catch($){console.error("Export failed:",$),j("Failed to export data. Please try again.")}finally{h(!1)}},q=$=>{const{name:ue,value:Z}=$.target;let Ee={...k,[ue]:Z};ue==="dateRange"&&Z?(Ee.startDate="",Ee.endDate=""):(ue==="startDate"||ue==="endDate")&&Z&&(Ee.dateRange=""),O(Ee)},Y=()=>{O(C()),u([]),d(null),j(null),v(null),H({stake:0,payout:0}),S(!1)},ee=()=>{c&&c.currentPage<c.totalPages&&I(c.currentPage+1)},K=()=>{c&&c.currentPage>1&&I(c.currentPage-1)},G=async $=>{const ue=$.roundId;if(!ue){j("Cannot view details: Round ID is missing.");return}w(!0);try{const Z=await bt.getRoundDetails(ue);if(Z.success&&Z.data&&Z.data.data){let Ee="";switch(s){case"admin":Ee=F.AdminDashboard;break;case"agent":Ee=F.AgentDashboard;break;case"sub-agent":case"subagent":Ee=F.SubAgentDashboard;break;default:console.error("Cannot navigate to GameUI: Unknown user role.",s),j("Navigation failed: Invalid user role."),w(!1);return}const yn=`${Ee}/${F.GameUI}`;sessionStorage.setItem("navigatedFromHistory","true"),l(yn,{state:{roundData:Z.data.data,betList:$.bets||[],tableLabel:$.label||"GREEN",beforePoints:$.beforePlayPoints,afterPoints:$.afterPlayPoints}}),console.log("round data is:",Z.data.data),console.log("bet list are:",$.bets)}else j(Z.message||"Could not load round details.")}catch(Z){console.error("Error fetching round details:",Z),j("An error occurred while fetching round details.")}finally{w(!1)}},le=f.useMemo(()=>{const $=["S.No","Username","Agent","Sub Distributor","TABLETYPE","Winning #","BEFORE POINT","PLAY","WIN","AFTER POINT","Timestamp","Bet Details"];return n&&$.push("View Round"),$},[n]),ge="w-full h-10 px-4 text-sm font-bold text-white rounded-lg transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-green-300 disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed",Be=$=>($||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2});return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-screen font-sans",children:[o.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-6",children:"Game History"}),o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg mb-8 border border-green-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gameName",className:"block text-sm font-medium text-gray-600 mb-1",children:"Game Name:"}),o.jsx("select",{id:"gameName",name:"gameName",value:k.gameName,onChange:q,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:xw.map($=>o.jsx("option",{value:$,children:$},$))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"userId",className:"block text-sm font-medium text-gray-600 mb-1",children:"User Name:"}),o.jsxs("select",{id:"userId",name:"userId",value:k.userId,onChange:q,disabled:z,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",children:z?"Loading Users...":"All Users"}),_.map($=>o.jsx("option",{value:$.username,children:$.username},$._id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"Start Date:"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:k.startDate,onChange:q,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"End Date:"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:k.endDate,onChange:q,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-600 mb-1",children:"Date Range:"}),o.jsxs("select",{id:"dateRange",name:"dateRange",value:k.dateRange,onChange:q,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"today",children:"Today"}),o.jsx("option",{value:"yesterday",children:"Yesterday"}),o.jsx("option",{value:"this_week",children:"This Week"}),o.jsx("option",{value:"last_week",children:"Last Week"}),o.jsx("option",{value:"this_month",children:"This Month"}),o.jsx("option",{value:"last_month",children:"Last Month"})]})]}),o.jsxs("div",{className:"flex items-end gap-3 lg:col-start-3",children:[o.jsx("button",{onClick:()=>I(1),disabled:m||z||E,className:ge,children:m?"Searching...":"Submit"}),o.jsx("button",{onClick:Y,disabled:m||E,className:`${ge} !bg-gray-400 hover:!bg-gray-500 active:!bg-gray-600 focus:ring-gray-300`,children:"Clear"}),o.jsx("button",{onClick:J,disabled:E||m||i.length===0,className:`${ge} !bg-blue-500 hover:!bg-blue-600 active:!bg-blue-700 focus:ring-blue-300 flex items-center justify-center`,children:E?o.jsx(Dt,{size:18}):o.jsx(Dt,{size:18})})]})]})}),b&&o.jsx("div",{className:"text-red-600 bg-red-100 p-4 rounded-lg mb-6",children:b}),R&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-green-100",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-green-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsx("tr",{children:le.map($=>o.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:$},$))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m?o.jsx("tr",{children:o.jsx("td",{colSpan:le.length,className:"text-center py-10 text-gray-500",children:"Loading data..."})}):i.length>0?o.jsxs(o.Fragment,{children:[i.map(($,ue)=>{var Ee;const Z=D===$.roundId;return o.jsxs(Yo.Fragment,{children:[o.jsxs("tr",{className:ue%2===0?"bg-white":"bg-green-50/50 hover:bg-green-100/50",children:[o.jsx("td",{className:"px-5 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c?(c.currentPage-1)*20+ue+1:ue+1}),o.jsx("td",{className:"px-3 py-4 text-sm text-gray-600 max-w-[120px] truncate",title:$.userName,children:$.userName}),o.jsx("td",{className:"px-3 py-4 text-sm text-gray-600 max-w-[120px] truncate",title:$.agentName||"N/A",children:$.agentName||"N/A"}),o.jsx("td",{className:"px-3 py-4 text-sm text-gray-600 max-w-[120px] truncate",title:$.subAgentName||"N/A",children:$.subAgentName||"N/A"}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-semibold",children:$.label&&o.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${$.label==="GREEN"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:$.label})}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-bold text-gray-800",children:$.winningNumber||"-"}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-600 font-semibold",children:Be($.beforePlayPoints)}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-600",children:($.totalStake||0).toLocaleString("en-IN")}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-green-600 font-semibold",children:Be($.totalPayout)}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-600 font-semibold",children:Be($.afterPlayPoints)}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-600",children:$.DATETIME}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("button",{onClick:()=>v(Z?null:$.roundId),disabled:!$.bets||$.bets.length===0,className:"flex items-center gap-1 px-3 py-1 rounded-md shadow-md font-semibold text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transition-all duration-200 transform hover:scale-[1.03] disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",children:[((Ee=$.bets)==null?void 0:Ee.length)||0," Bets ",Z?o.jsx($v,{size:16}):o.jsx(Bv,{size:16})]})}),n&&o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-600",children:o.jsx("button",{onClick:()=>G($),disabled:!$.roundId||P,className:"items-end w-full md:w-auto px-6 py-2 text-sm font-bold text-white rounded-lg transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-7M00 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:bg-blue-300 disabled:scale-100 disabled:cursor-not-allowed",children:"View"})})]}),Z&&$.bets&&$.bets.length>0&&o.jsx("tr",{children:o.jsx("td",{colSpan:le.length,className:"p-0",children:o.jsx(ww,{bets:$.bets})})})]},$.roundId)}),o.jsxs("tr",{className:"bg-green-100 border-t-2 border-green-300",children:[o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-bold ...",children:"Grand Total:"}),o.jsx("td",{colSpan:6,className:"px-3 py-4"}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 font-bold",children:W.stake.toLocaleString("en-IN")}),o.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-green-700 font-bold",children:Be(W.payout)}),o.jsx("td",{colSpan:le.length-9,className:"px-6 py-4"})]})]}):o.jsx("tr",{children:o.jsx("td",{colSpan:le.length,className:"text-center py-10 text-gray-500",children:"No data available for the selected filters."})})})]})}),c&&c.totalRecords>0&&c.totalPages>1&&o.jsxs("div",{className:"mt-6 flex w-full items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",c.currentPage," of ",c.totalPages," (",c.totalRecords," records)"]}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:K,disabled:c.currentPage===1||m,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("button",{onClick:ee,disabled:c.currentPage===c.totalPages||m,className:"ml-3 items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Next"})]})]})]}),o.jsx(gw,{isOpen:g,onClose:()=>p(!1),data:y,isLoading:P})]})}const bw=(e,t)=>{var n;try{const r=window.URL.createObjectURL(new Blob([e])),s=document.createElement("a");s.href=r,s.setAttribute("download",t),document.body.appendChild(s),s.click(),(n=s.parentNode)==null||n.removeChild(s),window.URL.revokeObjectURL(r)}catch(r){console.error("Error downloading file:",r)}},Hn=(e=new Date)=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},Nw=e=>[...e].sort((t,n)=>{var a,l;const r=((a=t.username)==null?void 0:a.toLowerCase())||"",s=((l=n.username)==null?void 0:l.toLowerCase())||"";return r.localeCompare(s)});function hl(){const[e,t]=f.useState([]),[n,r]=f.useState(null),[s,a]=f.useState(null),[l,i]=f.useState(!1),[u,c]=f.useState(!1),[d,m]=f.useState(null),[x,E]=f.useState({username:"",startDate:Hn(),endDate:Hn(),dateRange:"today"}),[h,b]=f.useState([]),[j,g]=f.useState(!0),[p,y]=f.useState({agentId:null,subAgentId:null}),[N,P]=f.useState(null),[w,R]=f.useState([]),[S,D]=f.useState(null),v=f.useRef(!0),_=f.useMemo(()=>S==="agent"&&N==="subagent"&&n&&n.totalProfit!==void 0&&n.totalProfit!==null?n.totalProfit:null,[S,N,n]);f.useEffect(()=>{(async()=>{g(!0);try{const O=localStorage.getItem("userRole")||"user";D(O);const I=[];if(O==="admin"?I.push("agent","sub-agent","user"):O==="agent"?I.push("sub-agent","user"):O==="subagent"&&I.push("user"),I.length===0&&O!=="user"){g(!1);return}if(I.length>0){const J=I.map(G=>te.listUser({role:G,limit:1e4})),q=await Promise.all(J);let Y=[],ee=!1;q.forEach(G=>{G.success&&G.data?Y.push(...G.data.users):(console.error("Failed to fetch role for dropdown:",G.message),ee=!0)}),ee&&Y.length===0&&d===null?m("Could not load user list filter."):ee&&console.warn("Some user lists failed to load for dropdown.");const K=Array.from(new Map(Y.map(G=>[G._id,G])).values());b(Nw(K))}}catch(O){console.error("Failed to load users for dropdown:",O),d===null&&m("An unexpected error occurred loading user filter.")}finally{g(!1)}})()},[]);const A=k=>{const{name:O,value:I}=k.target;let J={...x,[O]:I};if(O==="dateRange"&&I){const q=new Date;q.setHours(0,0,0,0);let Y=new Date(q),ee=new Date(q);switch(I){case"today":break;case"yesterday":Y.setDate(q.getDate()-1),ee.setDate(q.getDate()-1);break;case"this_week":const K=q.getDay(),G=K===0?6:K-1;Y.setDate(q.getDate()-G),ee=new Date(Y),ee.setDate(Y.getDate()+6);break;case"last_week":const le=q.getDate()-(q.getDay()===0?6:q.getDay()-1);Y.setDate(le-7),ee=new Date(Y),ee.setDate(Y.getDate()+6);break;case"this_month":Y=new Date(q.getFullYear(),q.getMonth(),1),ee=new Date(q.getFullYear(),q.getMonth()+1,0);break;case"last_month":Y=new Date(q.getFullYear(),q.getMonth()-1,1),ee=new Date(q.getFullYear(),q.getMonth(),0);break;default:J.startDate="",J.endDate="",E(J);return}J.startDate=Hn(Y),J.endDate=Hn(ee)}else(O==="startDate"||O==="endDate")&&I&&(J.dateRange=void 0);E(J)},z=()=>{E({username:"",startDate:"",endDate:"",dateRange:void 0}),t([]),r(null),a(null),m(null),y({agentId:null,subAgentId:null}),P(null),R([])},M=async(k=1)=>{i(!0),m(null);const O={username:N==="user"&&x.username||void 0,startDate:x.startDate||void 0,endDate:x.endDate||void 0,dateRange:x.dateRange?x.dateRange:void 0,page:k,limit:20,agentId:p.agentId||void 0,subAgentId:p.subAgentId||void 0,export:!1};try{const I=await bt.getTurnover(O);I.success&&I.data?(t(I.data.report||[]),r(I.data.summary),a(I.data.pagination),P(I.data.viewLevel)):(m(I.message||"Failed to fetch turnover report."),t([]),r(null),a(null),P(null))}catch(I){console.error("API Error in handleSubmit:",I),m("An unexpected error occurred while fetching the report."),t([]),r(null),a(null),P(null)}finally{i(!1)}},W=async()=>{c(!0),m(null);try{const k={username:N==="user"&&x.username||void 0,startDate:x.startDate||void 0,endDate:x.endDate||void 0,dateRange:x.dateRange?x.dateRange:void 0,agentId:p.agentId||void 0,subAgentId:p.subAgentId||void 0,export:!0},O=await bt.exportTurnover(k);bw(O,"Turnover_Report.xlsx")}catch(k){console.error("Export failed:",k),m("Failed to export data. Please try again.")}finally{c(!1)}};f.useEffect(()=>{M(1)},[]),f.useEffect(()=>{v.current?v.current=!1:M(1)},[p]);const H=()=>{s&&s.currentPage<s.totalPages&&M(s.currentPage+1)},U=()=>{s&&s.currentPage>1&&M(s.currentPage-1)},C=k=>{N==="agent"?(y({agentId:k.id,subAgentId:null}),R([{id:k.id,name:k.name,level:"agent"}]),E(O=>({...O,username:""}))):N==="subagent"&&(y(O=>({...O,subAgentId:k.id})),R(O=>[...O,{id:k.id,name:k.name,level:"subagent"}]),E(O=>({...O,username:""})))},L=k=>{var q,Y;let O=null,I=null,J=[];k!==-1&&(O=((q=w[0])==null?void 0:q.id)||null,k===0&&((Y=w[0])==null?void 0:Y.level)==="agent"&&(J=w.slice(0,1))),y({agentId:O,subAgentId:I}),R(J),E(ee=>({...ee,username:""}))};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-full font-sans",children:[o.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-6",children:"Turn Over Report"}),o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg mb-8 border border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-600 mb-1",children:["Username: ",N!=="user"&&N!==null&&o.jsx("span",{className:"text-xs text-gray-400",children:"(Filter at User level)"})]}),o.jsxs("select",{id:"username",name:"username",value:x.username,onChange:A,disabled:j||N!=="user",className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",children:j?"Loading Users...":"All Users"}),h.map(k=>o.jsx("option",{value:k.username,children:k.username},k._id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"Start Date:"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:x.startDate,onChange:A,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"End Date:"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:x.endDate,onChange:A,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-600 mb-1",children:"Date Range:"}),o.jsxs("select",{id:"dateRange",name:"dateRange",value:x.dateRange??"",onChange:A,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"today",children:"Today"}),o.jsx("option",{value:"yesterday",children:"Yesterday"}),o.jsx("option",{value:"this_week",children:"This Week"}),o.jsx("option",{value:"last_week",children:"Last Week"}),o.jsx("option",{value:"this_month",children:"This Month"}),o.jsx("option",{value:"last_month",children:"Last Month"})]})]}),o.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex justify-end items-end gap-3",children:[o.jsx("button",{onClick:()=>M(1),disabled:l||j||u,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"}),o.jsx("button",{onClick:z,disabled:l||u,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Clear"}),o.jsx("button",{onClick:W,disabled:u||l||e.length===0,className:"flex justify-center items-center w-auto px-6 py-3 text-xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:bg-blue-400 disabled:scale-100 disabled:cursor-not-allowed",children:u?o.jsx(Dt,{size:18}):o.jsx(Dt,{size:24})})]})]})}),d&&o.jsx("div",{className:"text-red-500 bg-red-100 p-3 rounded-lg mb-6",children:d}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg mb-8 border border-gray-200 flex flex-wrap gap-x-6 gap-y-2 justify-around text-center",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Start Date:"})," ",o.jsx("span",{className:"font-bold text-gray-800",children:x.startDate||Hn(new Date(0))})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"End Date:"})," ",o.jsx("span",{className:"font-bold text-gray-800",children:x.endDate||Hn()})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Total Play Points:"})," ",o.jsx("span",{className:"font-bold text-gray-800",children:((n==null?void 0:n.totalPlayPoints)||0).toLocaleString("en-US",{minimumFractionDigits:2})})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Total Won Points:"})," ",o.jsx("span",{className:"font-bold text-gray-800",children:((n==null?void 0:n.totalWonPoints)||0).toLocaleString("en-US",{minimumFractionDigits:2})})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Total End Points:"})," ",o.jsx("span",{className:"font-bold text-gray-800",children:((n==null?void 0:n.totalEndPoints)||0).toLocaleString("en-US",{minimumFractionDigits:2})})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Total Margin:"})," ",o.jsx("span",{className:"font-bold text-gray-800",children:((n==null?void 0:n.totalMargin)||0).toLocaleString("en-US",{minimumFractionDigits:2})})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Total Net:"})," ",o.jsx("span",{className:"font-bold text-gray-800",children:((n==null?void 0:n.totalNet)||0).toLocaleString("en-US",{minimumFractionDigits:2})})]}),_!==null&&o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Agent Profit:"}),o.jsx("span",{className:"font-bold text-gray-800 ml-1",children:_.toLocaleString("en-US",{minimumFractionDigits:2})})]})]}),o.jsxs("nav",{className:"flex items-center gap-2 text-sm font-medium text-gray-500 mb-4",children:[o.jsx("button",{onClick:()=>L(-1),className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed",disabled:l||u,children:"Home"}),w.map((k,O)=>o.jsxs(Yo.Fragment,{children:[o.jsx(zv,{size:16}),o.jsx("button",{onClick:()=>L(O),className:`items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed ${O===w.length-1?"text-green-800 font-bold cursor-default":"cursor-pointer"}`,disabled:O===w.length-1||l||u,children:k.name})]},k.id))]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Name","Play Points","Won Points","End Points","Margin","Net","Last Play"].map(k=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:k},k))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-10 text-gray-500",children:"Loading..."})}):e.length>0?o.jsxs(o.Fragment,{children:[e.map((k,O)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N==="user"?o.jsx("span",{children:k.name}):o.jsx("button",{onClick:()=>C(k),className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed",disabled:l||u,children:k.name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:k.playPoints.toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:k.wonPoints.toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-bold ${k.endPoints>=0?"text-green-600":"text-red-500"}`,children:k.endPoints.toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:k.margin.toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:k.net.toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:k.createdAt})]},k.id||O)),n&&o.jsxs("tr",{className:"bg-green-100 border-t-2 border-green-300",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-800 text-left",children:"Grand Total:"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-700",children:(n.totalPlayPoints||0).toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-700",children:(n.totalWonPoints||0).toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-700",children:(n.totalEndPoints||0).toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-700",children:(n.totalMargin||0).toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-700",children:(n.totalNet||0).toLocaleString("en-US",{minimumFractionDigits:2})}),o.jsx("td",{className:"px-6 py-4"})]})]}):o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-10 text-gray-500",children:"No turnover data found for the selected filters."})})})]})}),s&&s.totalRecords>0&&s.totalPages>1&&o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-700",children:["Page ",s.currentPage," of ",s.totalPages," (",s.totalRecords," records)"]}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:U,disabled:s.currentPage===1||l||u,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("button",{onClick:H,disabled:s.currentPage===s.totalPages||l||u,className:"ml-3 items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}const jw=(e,t)=>{var n;try{const r=window.URL.createObjectURL(new Blob([e])),s=document.createElement("a");s.href=r,s.setAttribute("download",t),document.body.appendChild(s),s.click(),(n=s.parentNode)==null||n.removeChild(s),window.URL.revokeObjectURL(r)}catch(r){console.error("Error downloading file:",r)}},Sw=e=>[...e].sort((t,n)=>{var a,l;const r=((a=t.username)==null?void 0:a.toLowerCase())||"",s=((l=n.username)==null?void 0:l.toLowerCase())||"";return r.localeCompare(s)});function pl(){const[e,t]=f.useState([]),[n,r]=f.useState(null),[s,a]=f.useState(0),[l,i]=f.useState(!0),[u,c]=f.useState(!1),[d,m]=f.useState(null),[x,E]=f.useState(!0),[h,b]=f.useState({sendBy:"",startDate:"",endDate:"",dateRange:"today"}),[j,g]=f.useState([]),[p,y]=f.useState(!0);f.useEffect(()=>{(async()=>{y(!0),m(null);try{const _=localStorage.getItem("userRole"),A=[];if(_==="admin"?A.push("agent","sub-agent","user"):_==="agent"?A.push("sub-agent","user"):(_==="sub-agent"||_==="subagent")&&A.push("user"),A.length===0&&_!=="user"){y(!1);return}if(A.length>0){const z=A.map(C=>te.listUser({role:C,limit:1e4})),M=await Promise.all(z);let W=[],H=!1;M.forEach(C=>{C.success&&C.data?W.push(...C.data.users):(console.error("Failed to fetch role:",C.message),H=!0)}),H&&W.length===0?m("Could not load user list for 'Sent By' filter."):H&&console.warn("Some user lists failed to load for dropdown.");const U=Array.from(new Map(W.map(C=>[C._id,C])).values());g(Sw(U))}}catch(_){console.error("Failed to load users for dropdowns:",_),m("An unexpected error occurred while loading user list.")}finally{y(!1)}})()},[]),f.useEffect(()=>{w(1)},[]);const N=v=>{const{name:_,value:A}=v.target;let z={...h,[_]:A};_==="dateRange"&&A?(z.startDate="",z.endDate=""):(_==="startDate"||_==="endDate")&&A&&(z.dateRange=void 0),b(z)},P=()=>{b({sendBy:"",startDate:"",endDate:"",dateRange:void 0}),t([]),r(null),a(0),m(null)},w=async(v=1)=>{var z;i(!0),m(null);const _={sendBy:h.sendBy||void 0,startDate:h.startDate||void 0,endDate:h.endDate||void 0,dateRange:h.dateRange?h.dateRange:void 0,page:v,limit:20},A=await bt.getInPoints(_);if(A.success&&A.data){t(A.data.records||[]),r(A.data.pagination);const M=A.data.totalIN??A.data.totalIn??((z=A.data.summary)==null?void 0:z.totalIn)??0;a(Number(M)||0)}else m(A.message||"Failed to fetch In Points report."),t([]),r(null),a(0);i(!1)},R=async()=>{c(!0),m(null);try{const v={sendBy:h.sendBy||void 0,startDate:h.startDate||void 0,endDate:h.endDate||void 0,dateRange:h.dateRange?h.dateRange:void 0,export:!0},_=await bt.exportInPoints(v);jw(_,"In_Points_Report.xlsx")}catch(v){console.error("Export failed:",v),m("Failed to export data. Please try again.")}finally{c(!1)}},S=()=>{n&&n.currentPage<n.totalPages&&w(n.currentPage+1)},D=()=>{n&&n.currentPage>1&&w(n.currentPage-1)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-full font-sans",children:[o.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-6",children:"In Points Report"}),o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg mb-8 border border-green-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("label",{htmlFor:"sendBy",className:"block text-sm font-medium text-gray-600 mb-1",children:"Sent By:"}),o.jsxs("select",{id:"sendBy",name:"sendBy",value:h.sendBy,onChange:N,disabled:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",children:p?"Loading...":"All Users"}),j.map(v=>o.jsx("option",{value:v.username,children:v.username},v._id+"-send"))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"Start Date:"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:h.startDate,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-600 mb-1",children:"End Date:"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:h.endDate,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-600 mb-1",children:"Date Range:"}),o.jsxs("select",{id:"dateRange",name:"dateRange",value:h.dateRange??"",onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400 bg-white",children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"today",children:"Today"}),o.jsx("option",{value:"yesterday",children:"Yesterday"}),o.jsx("option",{value:"this_week",children:"This Week"}),o.jsx("option",{value:"last_week",children:"Last Week"}),o.jsx("option",{value:"this_month",children:"This Month"}),o.jsx("option",{value:"last_month",children:"Last Month"})]})]}),o.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex justify-end items-end gap-3",children:[o.jsx("button",{onClick:()=>w(1),disabled:l||p||u,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:l&&!u?"Searching...":"Submit"}),o.jsx("button",{onClick:P,disabled:l||u,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Clear"}),o.jsx("button",{onClick:R,disabled:u||l||e.length===0,className:"flex justify-center items-center w-auto px-6 py-3 text-xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:bg-blue-400 disabled:scale-100 disabled:cursor-not-allowed",children:u?o.jsx(Dt,{size:18}):o.jsx(Dt,{size:24})})]})]})})," ",d&&o.jsx("div",{className:"text-center p-4 mb-4 text-red-700 bg-red-100 rounded-lg",children:d}),x&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-green-100",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-green-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsx("tr",{children:["S.No","Trans. Id","Date","Receiver","Old Points","In","New Points","Sender","Comments"].map(v=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-green-700 uppercase tracking-wider",children:v},v))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"text-center py-10 text-gray-500",children:"Loading..."})}):e.length>0?o.jsxs(o.Fragment,{children:[e.map((v,_)=>o.jsxs("tr",{className:_%2===0?"bg-white":"bg-green-50/50 hover:bg-green-100/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.SNO}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Fu(v.TRANS_ID)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Uu(v.DATE)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.RECEIVER||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(v.OLD_POINTS??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold",children:(v.IN??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(v.NEW_POINTS??0).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.SENDER||o.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-600",children:"System"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:v.COMMENTS||"-"})]},v.TRANS_ID||_)),o.jsxs("tr",{className:"bg-green-100 border-t-2 border-green-300",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-800 text-left",children:"Total:"}),o.jsx("td",{colSpan:4,className:"px-6 py-4"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-700 font-bold",children:(s||0).toLocaleString()}),o.jsx("td",{colSpan:3,className:"px-6 py-4"})]})]}):o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"text-center py-10 text-gray-500",children:"No transactions found for the selected filters."})})})]})}),n&&n.totalRecords>0&&n.totalPages>1&&o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-700",children:["Page ",n.currentPage," of ",n.totalPages," (",n.totalRecords," records)"]}),o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx("button",{onClick:D,disabled:n.currentPage===1||l,className:"items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("button",{onClick:S,disabled:n.currentPage===n.totalPages||l,className:"ml-3 items-end w-full md:w-auto px-8 md:px-24 py-3 md:py-4 text-xl md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:bg-green-400 disabled:scale-100 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}const Ot=Object.create(null);Ot.open="0";Ot.close="1";Ot.ping="2";Ot.pong="3";Ot.message="4";Ot.upgrade="5";Ot.noop="6";const vo=Object.create(null);Object.keys(Ot).forEach(e=>{vo[Ot[e]]=e});const ji={type:"error",data:"parser error"},$h=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Hh=typeof ArrayBuffer=="function",Vh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Bu=({type:e,data:t},n,r)=>$h&&t instanceof Blob?n?r(t):Sd(t,r):Hh&&(t instanceof ArrayBuffer||Vh(t))?n?r(t):Sd(new Blob([t]),r):r(Ot[e]+(t||"")),Sd=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function kd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let gl;function kw(e,t){if($h&&e.data instanceof Blob)return e.data.arrayBuffer().then(kd).then(t);if(Hh&&(e.data instanceof ArrayBuffer||Vh(e.data)))return t(kd(e.data));Bu(e,!1,n=>{gl||(gl=new TextEncoder),t(gl.encode(n))})}const Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ed.length;e++)Wr[Ed.charCodeAt(e)]=e;const Ew=e=>{let t=e.length*.75,n=e.length,r,s=0,a,l,i,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(r=0;r<n;r+=4)a=Wr[e.charCodeAt(r)],l=Wr[e.charCodeAt(r+1)],i=Wr[e.charCodeAt(r+2)],u=Wr[e.charCodeAt(r+3)],d[s++]=a<<2|l>>4,d[s++]=(l&15)<<4|i>>2,d[s++]=(i&3)<<6|u&63;return c},Cw=typeof ArrayBuffer=="function",Mu=(e,t)=>{if(typeof e!="string")return{type:"message",data:Wh(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Pw(e.substring(1),t)}:vo[n]?e.length>1?{type:vo[n],data:e.substring(1)}:{type:vo[n]}:ji},Pw=(e,t)=>{if(Cw){const n=Ew(e);return Wh(n,t)}else return{base64:!0,data:e}},Wh=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},qh="",Rw=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((a,l)=>{Bu(a,!1,i=>{r[l]=i,++s===n&&t(r.join(qh))})})},_w=(e,t)=>{const n=e.split(qh),r=[];for(let s=0;s<n.length;s++){const a=Mu(n[s],t);if(r.push(a),a.type==="error")break}return r};function Tw(){return new TransformStream({transform(e,t){kw(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let xl;function Xs(e){return e.reduce((t,n)=>t+n.length,0)}function Zs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Lw(e,t){xl||(xl=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(l,i){for(n.push(l);;){if(r===0){if(Xs(n)<1)break;const u=Zs(n,1);a=(u[0]&128)===128,s=u[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Xs(n)<2)break;const u=Zs(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Xs(n)<8)break;const u=Zs(n,8),c=new DataView(u.buffer,u.byteOffset,u.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){i.enqueue(ji);break}s=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Xs(n)<s)break;const u=Zs(n,s);i.enqueue(Mu(a?u:xl.decode(u),t)),r=0}if(s===0||s>e){i.enqueue(ji);break}}}})}const Kh=4;function ke(e){if(e)return Aw(e)}function Aw(e){for(var t in ke.prototype)e[t]=ke.prototype[t];return e}ke.prototype.on=ke.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ke.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ke.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ke.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wa=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),it=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Dw="arraybuffer";function Gh(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Ow=it.setTimeout,Iw=it.clearTimeout;function ba(e,t){t.useNativeTimers?(e.setTimeoutFn=Ow.bind(it),e.clearTimeoutFn=Iw.bind(it)):(e.setTimeoutFn=it.setTimeout.bind(it),e.clearTimeoutFn=it.clearTimeout.bind(it))}const Uw=1.33;function Fw(e){return typeof e=="string"?Bw(e):Math.ceil((e.byteLength||e.size)*Uw)}function Bw(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Qh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Mw(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function zw(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class $w extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class zu extends ke{constructor(t){super(),this.writable=!1,ba(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new $w(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Mu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Mw(t);return n.length?"?"+n:""}}class Hw extends zu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};_w(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Rw(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Qh()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Yh=!1;try{Yh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Vw=Yh;function Ww(){}class qw extends Hw{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class At extends ke{constructor(t,n,r){super(),this.createRequest=t,ba(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Gh(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=At.requestsCount++,At.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ww,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete At.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}At.requestsCount=0;At.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Cd);else if(typeof addEventListener=="function"){const e="onpagehide"in it?"pagehide":"unload";addEventListener(e,Cd,!1)}}function Cd(){for(let e in At.requests)At.requests.hasOwnProperty(e)&&At.requests[e].abort()}const Kw=function(){const e=Jh({xdomain:!1});return e&&e.responseType!==null}();class Gw extends qw{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Kw&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new At(Jh,this.uri(),t)}}function Jh(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Vw))return new XMLHttpRequest}catch{}if(!t)try{return new it[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Xh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Qw extends zu{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Xh?{}:Gh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Bu(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&wa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Qh()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const yl=it.WebSocket||it.MozWebSocket;class Yw extends Qw{createSocket(t,n,r){return Xh?new yl(t,n,r):n?new yl(t,n):new yl(t)}doWrite(t,n){this.ws.send(n)}}class Jw extends zu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Lw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Tw();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:i,value:u})=>{i||(this.onPacket(u),a())}).catch(i=>{})};a();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&wa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Xw={websocket:Yw,webtransport:Jw,polling:Gw},Zw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Si(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Zw.exec(e||""),a={},l=14;for(;l--;)a[eb[l]]=s[l]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=tb(a,a.path),a.queryKey=nb(a,a.query),a}function tb(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function nb(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const ki=typeof addEventListener=="function"&&typeof removeEventListener=="function",wo=[];ki&&addEventListener("offline",()=>{wo.forEach(e=>e())},!1);class fn extends ke{constructor(t,n){if(super(),this.binaryType=Dw,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Si(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Si(n.host).host);ba(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=zw(this.opts.query)),ki&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},wo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Kh,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&fn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",fn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Fw(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,wa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(fn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ki&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=wo.indexOf(this._offlineEventListener);r!==-1&&wo.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}fn.protocol=Kh;class rb extends fn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;fn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;fn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function a(){r||(r=!0,d(),n.close(),n=null)}const l=m=>{const x=new Error("probe error: "+m);x.transport=n.name,a(),this.emitReserved("upgradeError",x)};function i(){l("transport closed")}function u(){l("socket closed")}function c(m){n&&m.name!==n.name&&a()}const d=()=>{n.removeListener("open",s),n.removeListener("error",l),n.removeListener("close",i),this.off("close",u),this.off("upgrading",c)};n.once("open",s),n.once("error",l),n.once("close",i),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let sb=class extends rb{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Xw[s]).filter(s=>!!s)),super(t,r)}};function ob(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Si(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const ab=typeof ArrayBuffer=="function",lb=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Zh=Object.prototype.toString,ib=typeof Blob=="function"||typeof Blob<"u"&&Zh.call(Blob)==="[object BlobConstructor]",ub=typeof File=="function"||typeof File<"u"&&Zh.call(File)==="[object FileConstructor]";function $u(e){return ab&&(e instanceof ArrayBuffer||lb(e))||ib&&e instanceof Blob||ub&&e instanceof File}function bo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(bo(e[n]))return!0;return!1}if($u(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return bo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&bo(e[n]))return!0;return!1}function cb(e){const t=[],n=e.data,r=e;return r.data=Ei(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ei(e,t){if(!e)return e;if($u(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ei(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ei(e[r],t));return n}return e}function db(e,t){return e.data=Ci(e.data,t),delete e.attachments,e}function Ci(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ci(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ci(e[n],t));return e}const fb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mb=5;var re;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(re||(re={}));class hb{constructor(t){this.replacer=t}encode(t){return(t.type===re.EVENT||t.type===re.ACK)&&bo(t)?this.encodeAsBinary({type:t.type===re.EVENT?re.BINARY_EVENT:re.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===re.BINARY_EVENT||t.type===re.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=cb(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Pd(e){return Object.prototype.toString.call(e)==="[object Object]"}class Hu extends ke{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===re.BINARY_EVENT;r||n.type===re.BINARY_ACK?(n.type=r?re.EVENT:re.ACK,this.reconstructor=new pb(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($u(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(re[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===re.BINARY_EVENT||r.type===re.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(a,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(l)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Hu.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case re.CONNECT:return Pd(n);case re.DISCONNECT:return n===void 0;case re.CONNECT_ERROR:return typeof n=="string"||Pd(n);case re.EVENT:case re.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&fb.indexOf(n[0])===-1);case re.ACK:case re.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pb{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=db(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hu,Encoder:hb,get PacketType(){return re},protocol:mb},Symbol.toStringTag,{value:"Module"}));function xt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const xb=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ep extends ke{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[xt(t,"open",this.onopen.bind(this)),xt(t,"packet",this.onpacket.bind(this)),xt(t,"error",this.onerror.bind(this)),xt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,a;if(xb.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:re.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,m=n.pop();this._registerAckCallback(d,m),l.id=d}const i=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!i||(u?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},s),l=(...i)=>{this.io.clearTimeoutFn(a),n.apply(this,i)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...n){return new Promise((r,s)=>{const a=(l,i)=>l?s(l):r(i);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:re.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case re.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case re.EVENT:case re.BINARY_EVENT:this.onevent(t);break;case re.ACK:case re.BINARY_ACK:this.onack(t);break;case re.DISCONNECT:this.ondisconnect();break;case re.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:re.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:re.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Er(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Er.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Er.prototype.reset=function(){this.attempts=0};Er.prototype.setMin=function(e){this.ms=e};Er.prototype.setMax=function(e){this.max=e};Er.prototype.setJitter=function(e){this.jitter=e};class Pi extends ke{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ba(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Er({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||gb;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new sb(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=xt(n,"open",function(){r.onopen(),t&&t()}),a=i=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",i),t?t(i):this.maybeReconnectOnOpen()},l=xt(n,"error",a);if(this._timeout!==!1){const i=this._timeout,u=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},i);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(xt(t,"ping",this.onping.bind(this)),xt(t,"data",this.ondata.bind(this)),xt(t,"error",this.onerror.bind(this)),xt(t,"close",this.onclose.bind(this)),xt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){wa(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new ep(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Br={};function No(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=ob(e,t.path||"/socket.io"),r=n.source,s=n.id,a=n.path,l=Br[s]&&a in Br[s].nsps,i=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let u;return i?u=new Pi(r,t):(Br[s]||(Br[s]=new Pi(r,t)),u=Br[s]),n.query&&!t.query&&(t.query=n.queryKey),u.socket(n.path,t)}Object.assign(No,{Manager:Pi,Socket:ep,io:No,connect:No});const yb="http://3.111.169.159:3000";let We=null;const Na=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],qr=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26],Rd=[22,18,29,7,28,25,2,21,4,19],_d=[27,13,36,11,30,8,23,10,5,24,16,33],Td=[1,20,14,31,9,17,34,6],Ld=[12,35,3,26,0,32,15],Ad=["9/12","16/19","18/21","27/30"],Dd=["8/11","10/11","10/13","17/20","26/29","28/29","28/31"],vl={D1:[1,2,3,4,5,6,7,8,9,10,11,12],D2:[13,14,15,16,17,18,19,20,21,22,23,24],D3:[25,26,27,28,29,30,31,32,33,34,35,36]},wl={C1:[1,4,7,10,13,16,19,22,25,28,31,34],C2:[2,5,8,11,14,17,20,23,26,29,32,35],C3:[3,6,9,12,15,18,21,24,27,30,33,36]},Od={EVEN:[2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],ODD:[1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35]},Id={LOW:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],HIGH:[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]},Ud={RED:Na,BLACK:[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35]},Fd=e=>{const t=Math.round(e);if(t>=1e3){const n=(t/1e3).toFixed(1);return n.endsWith(".0")?`${Math.floor(t/1e3)}K`:`${n}K`}return t.toString()},Bd=e=>(e||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}),Vu=({amount:e,onRacetrack:t=!1})=>{if(!e||e<=0)return null;const n="absolute flex items-center justify-center text-white font-bold rounded-md shadow-lg z-10";return t?o.jsx("div",{className:`${n} bottom-0 left-1/2 -translate-x-1/2 bg-cyan-500 text-[10px] px-1 py-0.5 rounded-sm border border-cyan-300`,children:Fd(e)}):o.jsx("div",{className:`${n} bottom-1 left-1/2 -translate-x-1/2 bg-cyan-500 text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 border border-cyan-300`,children:Fd(e)})},tp=({onRacetrack:e=!1})=>{const t="absolute flex items-center justify-center font-bold shadow-lg z-20";return e?o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-2 h-2 bg-yellow-400 rounded-full border border-white animate-bounce z-20"}):o.jsx("div",{className:`${t} top-1 left-1/2 -translate-x-1/2 bg-yellow-400 text-black text-[10px] sm:text-xs font-extrabold px-1.5 sm:px-2 py-0.5 rounded-full border-2 border-yellow-200 shadow-xl animate-bounce`,children:"WIN"})},eo=({number:e,betAmount:t,isWinning:n})=>{const r=Na.includes(e),a=r?"bg-red-600":e!==0&&!r?"bg-black":"bg-green-600";return o.jsxs("div",{className:"relative flex items-center justify-center h-14 sm:h-20 bg-white font-bold text-base sm:text-2xl border-r border-b border-gray-300 cursor-pointer hover:bg-gray-100 transition-colors p-1",children:[o.jsx("div",{className:`w-9 h-9 sm:w-12 sm:h-12 rounded-full flex items-center justify-center text-white ${a} shadow-inner`,children:e}),o.jsx(Vu,{amount:t??0}),n&&o.jsx(tp,{})]})},ot=({label:e,className:t,color:n,betAmount:r})=>{const s=n==="red"?"bg-red-600":n==="black"?"bg-black":"bg-white",a=n?"text-white":"text-black";return o.jsxs("div",{className:`relative flex items-center justify-center h-14 sm:h-20 text-sm sm:text-lg font-bold border-r border-b border-gray-300 cursor-pointer hover:bg-gray-200 transition-colors ${s} ${a} ${t}`,children:[e,o.jsx(Vu,{amount:r??0})]})},vb=({number:e,betAmount:t,isWinning:n})=>{const r=Na.includes(e),a=r?"bg-red-600":e!==0&&!r?"bg-black":"bg-green-600";return o.jsxs("div",{className:`relative flex-shrink-0 min-w-[2.5rem] text-white text-sm font-bold flex items-center justify-center cursor-pointer h-full ${a} border-r border-gray-500/20`,children:[e,o.jsx(Vu,{amount:t??0,onRacetrack:!0}),n&&o.jsx(tp,{onRacetrack:!0})]})},wb=({distributedBets:e,winningNumber:t})=>o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700 text-center mb-4",children:"Neighbor Bets (Racetrack)"}),o.jsxs("div",{className:"bg-gray-800 p-2 rounded-lg overflow-x-auto border border-gray-300",children:[o.jsx("div",{className:"flex items-center justify-start h-12 min-w-max bg-gray-600 rounded-md overflow-hidden",children:qr.map(n=>o.jsx(vb,{number:n,betAmount:e[String(n)],isWinning:t===n},`race-${n}`))}),o.jsx("div",{className:"relative h-10 mt-1 text-white font-semibold text-xs text-center",style:{minWidth:"92.5rem"},children:o.jsxs("div",{className:"flex w-full h-full border-t border-white/50",children:[o.jsx("div",{style:{flexBasis:"8.5%"}}),o.jsx("div",{style:{flexBasis:"31%"},className:"flex items-center justify-center border-l border-white/50",children:"TIERS"}),o.jsx("div",{style:{flexBasis:"21.5%"},className:"flex items-center justify-center border-l border-white/50",children:"ORPHELINS"}),o.jsx("div",{style:{flexBasis:"28.5%"},className:"flex items-center justify-center border-l border-white/50",children:"VOISINS DU"}),o.jsx("div",{style:{flexBasis:"10%"},className:"flex items-center justify-center border-l border-white/50",children:"ZERO"})]})})]})]}),bb=e=>{const t=qr.indexOf(e);if(t===-1)return[e];const n=[e],r=qr.length,s=2;for(let a=1;a<=s;a++){const l=(t-a+r)%r;n.push(qr[l]);const i=(t+a)%r;n.push(qr[i])}return n},bl=()=>{var z,M,W,H,U;const e=Qt(),t=It(),n=()=>t(-1),[r,s]=f.useState(!1),a=()=>{t(".",{replace:!0,state:{}})},l=f.useMemo(()=>{var C;return!!((C=e.state)!=null&&C.roundData)},[e.state]),i=(z=e.state)==null?void 0:z.roundData,u=(M=e.state)==null?void 0:M.betList,c=(W=e.state)==null?void 0:W.beforePoints,d=(H=e.state)==null?void 0:H.afterPoints,[m,x]=f.useState("GREEN"),[E,h]=f.useState([]),[b,j]=f.useState(null),[g,p]=f.useState("BETTING"),y=l?((U=e.state)==null?void 0:U.tableLabel)||"GREEN":m;f.useEffect(()=>{var L;const C=(L=localStorage.getItem("userRole"))==null?void 0:L.toLowerCase();s(C==="admin")},[]),f.useEffect(()=>{if(l||!r){console.log("[State] In History Mode or User is not Admin. Sockets disabled."),We&&(We.disconnect(),We=null);return}console.log("[State] Entering Live Mode (Admin). Connecting socket...");const C=localStorage.getItem("authToken");if(!C){console.error("Socket Auth Error: No token found.");return}return We&&We.disconnect(),We=No(yb,{auth:{token:C}}),console.log(`[Socket] Connecting to live table: ${m}`),We.emit("admin_join_table",m,L=>{L.success?(console.log(`[Socket] Received initial bets for ${m}:`,L.bets),h(L.bets),j(null),p("BETTING")):console.error(L.error)}),We.on("new_bet_placed",L=>{console.log("[Socket] New bet received:",L),h(k=>[...k,L])}),We.on("round_started",()=>{console.log("[Socket] New round started!"),h([]),j(null),p("BETTING")}),We.on("bets_closed",()=>{console.log("[Socket] Bets are closed."),p("CLOSED")}),We.on("result",L=>{console.log("[Socket] Result received:",L.outcome.number),j(L.outcome.number),p("SPINNING")}),()=>{console.log("[Socket] Disconnecting..."),We&&(We.disconnect(),We=null)}},[l,m,r]);const{numberBets:N,gridOutsideBets:P,racetrackDistributedBets:w}=f.useMemo(()=>{var J,q;const C=l?u:E,L={},k={},O={};if(!C)return{numberBets:L,gridOutsideBets:k,racetrackDistributedBets:O};const I=(Y,ee)=>{if(Y.length===0)return;const K=ee/Y.length;Y.forEach(G=>{L[String(G)]=(L[String(G)]||0)+K})};for(const Y of C){const ee=(J=Y.type||Y.betType)==null?void 0:J.toLowerCase(),K=(q=Y.selection)==null?void 0:q.toUpperCase(),G=Y.stake;if(!ee||!G)continue;let le=[];switch(ee){case"voisins":const ge=G/Rd.length;Rd.forEach(ce=>O[String(ce)]=(O[String(ce)]||0)+ge);break;case"tiers":const Be=G/_d.length;_d.forEach(ce=>O[String(ce)]=(O[String(ce)]||0)+Be);break;case"orphelins":const $=G/Td.length;Td.forEach(ce=>O[String(ce)]=(O[String(ce)]||0)+$);break;case"zero_splits":case"jeu_zero":const ue=G/Ld.length;Ld.forEach(ce=>O[String(ce)]=(O[String(ce)]||0)+ue);break;case"straight":K&&(L[K]=(L[K]||0)+G);break;case"split":K&&(K.includes("-")||K.includes("/"))&&(le=K.split(/-|\//).map(Number).filter(ce=>!isNaN(ce)),I(le,G));break;case"street":K&&K.includes("-")&&(le=K.split("-").map(Number).filter(ce=>!isNaN(ce)),I(le,G));break;case"corner":K&&K.includes("-")&&(le=K.split("-").map(Number).filter(ce=>!isNaN(ce)),I(le,G));break;case"line":K&&K.includes("-")&&(le=K.split("-").map(Number).filter(ce=>!isNaN(ce)),I(le,G));break;case"neighbour":if(K){const ce=parseInt(K,10);if(!isNaN(ce)){le=bb(ce),I(le,G);const Cr=G/le.length;le.forEach(Bn=>O[String(Bn)]=(O[String(Bn)]||0)+Cr)}}break;case"dozen":let Z=[];K==="D1"?(k["1st 12"]=(k["1st 12"]||0)+G,Z=vl.D1):K==="D2"?(k["2nd 12"]=(k["2nd 12"]||0)+G,Z=vl.D2):K==="D3"&&(k["3rd 12"]=(k["3rd 12"]||0)+G,Z=vl.D3),I(Z,G);break;case"column":let Ee=[];K==="C1"?(k["2:1_C1"]=(k["2:1_C1"]||0)+G,Ee=wl.C1):K==="C2"?(k["2:1_C2"]=(k["2:1_C2"]||0)+G,Ee=wl.C2):K==="C3"&&(k["2:1_C3"]=(k["2:1_C3"]||0)+G,Ee=wl.C3),I(Ee,G);break;case"parity":let yn=[];K==="ODD"?(k.ODD=(k.ODD||0)+G,yn=Od.ODD):K==="EVEN"&&(k.EVEN=(k.EVEN||0)+G,yn=Od.EVEN),I(yn,G);break;case"range":let vn=[];K==="LOW"||K==="1-18"?(k["1-18"]=(k["1-18"]||0)+G,vn=Id.LOW):(K==="HIGH"||K==="19-36")&&(k["19-36"]=(k["19-36"]||0)+G,vn=Id.HIGH),I(vn,G);break;case"color":let wn=[];K==="RED"?wn=Ud.RED:K==="BLACK"&&(wn=Ud.BLACK),I(wn,G);break;case"red_splits":k.RED=(k.RED||0)+G;const ja=G/Ad.length;Ad.forEach(ce=>{const Cr=ce.split("/").map(Number).filter(Bn=>!isNaN(Bn));I(Cr,ja)});break;case"black_splits":k.BLACK=(k.BLACK||0)+G;const mt=G/Dd.length;Dd.forEach(ce=>{const Cr=ce.split("/").map(Number).filter(Bn=>!isNaN(Bn));I(Cr,mt)});break}}return{numberBets:L,gridOutsideBets:k,racetrackDistributedBets:O}},[l,u,E]),R=l?(i==null?void 0:i.winningNumber)??null:b,{totalPlayPoints:S,totalWinAmount:D,netProfitLoss:v}=f.useMemo(()=>{const C=l?u:E;if(!C)return{totalPlayPoints:0,totalWinAmount:0,netProfitLoss:0};const L=C.reduce((k,O)=>k+(O.stake||0),0);if(l){const k=(i==null?void 0:i.totalWinningAmount)??0;return{totalPlayPoints:L,totalWinAmount:k,netProfitLoss:k-L}}else return{totalPlayPoints:L,totalWinAmount:0,netProfitLoss:0}},[l,u,i,E]),_=C=>C==null?"text-gray-500":C===0?"bg-green-600 text-white":Na.includes(C)?"bg-red-600 text-white":"bg-black text-white",A=C=>{var q;const k=(l?((q=e.state)==null?void 0:q.tableLabel)||"GREEN":m)===C,O="items-center justify-center w-full sm:w-auto px-4 py-2 text-sm sm:px-8 sm:py-3 sm:text-xl md:px-24 md:py-4 md:text-2xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed";let I="";C==="GREEN"?I="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800":I="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 active:from-blue-700 active:to-blue-800";let J="";return k||(J="opacity-60"),l&&(J+=" cursor-not-allowed"),`${O} ${I} ${J}`};return o.jsxs("div",{className:"min-h-screen bg-gray-100 text-gray-800 p-2 sm:p-6",children:[o.jsx("style",{children:".grid-cols-13 { grid-template-columns: repeat(13, 1fr); }"}),o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"p-2 sm:p-6 bg-white rounded-lg shadow-md border border-gray-200",children:[o.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0",children:[o.jsxs("button",{onClick:n,className:"flex w-full sm:w-auto items-center justify-center gap-1 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 text-white font-semibold rounded-lg shadow-md transform transition-all hover:scale-105",children:[o.jsx(Mv,{size:20}),"Back"]}),r&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[o.jsx("button",{onClick:()=>!l&&x("GREEN"),className:A("GREEN"),children:"Green Table"}),o.jsx("button",{onClick:()=>!l&&x("BLUE"),className:A("BLUE"),children:"Blue Table"}),l&&o.jsx("button",{onClick:a,className:"px-4 py-2 w-full sm:w-auto font-semibold rounded-lg shadow-md transition-colors bg-red-600 text-white hover:bg-red-700 animate-pulse",children:" Go Live"})]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("h2",{className:"text-xl sm:text-2xl text-center font-bold text-gray-800",children:[l||!r?"Viewing Round History":"Live Bet Table",o.jsx("span",{className:`ml-2 px-3 py-1 rounded-full text-lg ${y==="GREEN"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:y})]})}),l&&o.jsx("div",{className:"mb-8 border rounded-lg overflow-hidden shadow-sm overflow-x-auto",children:o.jsxs("table",{className:"w-full min-w-[500px] text-sm sm:text-base text-center text-gray-700",children:[o.jsx("thead",{className:"text-xs text-gray-600 uppercase bg-gray-200 font-semibold",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 sm:px-6 py-3",children:"Before Points"}),o.jsx("th",{className:"px-2 sm:px-6 py-3",children:"Total Play Points"}),o.jsx("th",{className:"px-2 sm:px-6 py-3",children:"Winning Number"}),o.jsx("th",{className:"px-2 sm:px-6 py-3",children:"Total Win Amount"}),o.jsx("th",{className:"px-2 sm:px-6 py-3",children:"After Points"}),o.jsx("th",{className:"px-2 sm:px-6 py-3",children:"Profit / Loss"})]})}),o.jsx("tbody",{children:o.jsxs("tr",{className:"bg-white",children:[o.jsx("td",{className:"px-2 sm:px-6 py-4 font-bold text-gray-500",children:Bd(c)}),o.jsx("td",{className:"px-2 sm:px-6 py-4 font-bold text-gray-800",children:S.toLocaleString("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0})}),o.jsx("td",{className:"px-2 sm:px-6 py-4",children:o.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 mx-auto rounded-full flex items-center justify-center font-bold text-lg sm:text-xl ${_(R)}`,children:R??"-"})}),o.jsx("td",{className:"px-2 sm:px-6 py-4 font-bold text-green-600",children:D.toLocaleString("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0})}),o.jsx("td",{className:"px-2 sm:px-6 py-4 font-bold text-gray-500",children:Bd(d)}),o.jsx("td",{className:`px-2 sm:px-6 py-4 font-bold ${v>=0?"text-green-700":"text-red-600"}`,children:v.toLocaleString("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0})})]})})]})}),!l&&r&&o.jsxs("div",{className:"mb-4 text-center p-4 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Live Stake"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:S.toLocaleString("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0})}),g==="CLOSED"&&o.jsx("p",{className:"text-xl font-bold text-red-600 animate-pulse mt-2",children:"NO MORE BETS"})]}),o.jsx("div",{className:"border-l border-t border-gray-300 overflow-x-auto",children:o.jsxs("div",{className:"grid grid-cols-[1fr,13fr] min-w-[750px]",children:[o.jsx("div",{className:"row-span-3",children:o.jsx(eo,{number:0,betAmount:N[0],isWinning:R===0})}),o.jsxs("div",{className:"grid grid-cols-13",children:[[...Array(12)].map((C,L)=>{const k=3+L*3;return o.jsx(eo,{number:k,betAmount:N[String(k)],isWinning:R===k},k)}),o.jsx(ot,{label:"2:1",betAmount:P["2:1_C3"]}),[...Array(12)].map((C,L)=>{const k=2+L*3;return o.jsx(eo,{number:k,betAmount:N[String(k)],isWinning:R===k},k)}),o.jsx(ot,{label:"2:1",betAmount:P["2:1_C2"]}),[...Array(12)].map((C,L)=>{const k=1+L*3;return o.jsx(eo,{number:k,betAmount:N[String(k)],isWinning:R===k},k)}),o.jsx(ot,{label:"2:1",betAmount:P["2:1_C1"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 text-center",children:[o.jsx(ot,{label:"1st 12",className:"col-span-1 sm:col-span-2",betAmount:P["1st 12"]}),o.jsx(ot,{label:"2nd 12",className:"col-span-1 sm:col-span-2",betAmount:P["2nd 12"]}),o.jsx(ot,{label:"3rd 12",className:"col-span-1 sm:col-span-2",betAmount:P["3rd 12"]}),o.jsx(ot,{label:"1-18",betAmount:P["1-18"]}),o.jsx(ot,{label:"EVEN",betAmount:P.EVEN}),o.jsx(ot,{label:"",color:"red",betAmount:P.RED}),o.jsx(ot,{label:"",color:"black",betAmount:P.BLACK}),o.jsx(ot,{label:"ODD",betAmount:P.ODD}),o.jsx(ot,{label:"19-36",betAmount:P["19-36"]})]}),o.jsx(wb,{distributedBets:w,winningNumber:R})]})})]})};class Md{static async getAllTables(){return se.privateRequest({method:"GET",url:ae.GameControl.GET_ALL_TABLES})}static async decideResult(t){return se.privateRequest({method:"POST",url:ae.GameControl.DECIDE_RESULT,data:t})}}const Mr=({id:e,label:t,type:n,value:r,onChange:s,placeholder:a,required:l,min:i,max:u})=>o.jsxs("div",{children:[o.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",l&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:n,id:e,name:e,value:r,onChange:s,placeholder:a,min:i,max:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors"})]});function Nb(){const[e,t]=f.useState([]),[n,r]=f.useState(""),[s,a]=f.useState("FIX"),[l,i]=f.useState("0"),[u,c]=f.useState(""),[d,m]=f.useState(""),[x,E]=f.useState(""),[h,b]=f.useState(""),[j,g]=f.useState(!1),[p,y]=f.useState(!0),[N,P]=f.useState(null),w=(v,_)=>{const A=_.find(z=>z._id===v);if(A){console.log("Updating fields for table:",A.name,A),a(A.winningType||"FIX"),i(String(A.winning_number??0));const z=String(A.winning_percentage??0);E(z),b(z),c(""),m("")}},R=v=>{if(!v)return"";try{const _=v.split("-");return _.length===3?`${_[1]}-${_[2]}-${_[0]}`:v}catch(_){return console.error("Date formatting error:",_),v}};f.useEffect(()=>{(async()=>{try{const _=await Md.getAllTables();if(_.success&&_.data){console.log("Get all table's data",_.data);const A=_.data;if(t(A),A.length>0){const z=A[0]._id;r(z),w(z,A)}}else P({type:"error",message:_.message||"Failed to load tables."})}catch{P({type:"error",message:"An error occurred while fetching tables."})}finally{y(!1)}})()},[]),f.useEffect(()=>{if(N){const v=setTimeout(()=>{P(null)},2e3);return()=>{clearTimeout(v)}}},[N]);const S=v=>{const _=v.target.value;a(_),i("0"),c(""),m(""),E(""),b(""),P(null)},D=async v=>{if(v.preventDefault(),g(!0),P(null),!n){P({type:"error",message:"Please select a table."}),g(!1);return}if(s==="FIX"){const A=parseInt(l);if(isNaN(A)||A<0||A>37){P({type:"error",message:"Please enter a valid number between 0 and 37."}),g(!1);return}}if((s==="NET"||s==="ENDPOINTS")&&!x||s==="ROUND"&&!h){P({type:"error",message:"Percentage is required for this result type."}),g(!1);return}const _={table_id:n,type:s};s==="FIX"&&(_.winning_number=parseInt(l)),s==="ROUND"&&(_.winning_percentage=parseFloat(h)),(s==="NET"||s==="ENDPOINTS")&&(_.winning_percentage=parseFloat(x),u&&(_.startDate=R(u)),d&&(_.endDate=R(d)));try{const A=await Md.decideResult(_);if(A.success&&A.data){P({type:"success",message:A.data.message||"Result submitted successfully!"});const z=e.map(M=>{if(M._id===n){let W;return s==="ROUND"?W=parseFloat(h):(s==="NET"||s==="ENDPOINTS")&&(W=parseFloat(x)),{...M,winningType:s,winning_number:s==="FIX"?parseInt(l):void 0,winning_percentage:W,winning_amount:s==="NET"||s==="ENDPOINTS"?M.winning_amount:void 0}}return M});t(z)}else throw new Error(A.message||"Failed to submit result.")}catch(A){P({type:"error",message:A.message||"An unexpected error occurred."})}finally{g(!1)}};return o.jsx("div",{className:"p-4 bg-gray-50 min-h-screen font-sans",children:o.jsxs("div",{className:"max-w-xl mx-auto",children:[o.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-8 border-2 border-green-200 text-center",children:[o.jsxs("h1",{className:"text-xl sm:text-3xl font-bold text-green-800 flex items-center justify-center gap-2",children:[o.jsx(qv,{className:"h-7 w-7 sm:h-8 sm:w-8 text-green-600"}),"Decide Game Result"]}),o.jsx("p",{className:"text-sm sm:text-lg text-green-600 mt-1",children:"Select a table and result type to configure its parameters."})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border-2 border-green-200",children:[N&&o.jsx("div",{className:`border px-4 py-3 rounded-xl relative mb-6 text-center shadow-sm ${N.type==="success"?"bg-green-100 border-green-400 text-green-800":"bg-red-100 border-red-400 text-red-800"}`,children:N.message}),o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"selectedTable",className:"block text-base font-semibold text-gray-700 mb-2",children:"Choose Table"}),o.jsx("select",{id:"selectedTable",value:n,onChange:v=>{const _=v.target.value;r(_),w(_,e),P(null)},disabled:p,className:"w-full px-4 py-2.5 sm:py-3 text-sm sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition bg-white disabled:bg-gray-100",children:p?o.jsx("option",{children:"Loading tables..."}):e.map(v=>o.jsx("option",{value:v._id,children:v.name.toUpperCase()},v._id))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resultType",className:"block text-base font-semibold text-gray-700 mb-2",children:"Result Type"}),o.jsxs("select",{id:"resultType",value:s,onChange:S,className:"w-full px-4 py-2.5 sm:py-3 text-sm sm:text-base border-2 border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition bg-white",children:[o.jsx("option",{value:"FIX",children:"FIX"}),o.jsx("option",{value:"NET",children:"NET"}),o.jsx("option",{value:"ENDPOINTS",children:"ENDPOINTS"}),o.jsx("option",{value:"RND",children:"RND"}),o.jsx("option",{value:"ROUND",children:"ROUND"})]})]}),o.jsx("hr",{className:"border-gray-200"}),o.jsxs("div",{className:"animate-fadeIn",children:[s==="FIX"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h2",{className:"font-semibold text-base sm:text-lg text-gray-800 flex items-center gap-2",children:[o.jsx(Hv,{size:20})," Configure FIX Result"]}),o.jsx(Mr,{id:"fixNumber",label:"Winning Number",type:"number",value:l,onChange:v=>i(v.target.value),placeholder:"0-36",required:!0,min:0,max:37})]}),(s==="NET"||s==="ENDPOINTS")&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h2",{className:"font-semibold text-base sm:text-lg text-gray-800 flex items-center gap-2",children:[s==="NET"?o.jsx(Fv,{size:20}):o.jsx(Qv,{size:20}),"Configure ",s," Result"]}),o.jsx(Mr,{id:"netStartDate",label:"Start Date",type:"date",value:u,onChange:v=>c(v.target.value)}),o.jsx(Mr,{id:"netEndDate",label:"End Date",type:"date",value:d,onChange:v=>m(v.target.value)}),o.jsx(Mr,{id:"netPercentage",label:"Percentage",type:"number",value:x,onChange:v=>E(v.target.value),placeholder:"e.g., 75",required:!0})]}),s==="ROUND"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h2",{className:"font-semibold text-base sm:text-lg text-gray-800 flex items-center gap-2",children:[o.jsx(zh,{size:20})," Configure ROUND Result"]}),o.jsx(Mr,{id:"roundPercentage",label:"Percentage",type:"number",value:h,onChange:v=>b(v.target.value),placeholder:"e.g., 50",required:!0})]}),s==="RND"&&o.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[o.jsxs("h2",{className:"font-semibold text-base sm:text-lg text-gray-800 flex items-center justify-center gap-2",children:[o.jsx(Kv,{size:20})," RND (Random) Result"]}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"No further configuration is needed. The result will be generated randomly."})]})]}),o.jsx("div",{className:"pt-4",children:o.jsx("button",{type:"submit",disabled:j||p,className:"w-full px-6 sm:px-8 py-2.5 sm:py-3 text-base sm:text-lg font-bold text-white rounded-xl transition-all duration-300 shadow-lg disabled:cursor-not-allowed disabled:bg-green-300 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-7R00 transform hover:scale-105",children:j?"Submitting...":"Submit Result"})})]})]})]})})}class jb{static async updateAppVersion(t){return se.privateRequest({method:"POST",url:ae.Version.UPDATE_VERSION,data:t})}}function Sb(){const[e,t]=f.useState(""),[n,r]=f.useState(!1),[s,a]=f.useState(null),[l,i]=f.useState(null);f.useEffect(()=>{let d;return(l||s)&&(d=window.setTimeout(()=>{i(null),a(null)},5e3)),()=>{d!==void 0&&clearTimeout(d)}},[l,s]);const u=async d=>{if(d.preventDefault(),n)return;a(null),i(null);const m=e.trim();if(!m){a("Please enter a version number.");return}r(!0);try{const x=await jb.updateAppVersion({version:m});x.success&&x.data?(i("Version updated successfully"),t("")):a(x.message||"An unexpected error occurred.")}catch(x){console.error("Failed to update version:",x),a(x.message||"A network error occurred. Please try again.")}finally{r(!1)}},c=d=>{t(d.target.value),s&&a(null),l&&i(null)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-full font-sans",children:[o.jsx("h1",{className:"text-xl md:text-3xl font-bold text-green-800 mb-6 md:mb-8",children:"App Version Control"}),o.jsx("div",{className:"mt-18 bg-white p-5 sm:p-6 rounded-2xl shadow-lg border border-green-100 max-w-2xl mx-auto",children:o.jsxs("form",{onSubmit:u,noValidate:!0,children:[o.jsxs("div",{className:"mb-6 text-center space-y-4",children:[s&&o.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2.5 sm:p-3 rounded-lg flex items-center justify-center gap-2",children:[o.jsx(ze,{size:16}),s]}),l&&o.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-2.5 sm:py-3 rounded-xl relative flex items-center shadow-md",role:"alert",children:[o.jsx(Ts,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2 sm:mr-3 flex-shrink-0"}),o.jsx("p",{className:"text-sm lg:text-base",children:l})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"version",className:"block text-sm md:text-md font-medium text-gray-700 mb-2",children:"Set Minimum Frontend Version"}),o.jsx("input",{type:"text",id:"version",name:"version",value:e,onChange:c,placeholder:"e.g., 1.1.0",className:"w-full px-4 py-2.5 sm:py-3 text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]}),o.jsx("div",{className:"mt-8 flex justify-center gap-4",children:o.jsx("button",{type:"submit",disabled:n,className:"w-full md:w-auto px-6 py-2.5 text-base md:px-20 md:py-3 md:text-xl font-bold text-white rounded-xl transition-all duration-200 transform shadow-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Version"})})]})})]})}function Nl({allowedRoles:e,children:t}){const n=localStorage.getItem("userRole")||"";return e.includes(n)?t:o.jsx(nr,{to:"/",replace:!0})}function kb(){return o.jsx(Vx,{children:o.jsxs(bx,{children:[o.jsx(Q,{path:F.initialRoute,element:o.jsx(Av,{})}),o.jsx(Q,{path:F.forgotPasswordRoute,element:o.jsx(ew,{})}),o.jsxs(Q,{path:F.AdminDashboard,element:o.jsx(Nl,{allowedRoles:["admin"],children:o.jsx(Pv,{})}),children:[o.jsx(Q,{index:!0,element:o.jsx(nl,{})}),o.jsx(Q,{path:F.GameUI,element:o.jsx(bl,{})}),o.jsx(Q,{path:F.VersionUpdate,element:o.jsx(Sb,{})}),o.jsx(Q,{path:F.CreateAgentOrSubagent,element:o.jsx(sl,{})}),o.jsx(Q,{path:F.DecideResult,element:o.jsx(Nb,{})}),o.jsx(Q,{path:F.UpdateCommission,element:o.jsx(Nd,{})}),o.jsx(Q,{path:F.UpdateStatusPage,element:o.jsx(ol,{})}),o.jsx(Q,{path:F.ListUsersPage,element:o.jsx(cl,{})}),o.jsx(Q,{path:F.resetPasswordRoute,element:o.jsx(tl,{})}),o.jsx(Q,{path:F.SearchUser,element:o.jsx(al,{})}),o.jsx(Q,{path:F.BalanceAdjustment,element:o.jsx(il,{})}),o.jsx(Q,{path:F.KickoffUser,element:o.jsx(ul,{})}),o.jsx(Q,{path:F.PointFile,element:o.jsx(dl,{})}),o.jsx(Q,{path:F.InPoints,element:o.jsx(pl,{})}),o.jsx(Q,{path:F.OutPoints,element:o.jsx(fl,{})}),o.jsx(Q,{path:F.GameHistory,element:o.jsx(ml,{})}),o.jsx(Q,{path:F.TurnOver,element:o.jsx(hl,{})})]}),o.jsxs(Q,{path:F.AgentDashboard,element:o.jsx(Nl,{allowedRoles:["agent"],children:o.jsx(_v,{})}),children:[o.jsx(Q,{index:!0,element:o.jsx(nl,{})}),o.jsx(Q,{path:F.CreateSubAgent,element:o.jsx(sl,{})}),o.jsx(Q,{path:F.GameUI,element:o.jsx(bl,{})}),o.jsx(Q,{path:F.SearchUser,element:o.jsx(al,{})}),o.jsx(Q,{path:F.UpdateCommission,element:o.jsx(Nd,{})}),o.jsx(Q,{path:F.BalanceAdjustment,element:o.jsx(il,{})}),o.jsx(Q,{path:F.KickoffUser,element:o.jsx(ul,{})}),o.jsx(Q,{path:F.PointFile,element:o.jsx(dl,{})}),o.jsx(Q,{path:F.InPoints,element:o.jsx(pl,{})}),o.jsx(Q,{path:F.OutPoints,element:o.jsx(fl,{})}),o.jsx(Q,{path:F.GameHistory,element:o.jsx(ml,{})}),o.jsx(Q,{path:F.TurnOver,element:o.jsx(hl,{})}),o.jsx(Q,{path:F.UpdateStatusPage,element:o.jsx(ol,{})}),o.jsx(Q,{path:F.ListUsersPage,element:o.jsx(cl,{})}),o.jsx(Q,{path:F.resetPasswordRoute,element:o.jsx(tl,{})})]}),o.jsxs(Q,{path:F.SubAgentDashboard,element:o.jsx(Nl,{allowedRoles:["sub-agent"],children:o.jsx(Lv,{})}),children:[o.jsx(Q,{index:!0,element:o.jsx(nl,{})}),o.jsx(Q,{path:F.CreateUser,element:o.jsx(sl,{})}),o.jsx(Q,{path:F.GameUI,element:o.jsx(bl,{})}),o.jsx(Q,{path:F.UpdateStatusPage,element:o.jsx(ol,{})}),o.jsx(Q,{path:F.ListUsersPage,element:o.jsx(cl,{})}),o.jsx(Q,{path:F.resetPasswordRoute,element:o.jsx(tl,{})}),o.jsx(Q,{path:F.SearchUser,element:o.jsx(al,{})}),o.jsx(Q,{path:F.BalanceAdjustment,element:o.jsx(il,{})}),o.jsx(Q,{path:F.KickoffUser,element:o.jsx(ul,{})}),o.jsx(Q,{path:F.PointFile,element:o.jsx(dl,{})}),o.jsx(Q,{path:F.InPoints,element:o.jsx(pl,{})}),o.jsx(Q,{path:F.OutPoints,element:o.jsx(fl,{})}),o.jsx(Q,{path:F.GameHistory,element:o.jsx(ml,{})}),o.jsx(Q,{path:F.TurnOver,element:o.jsx(hl,{})})]}),o.jsx(Q,{path:"/dashboard",element:o.jsx(Eb,{})}),o.jsx(Q,{path:"*",element:o.jsx(nr,{to:"/",replace:!0})})]})})}function Eb(){switch(localStorage.getItem("userRole")||""){case"admin":return o.jsx(nr,{to:F.AdminDashboard,replace:!0});case"agent":return o.jsx(nr,{to:F.AgentDashboard,replace:!0});case"subagent":return o.jsx(nr,{to:F.SubAgentDashboard,replace:!0});default:return o.jsx(nr,{to:"/",replace:!0})}}function Cb(){return o.jsx("div",{className:"w-full h-full",children:o.jsx(kb,{})})}jl.createRoot(document.getElementById("root")).render(o.jsx(Yo.StrictMode,{children:o.jsx(Cb,{})}));
